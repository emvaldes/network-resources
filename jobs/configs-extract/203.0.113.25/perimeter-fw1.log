+ oIFS=' 	
'
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --config=reports/203.0.113.25/cisco/.objects/perimeter-fw1.list
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ config =~ ^(config|c)$ ]]
+ export config_filename=reports/203.0.113.25/cisco/.objects/perimeter-fw1.list
+ config_filename=reports/203.0.113.25/cisco/.objects/perimeter-fw1.list
+ [[ config =~ ^(search|s)$ ]]
+ [[ config =~ ^(listing|g)$ ]]
+ [[ config =~ ^(output|o)$ ]]
+ [[ config =~ ^(logger|l)$ ]]
+ [[ config == \d\e\b\u\g ]]
+ [[ config == \d\r\y\-\r\u\n ]]
+ [[ config == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --search=203.0.113.25
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ search =~ ^(config|c)$ ]]
+ [[ search =~ ^(search|s)$ ]]
+ local target_pattern=203.0.113.25
+ [[ search =~ ^(listing|g)$ ]]
+ [[ search =~ ^(output|o)$ ]]
+ [[ search =~ ^(logger|l)$ ]]
+ [[ search == \d\e\b\u\g ]]
+ [[ search == \d\r\y\-\r\u\n ]]
+ [[ search == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --listing=targets/203.0.113.25.json
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ listing =~ ^(config|c)$ ]]
+ [[ listing =~ ^(search|s)$ ]]
+ [[ listing =~ ^(listing|g)$ ]]
+ local target_listing=targets/203.0.113.25.json
+ [[ listing =~ ^(output|o)$ ]]
+ [[ listing =~ ^(logger|l)$ ]]
+ [[ listing == \d\e\b\u\g ]]
+ [[ listing == \d\r\y\-\r\u\n ]]
+ [[ listing == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --output=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25/fragments--perimeter-fw1.list--14630.json
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ output =~ ^(config|c)$ ]]
+ [[ output =~ ^(search|s)$ ]]
+ [[ output =~ ^(listing|g)$ ]]
+ [[ output =~ ^(output|o)$ ]]
+ local json_output=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25/fragments--perimeter-fw1.list--14630.json
+ [[ output =~ ^(logger|l)$ ]]
+ [[ output == \d\e\b\u\g ]]
+ [[ output == \d\r\y\-\r\u\n ]]
+ [[ output == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.console
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ logger =~ ^(config|c)$ ]]
+ [[ logger =~ ^(search|s)$ ]]
+ [[ logger =~ ^(listing|g)$ ]]
+ [[ logger =~ ^(output|o)$ ]]
+ [[ logger =~ ^(logger|l)$ ]]
+ local target_console=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.console
+ [[ logger == \d\e\b\u\g ]]
+ [[ logger == \d\r\y\-\r\u\n ]]
+ [[ logger == \v\e\r\b\o\s\e ]]
+ IFS=' 	
'
+ [[ -z true ]]
+ [[ -z false ]]
+ [[ -z true ]]
+ [[ -z /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.console ]]
+ local target_console=console/configs-extract.console
++ basename reports/203.0.113.25/cisco/.objects/perimeter-fw1.list
+ local target_object=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects
+ :
+ mapfile -t imported_content
++ sed '/^\s*$/d' reports/203.0.113.25/cisco/.objects/perimeter-fw1.list
+ message 'Divisor: [--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--]'
+ [[ -n Divisor: [--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--] ]]
+ local 'message=Divisor: [--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--]'
+ echo -e 'Divisor: [--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--]'
+ cat -vet
Divisor: [--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--]$
+ [[ true == true ]]
+ message 'Imported Configuration(s): '
+ [[ -n Imported Configuration(s):  ]]
+ local 'message=Imported Configuration(s): '
+ echo -e 'Imported Configuration(s): '
Imported Configuration(s): 
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for object in "${imported_content[@]}"
+ message 'interface GigabitEthernet0/0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  nameif outside--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  security-level 0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 203.0.113.25 255.255.255.0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description External Internet-facing Interface'
+ cat -n
+ [[ -n interface GigabitEthernet0/0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  nameif outside--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  security-level 0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 203.0.113.25 255.255.255.0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description External Internet-facing Interface ]]
+ local 'message=interface GigabitEthernet0/0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  nameif outside--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  security-level 0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 203.0.113.25 255.255.255.0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description External Internet-facing Interface'
+ echo -e 'interface GigabitEthernet0/0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  nameif outside--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  security-level 0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 203.0.113.25 255.255.255.0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description External Internet-facing Interface'
+ for object in "${imported_content[@]}"
+ message 'object network NAT-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-bound IP NAT'
+ [[ -n object network NAT-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-bound IP NAT ]]
+ local 'message=object network NAT-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-bound IP NAT'
+ echo -e 'object network NAT-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-bound IP NAT'
+ for object in "${imported_content[@]}"
+ message 'object-group network Avengers-DMZ--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Public access layer--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 192.0.2.50--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object 192.168.2.0 255.255.255.0'
+ [[ -n object-group network Avengers-DMZ--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Public access layer--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 192.0.2.50--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object 192.168.2.0 255.255.255.0 ]]
+ local 'message=object-group network Avengers-DMZ--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Public access layer--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 192.0.2.50--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object 192.168.2.0 255.255.255.0'
+ echo -e 'object-group network Avengers-DMZ--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Public access layer--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 192.0.2.50--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object 192.168.2.0 255.255.255.0'
+ for object in "${imported_content[@]}"
+ message 'object-group network Panther-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-facing proxy systems--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 172.16.0.5'
+ [[ -n object-group network Panther-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-facing proxy systems--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 172.16.0.5 ]]
+ local 'message=object-group network Panther-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-facing proxy systems--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 172.16.0.5'
+ echo -e 'object-group network Panther-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-facing proxy systems--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 172.16.0.5'
     1	interface GigabitEthernet0/0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  nameif outside--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  security-level 0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 203.0.113.25 255.255.255.0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description External Internet-facing Interface
     2	object network NAT-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-bound IP NAT
     3	object-group network Avengers-DMZ--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Public access layer--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 192.0.2.50--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object 192.168.2.0 255.255.255.0
     4	object-group network Panther-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-facing proxy systems--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 172.16.0.5
+ local configs_obj2json__script=configs-obj2json
+ local obj2json_location=jobs/configs-obj2json/203.0.113.25
+ mkdir -p jobs/configs-obj2json/203.0.113.25
++ basename reports/203.0.113.25/cisco/.objects/perimeter-fw1.list
+ local cfg_basename=perimeter-fw1.list
+ local logging_filename=perimeter-fw1
+ expanded_content=()
+ local -a expanded_content
+ for block in "${imported_content[@]}"
+ [[ interface GigabitEthernet0/0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  nameif outside--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  security-level 0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 203.0.113.25 255.255.255.0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description External Internet-facing Interface =~ ^config[[:space:]] ]]
+ expanded_content+=("${block}")
+ for block in "${imported_content[@]}"
+ [[ object network NAT-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-bound IP NAT =~ ^config[[:space:]] ]]
+ expanded_content+=("${block}")
+ for block in "${imported_content[@]}"
+ [[ object-group network Avengers-DMZ--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Public access layer--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 192.0.2.50--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object 192.168.2.0 255.255.255.0 =~ ^config[[:space:]] ]]
+ expanded_content+=("${block}")
+ for block in "${imported_content[@]}"
+ [[ object-group network Panther-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-facing proxy systems--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 172.16.0.5 =~ ^config[[:space:]] ]]
+ expanded_content+=("${block}")
+ imported_content=("${expanded_content[@]}")
+ for serialized_object in "${imported_content[@]}"
+ local rel_path=cisco/.objects/perimeter-fw1.list
+ local device_location=cisco
+ local device_filename=perimeter-fw1.list
+ local objects_dir=reports/203.0.113.25/cisco
+ local objects_file=reports/203.0.113.25/cisco/perimeter-fw1.list
+ local configs_obj2json__console=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json
+ configs_obj2json__console+=--203.0.113.25--cisco--perimeter-fw1.console
+ local configs_obj2json__logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1
+ configs_obj2json --search=203.0.113.25 '--source=interface GigabitEthernet0/0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  nameif outside--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  security-level 0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 203.0.113.25 255.255.255.0--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description External Internet-facing Interface' --target=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects --logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json--203.0.113.25--cisco--perimeter-fw1.console
+ [[ -s /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects ]]
+ companion_config=('reports/203.0.113.25/cisco/perimeter-fw1.cfg')
+ local companion_config
++ awk '
                BEGIN { in_json = 0 }
                /^[[:space:]]*{/ { in_json = 1 }
                in_json { print }
                /^[[:space:]]*}/ { exit }
              ' reports/203.0.113.25/cisco/perimeter-fw1.cfg
++ jq .
+ local 'specs_block={
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}'
+++ basename -s .list perimeter-fw1.list
++ jq --slurp --arg site cisco --arg device perimeter-fw1 --argjson specs '{
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}' '{
              site: ( $site | gsub("^.*/"; "") ),
              specs: $specs,
              device: $device,
              objects: .
            }' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects
+ wrapped_block='{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    }
  ]
}'
+ [[ true == true ]]
+ jq -e .
++ dirname /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25/fragments--perimeter-fw1.list--14630.json
+ mkdir -p /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25
+ printf '%s\n' '{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    }
  ]
}'
+ for serialized_object in "${imported_content[@]}"
+ local rel_path=cisco/.objects/perimeter-fw1.list
+ local device_location=cisco
+ local device_filename=perimeter-fw1.list
+ local objects_dir=reports/203.0.113.25/cisco
+ local objects_file=reports/203.0.113.25/cisco/perimeter-fw1.list
+ local configs_obj2json__console=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json
+ configs_obj2json__console+=--203.0.113.25--cisco--perimeter-fw1.console
+ local configs_obj2json__logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1
+ configs_obj2json --search=203.0.113.25 '--source=object network NAT-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-bound IP NAT' --target=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects --logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json--203.0.113.25--cisco--perimeter-fw1.console
+ [[ -s /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects ]]
+ companion_config=('reports/203.0.113.25/cisco/perimeter-fw1.cfg')
+ local companion_config
++ awk '
                BEGIN { in_json = 0 }
                /^[[:space:]]*{/ { in_json = 1 }
                in_json { print }
                /^[[:space:]]*}/ { exit }
              ' reports/203.0.113.25/cisco/perimeter-fw1.cfg
++ jq .
+ local 'specs_block={
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}'
+++ basename -s .list perimeter-fw1.list
++ jq --slurp --arg site cisco --arg device perimeter-fw1 --argjson specs '{
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}' '{
              site: ( $site | gsub("^.*/"; "") ),
              specs: $specs,
              device: $device,
              objects: .
            }' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects
+ wrapped_block='{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object",
      "type": "network",
      "partner": "NAT-Edge",
      "description": "Internet-bound IP NAT",
      "items": [
        "host 203.0.113.25"
      ],
      "others": [],
      "group": "Unclassified"
    }
  ]
}'
+ [[ true == true ]]
+ jq -e .
++ dirname /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25/fragments--perimeter-fw1.list--14630.json
+ mkdir -p /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25
+ printf '%s\n' '{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object",
      "type": "network",
      "partner": "NAT-Edge",
      "description": "Internet-bound IP NAT",
      "items": [
        "host 203.0.113.25"
      ],
      "others": [],
      "group": "Unclassified"
    }
  ]
}'
+ for serialized_object in "${imported_content[@]}"
+ local rel_path=cisco/.objects/perimeter-fw1.list
+ local device_location=cisco
+ local device_filename=perimeter-fw1.list
+ local objects_dir=reports/203.0.113.25/cisco
+ local objects_file=reports/203.0.113.25/cisco/perimeter-fw1.list
+ local configs_obj2json__console=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json
+ configs_obj2json__console+=--203.0.113.25--cisco--perimeter-fw1.console
+ local configs_obj2json__logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1
+ configs_obj2json --search=203.0.113.25 '--source=object-group network Avengers-DMZ--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Public access layer--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 192.0.2.50--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object 192.168.2.0 255.255.255.0' --target=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects --logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json--203.0.113.25--cisco--perimeter-fw1.console
+ [[ -s /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects ]]
+ companion_config=('reports/203.0.113.25/cisco/perimeter-fw1.cfg')
+ local companion_config
++ awk '
                BEGIN { in_json = 0 }
                /^[[:space:]]*{/ { in_json = 1 }
                in_json { print }
                /^[[:space:]]*}/ { exit }
              ' reports/203.0.113.25/cisco/perimeter-fw1.cfg
++ jq .
+ local 'specs_block={
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}'
+++ basename -s .list perimeter-fw1.list
++ jq --slurp --arg site cisco --arg device perimeter-fw1 --argjson specs '{
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}' '{
              site: ( $site | gsub("^.*/"; "") ),
              specs: $specs,
              device: $device,
              objects: .
            }' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects
+ wrapped_block='{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object",
      "type": "network",
      "partner": "NAT-Edge",
      "description": "Internet-bound IP NAT",
      "items": [
        "host 203.0.113.25"
      ],
      "others": [],
      "group": "Unclassified"
    },
    {
      "object": "object-group",
      "type": "network",
      "partner": "Avengers-DMZ",
      "description": "Public access layer",
      "items": [
        "network-object host 203.0.113.25"
      ],
      "others": [
        "network-object host 192.0.2.50",
        "network-object 192.168.2.0 255.255.255.0"
      ],
      "group": "Unclassified"
    }
  ]
}'
+ [[ true == true ]]
+ jq -e .
++ dirname /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25/fragments--perimeter-fw1.list--14630.json
+ mkdir -p /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25
+ printf '%s\n' '{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object",
      "type": "network",
      "partner": "NAT-Edge",
      "description": "Internet-bound IP NAT",
      "items": [
        "host 203.0.113.25"
      ],
      "others": [],
      "group": "Unclassified"
    },
    {
      "object": "object-group",
      "type": "network",
      "partner": "Avengers-DMZ",
      "description": "Public access layer",
      "items": [
        "network-object host 203.0.113.25"
      ],
      "others": [
        "network-object host 192.0.2.50",
        "network-object 192.168.2.0 255.255.255.0"
      ],
      "group": "Unclassified"
    }
  ]
}'
+ for serialized_object in "${imported_content[@]}"
+ local rel_path=cisco/.objects/perimeter-fw1.list
+ local device_location=cisco
+ local device_filename=perimeter-fw1.list
+ local objects_dir=reports/203.0.113.25/cisco
+ local objects_file=reports/203.0.113.25/cisco/perimeter-fw1.list
+ local configs_obj2json__console=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json
+ configs_obj2json__console+=--203.0.113.25--cisco--perimeter-fw1.console
+ local configs_obj2json__logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1
+ configs_obj2json --search=203.0.113.25 '--source=object-group network Panther-Edge--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  description Internet-facing proxy systems--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 203.0.113.25--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  network-object host 172.16.0.5' --target=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects --logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json--203.0.113.25--cisco--perimeter-fw1.console
+ [[ -s /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects ]]
+ companion_config=('reports/203.0.113.25/cisco/perimeter-fw1.cfg')
+ local companion_config
++ awk '
                BEGIN { in_json = 0 }
                /^[[:space:]]*{/ { in_json = 1 }
                in_json { print }
                /^[[:space:]]*}/ { exit }
              ' reports/203.0.113.25/cisco/perimeter-fw1.cfg
++ jq .
+ local 'specs_block={
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}'
+++ basename -s .list perimeter-fw1.list
++ jq --slurp --arg site cisco --arg device perimeter-fw1 --argjson specs '{
  "vendor": "cisco",
  "model": "ASA",
  "version": "9.14(3)",
  "domain": "edge.dc.example.com",
  "hostname": "perimeter-fw1"
}' '{
              site: ( $site | gsub("^.*/"; "") ),
              specs: $specs,
              device: $device,
              objects: .
            }' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/perimeter-fw1.list.objects
+ wrapped_block='{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object",
      "type": "network",
      "partner": "NAT-Edge",
      "description": "Internet-bound IP NAT",
      "items": [
        "host 203.0.113.25"
      ],
      "others": [],
      "group": "Unclassified"
    },
    {
      "object": "object-group",
      "type": "network",
      "partner": "Avengers-DMZ",
      "description": "Public access layer",
      "items": [
        "network-object host 203.0.113.25"
      ],
      "others": [
        "network-object host 192.0.2.50",
        "network-object 192.168.2.0 255.255.255.0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object-group",
      "type": "network",
      "partner": "Panther-Edge",
      "description": "Internet-facing proxy systems",
      "items": [
        "network-object host 203.0.113.25"
      ],
      "others": [
        "network-object host 172.16.0.5"
      ],
      "group": "Unclassified"
    }
  ]
}'
+ [[ true == true ]]
+ jq -e .
++ dirname /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25/fragments--perimeter-fw1.list--14630.json
+ mkdir -p /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/203.0.113.25
+ printf '%s\n' '{
  "site": "cisco",
  "specs": {
    "vendor": "cisco",
    "model": "ASA",
    "version": "9.14(3)",
    "domain": "edge.dc.example.com",
    "hostname": "perimeter-fw1"
  },
  "device": "perimeter-fw1",
  "objects": [
    {
      "object": "interface",
      "type": "GigabitEthernet0/0",
      "partner": false,
      "description": "External Internet-facing Interface",
      "items": [
        "ip address 203.0.113.25 255.255.255.0"
      ],
      "others": [
        "nameif outside",
        "security-level 0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object",
      "type": "network",
      "partner": "NAT-Edge",
      "description": "Internet-bound IP NAT",
      "items": [
        "host 203.0.113.25"
      ],
      "others": [],
      "group": "Unclassified"
    },
    {
      "object": "object-group",
      "type": "network",
      "partner": "Avengers-DMZ",
      "description": "Public access layer",
      "items": [
        "network-object host 203.0.113.25"
      ],
      "others": [
        "network-object host 192.0.2.50",
        "network-object 192.168.2.0 255.255.255.0"
      ],
      "group": "Unclassified"
    },
    {
      "object": "object-group",
      "type": "network",
      "partner": "Panther-Edge",
      "description": "Internet-facing proxy systems",
      "items": [
        "network-object host 203.0.113.25"
      ],
      "others": [
        "network-object host 172.16.0.5"
      ],
      "group": "Unclassified"
    }
  ]
}'
+ local configs_obj2json__console=console/configs-obj2json.console
+ local 'search_pattern=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json--203.0.113.25--*.console'
+ :
+ for obj_console in ${search_pattern}
+ [[ -f /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.90hwuJyGl8/configs-obj2json--203.0.113.25--*.console ]]
+ cp -v console/configs-obj2json.console console/configs-obj2json.console
cp: console/configs-obj2json.console and console/configs-obj2json.console are identical (not copied).
