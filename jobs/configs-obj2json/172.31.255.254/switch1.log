+ oIFS=' 	
'
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --search=172.31.255.254
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ search =~ ^(search|s)$ ]]
+ local target_pattern=172.31.255.254
+ [[ search =~ ^(source|o)$ ]]
+ [[ search =~ ^(target|t)$ ]]
+ [[ search =~ ^(logger|l)$ ]]
+ [[ search == \d\e\b\u\g ]]
+ [[ search == \d\r\y\-\r\u\n ]]
+ [[ search == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e '--source=interface Vlan1--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 172.31.255.254 255.255.255.0'
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ source =~ ^(search|s)$ ]]
+ [[ source =~ ^(source|o)$ ]]
+ local 'source_object=interface Vlan1--ZGV2b3BzLXJlc291cmNlcy5zaGVsbA--  ip address 172.31.255.254 255.255.255.0'
+ [[ source =~ ^(target|t)$ ]]
+ [[ source =~ ^(logger|l)$ ]]
+ [[ source == \d\e\b\u\g ]]
+ [[ source == \d\r\y\-\r\u\n ]]
+ [[ source == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --target=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.X0CG1HZyIo/switch1.list.objects
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ target =~ ^(search|s)$ ]]
+ [[ target =~ ^(source|o)$ ]]
+ [[ target =~ ^(target|t)$ ]]
+ local target_object=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.X0CG1HZyIo/switch1.list.objects
+ [[ target =~ ^(logger|l)$ ]]
+ [[ target == \d\e\b\u\g ]]
+ [[ target == \d\r\y\-\r\u\n ]]
+ [[ target == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --logger=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.X0CG1HZyIo/configs-obj2json--172.31.255.254--misc--switch1.console
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ logger =~ ^(search|s)$ ]]
+ [[ logger =~ ^(source|o)$ ]]
+ [[ logger =~ ^(target|t)$ ]]
+ [[ logger =~ ^(logger|l)$ ]]
+ local target_console=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.X0CG1HZyIo/configs-obj2json--172.31.255.254--misc--switch1.console
+ [[ logger == \d\e\b\u\g ]]
+ [[ logger == \d\r\y\-\r\u\n ]]
+ [[ logger == \v\e\r\b\o\s\e ]]
+ IFS=' 	
'
+ [[ -z true ]]
+ [[ -z false ]]
+ [[ -z true ]]
+ local target_console=console/configs-obj2json.console
+ mapfile -t restored_block
++ printf '%s\n' 'interface Vlan1
  ip address 172.31.255.254 255.255.255.0'
+ local 'object_header=interface Vlan1'
+ local object_keyword type_value partner_value
+ read -a header_tokens
+ object_keyword=interface
+ [[ interface == \c\o\n\f\i\g ]]
+ ((  2 == 3  ))
+ ((  2 > 3  ))
+ type_value=Vlan1
+ partner_value=false
+ data_sets=()
+ local -a data_sets
+ local description_value=false
+ for line in "${restored_block[@]}"
++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
+ local 'trimmed=interface Vlan1'
+ [[ -z interface Vlan1 ]]
+ [[ interface vlan1 =~ ^description[[:space:]] ]]
+ [[ interface vlan1 =~ ^edit[[:space:]]+".+" ]]
+ [[ interface vlan1 =~ ^set[[:space:]]+comment[[:space:]] ]]
+ [[ interface vlan1 == \n\e\x\t ]]
+ [[ interface vlan1 == \e\n\d ]]
+ data_sets+=("${trimmed}")
+ for line in "${restored_block[@]}"
++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
+ local 'trimmed=ip address 172.31.255.254 255.255.255.0'
+ [[ -z ip address 172.31.255.254 255.255.255.0 ]]
+ [[ ip address 172.31.255.254 255.255.255.0 =~ ^description[[:space:]] ]]
+ [[ ip address 172.31.255.254 255.255.255.0 =~ ^edit[[:space:]]+".+" ]]
+ [[ ip address 172.31.255.254 255.255.255.0 =~ ^set[[:space:]]+comment[[:space:]] ]]
+ [[ ip address 172.31.255.254 255.255.255.0 == \n\e\x\t ]]
+ [[ ip address 172.31.255.254 255.255.255.0 == \e\n\d ]]
+ data_sets+=("${trimmed}")
+ [[ interface Vlan1 == \i\n\t\e\r\f\a\c\e\ \V\l\a\n\1 ]]
+ data_sets=("${data_sets[@]:1}")
+ items=()
+ local -a items
+ others=()
+ local -a others
+ for line in "${data_sets[@]}"
+ grep -Eq '(^|[^0-9.])172\.31\.255\.254([^0-9.]|$)'
+ items+=("$(sed -E 's/^[[:space:]]+//;s/[[:space:]]+$//' <<< "${line}")")
++ sed -E 's/^[[:space:]]+//;s/[[:space:]]+$//'
++ printf '%s\n' 'ip address 172.31.255.254 255.255.255.0'
++ jq -R .
++ jq --slurp .
+ local 'items_json=[
  "ip address 172.31.255.254 255.255.255.0"
]'
++ printf '%s\n'
++ sed '/^[[:space:]]*$/d'
++ jq -R .
++ jq --slurp .
+ local 'others_json=[]'
+ local group_value=Unclassified
+ [[ true == true ]]
+ local object_key
++ awk '{print $NF}'
++ sed -E 's/[[:punct:]]*$//'
+ object_key=Vlan1
++ jq -r --arg key Vlan1 'map( select( .match[]? | contains( $key ) ) ) | .[0].group'
+ group_value=Business-Unit-Networks
+ [[ -z Business-Unit-Networks ]]
+ [[ Business-Unit-Networks == \n\u\l\l ]]
+ [[ -z Business-Unit-Networks ]]
+ [[ Business-Unit-Networks == \n\u\l\l ]]
++ jq -n --arg object interface --arg type Vlan1 --arg partner false --arg description false --argjson items '[
  "ip address 172.31.255.254 255.255.255.0"
]' --argjson others '[]' --arg group Business-Unit-Networks '{
          object: $object,
          type: ( $type // false ),
          partner: ( $partner | select(. != "" and . != "null" and . != "false") // false ),
          description: ( $description | select(. != "" and . != "null" and . != "false") // false ),
          items: $items,
          others: $others,
          group: $group
        }'
+ local 'target_json={
  "object": "interface",
  "type": "Vlan1",
  "partner": false,
  "description": false,
  "items": [
    "ip address 172.31.255.254 255.255.255.0"
  ],
  "others": [],
  "group": "Business-Unit-Networks"
}'
+ [[ true == true ]]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for object in "${restored_block[@]}"
+ message 'interface Vlan1'
+ [[ -n interface Vlan1 ]]
+ local 'message=interface Vlan1'
+ echo -e 'interface Vlan1'
+ for object in "${restored_block[@]}"
+ message '  ip address 172.31.255.254 255.255.255.0'
+ [[ -n   ip address 172.31.255.254 255.255.255.0 ]]
+ local 'message=  ip address 172.31.255.254 255.255.255.0'
+ echo -e '  ip address 172.31.255.254 255.255.255.0'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ message 'JSON Object (output):'
+ [[ -n JSON Object (output): ]]
+ local 'message=JSON Object (output):'
+ echo -e 'JSON Object (output):'
+ jq -r .
+ [[ -n {
  "object": "interface",
  "type": "Vlan1",
  "partner": false,
  "description": false,
  "items": [
    "ip address 172.31.255.254 255.255.255.0"
  ],
  "others": [],
  "group": "Business-Unit-Networks"
} ]]
+ jq -r .
+ cat -n /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.X0CG1HZyIo/switch1.list.objects
     1	{
     2	  "object": "interface",
     3	  "type": "Vlan10",
     4	  "partner": false,
     5	  "description": false,
     6	  "items": [
     7	    "ip address 10.0.1.2 255.255.255.0"
     8	  ],
     9	  "others": [],
    10	  "group": "Unclassified"
    11	}
    12	{
    13	  "object": "interface",
    14	  "type": "Vlan1",
    15	  "partner": false,
    16	  "description": false,
    17	  "items": [
    18	    "ip address 172.31.255.254 255.255.255.0"
    19	  ],
    20	  "others": [],
    21	  "group": "Business-Unit-Networks"
    22	}
+ return 0
