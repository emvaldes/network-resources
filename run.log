$ rm -rf ./reports ./targets ./.cache ./.local ;
$ bash -x ./scripts/parse-listings.shell --verbose --debug --classify --logs ;
$ cat -n ./.local/jobs/10.0.0.1.job ;
# jq -r . ./reports/json/10.0.0.1.json ;

Tue May 13 14:32:51 MST 2025

+ set -euo pipefail
+ export LC_ALL=C
+ LC_ALL=C
++ mktemp -d
+ export TMP_DIR=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.n4HIEFVnn7
+ TMP_DIR=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.n4HIEFVnn7
+ trap '[[ -d "${TMP_DIR}" ]] && rm -rf "${TMP_DIR}"' EXIT
+ source ./scripts/tools-devops.shell
++ [[ -n '' ]]
++ readonly __TOOLS_DEVOPS_SOURCED=1
++ __TOOLS_DEVOPS_SOURCED=1
++ [[ 5 -lt 4 ]]
++ alias log-info=log_info
++ alias log-warn=log_warn
++ alias log-error=log_error
++ alias error-message=error_message
++ alias exit-error=exit_error
++ alias list-file=list_file
++ alias print-file=print_file
++ alias detect-platform=detect_platform
++ alias install-packages=install_packages
++ alias install-missing=install_missing
++ alias display-help=display_help_generic
++ alias relative-configpath=relative_configpath
++ alias validate-address=validate_address
++ export LC_ALL=C
++ LC_ALL=C
++ export 'nl=\n'
++ nl='\n'
++ local_state_dir=.local
++ mkdir -p .local/errors .local/jobs .local/stats
++ export stats_folder=.local/stats/
++ stats_folder=.local/stats/
++ export reports_logsfile=.local/stats//reports.jobs
++ reports_logsfile=.local/stats//reports.jobs
++ export started_logsfile=.local/stats//started.jobs
++ started_logsfile=.local/stats//started.jobs
++ export success_logsfile=.local/stats//success.jobs
++ success_logsfile=.local/stats//success.jobs
++ export targets_logsfile=.local/stats//targets.jobs
++ targets_logsfile=.local/stats//targets.jobs
+++ date +%s%N
+++ base64
+++ tr -dc a-zA-Z0-9
++ export divisor=MTc0NzE3MTk3MTUxNTE1ODAwMAo
++ divisor=MTc0NzE3MTk3MTUxNTE1ODAwMAo
++ print 'DEBUG: divisor = '\''MTc0NzE3MTk3MTUxNTE1ODAwMAo'\'''
++ [[ -n DEBUG: divisor = 'MTc0NzE3MTk3MTUxNTE1ODAwMAo' ]]
++ echo -en 'DEBUG: divisor = '\''MTc0NzE3MTk3MTUxNTE1ODAwMAo'\'''
DEBUG: divisor = 'MTc0NzE3MTk3MTUxNTE1ODAwMAo'+ source ./scripts/tools-listings.shell
++ [[ -n '' ]]
++ readonly __TOOLS_LISTINGS_SOURCED=1
++ __TOOLS_LISTINGS_SOURCED=1
++ alias generate-configslist=generate_configslist
++ alias generate-csvoutput=generate_csvoutput
++ alias manage-configs=manage_configs
++ alias matching-configs=matching_configs
++ alias parse-configs=parse_configs
+ alias parse-listings=main
+ export script_name=./scripts/parse-listings.shell
+ script_name=./scripts/parse-listings.shell
+ file_extensions=()
+ declare -a file_extensions
+ filtered_target_listing=()
+ declare -a filtered_target_listing
+ [[ 4 -ge 1 ]]
+ [[ --verbose =~ ^-*(h|help)$ ]]
+ main --verbose --debug --classify --logs
+ oIFS='
'
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --verbose
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ verbose =~ ^(classify|g)$ ]]
+ [[ verbose =~ ^(file-ext|x)$ ]]
+ [[ verbose =~ ^(configs|c)$ ]]
+ [[ verbose =~ ^(interval|l)$ ]]
+ [[ verbose =~ ^(ips-list|i)$ ]]
+ [[ verbose =~ ^(logs|o)$ ]]
+ [[ verbose =~ ^(jobs|j)$ ]]
+ [[ verbose =~ ^(matrix|m)$ ]]
+ [[ verbose =~ ^(reports|r)$ ]]
+ [[ verbose =~ ^(validate|v)$ ]]
+ [[ verbose == \h\e\l\p ]]
+ [[ verbose == \d\e\b\u\g ]]
+ [[ verbose == \d\r\y\-\r\u\n ]]
+ [[ verbose == \v\e\r\b\o\s\e ]]
+ local verbose=true
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --debug
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ debug =~ ^(classify|g)$ ]]
+ [[ debug =~ ^(file-ext|x)$ ]]
+ [[ debug =~ ^(configs|c)$ ]]
+ [[ debug =~ ^(interval|l)$ ]]
+ [[ debug =~ ^(ips-list|i)$ ]]
+ [[ debug =~ ^(logs|o)$ ]]
+ [[ debug =~ ^(jobs|j)$ ]]
+ [[ debug =~ ^(matrix|m)$ ]]
+ [[ debug =~ ^(reports|r)$ ]]
+ [[ debug =~ ^(validate|v)$ ]]
+ [[ debug == \h\e\l\p ]]
+ [[ debug == \d\e\b\u\g ]]
+ local debug=true
+ [[ debug == \d\r\y\-\r\u\n ]]
+ [[ debug == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --classify
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ classify =~ ^(classify|g)$ ]]
+ local classify_targets=true
+ [[ classify =~ ^(file-ext|x)$ ]]
+ [[ classify =~ ^(configs|c)$ ]]
+ [[ classify =~ ^(interval|l)$ ]]
+ [[ classify =~ ^(ips-list|i)$ ]]
+ [[ classify =~ ^(logs|o)$ ]]
+ [[ classify =~ ^(jobs|j)$ ]]
+ [[ classify =~ ^(matrix|m)$ ]]
+ [[ classify =~ ^(reports|r)$ ]]
+ [[ classify =~ ^(validate|v)$ ]]
+ [[ classify == \h\e\l\p ]]
+ [[ classify == \d\e\b\u\g ]]
+ [[ classify == \d\r\y\-\r\u\n ]]
+ [[ classify == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --logs
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ logs =~ ^(classify|g)$ ]]
+ [[ logs =~ ^(file-ext|x)$ ]]
+ [[ logs =~ ^(configs|c)$ ]]
+ [[ logs =~ ^(interval|l)$ ]]
+ [[ logs =~ ^(ips-list|i)$ ]]
+ [[ logs =~ ^(logs|o)$ ]]
+ export enable_logging=true
+ enable_logging=true
+ [[ logs =~ ^(jobs|j)$ ]]
+ [[ logs =~ ^(matrix|m)$ ]]
+ [[ logs =~ ^(reports|r)$ ]]
+ [[ logs =~ ^(validate|v)$ ]]
+ [[ logs == \h\e\l\p ]]
+ [[ logs == \d\e\b\u\g ]]
+ [[ logs == \d\r\y\-\r\u\n ]]
+ [[ logs == \v\e\r\b\o\s\e ]]
+ IFS='
'
+ [[ -z '' ]]
+ delaying_factor=0.05
+ [[ -z '' ]]
+ listing_filename=ips.list
+ [[ -z '' ]]
+ parallel_threads=100
+ [[ -z true ]]
+ [[ -z true ]]
+ [[ '' == true ]]
++ date '+%Y-%m-%d %H:%M:%S'
+ local 'start_time=2025-05-13 14:32:51'
+ SECONDS=0
+ [[ -z true ]]
+ [[ -z '' ]]
+ file_extensions=(cfg conf cnf)
+ export configs_dirpath=configs
+ configs_dirpath=configs
+ local configs_list_cache=.cache/configs.list
+ mkdir -p .cache
+ [[ ! -f .cache/configs.list ]]
+ find_cmd=('find' 'configs' '-type' 'f' '(')
+ local -a find_cmd
+ for ext in "${file_extensions[@]}"
+ find_cmd+=(-iname "*.${ext}" -o)
+ for ext in "${file_extensions[@]}"
+ find_cmd+=(-iname "*.${ext}" -o)
+ for ext in "${file_extensions[@]}"
+ find_cmd+=(-iname "*.${ext}" -o)
+ unset 'find_cmd[-1]'
+ find_cmd+=(\))
+ find configs -type f '(' -iname '*.cfg' -o -iname '*.conf' -o -iname '*.cnf' ')'
+ sort
+ [[ true == true ]]
+ print 'Generated configs.list at .cache/configs.list'
+ [[ -n Generated configs.list at .cache/configs.list ]]
+ echo -en 'Generated configs.list at .cache/configs.list'
Generated configs.list at .cache/configs.list+ [[ -z '' ]]
+ export matrix_filename=matrix.json
+ matrix_filename=matrix.json
+ [[ ! -f matrix.json ]]
+ jq -e 'length > 0' matrix.json
++ cat matrix.json
+ export 'matrix_configs=[
  {
    "match": ["BU1-NETWORK", "SOME-THING"],
    "group": "Identified Matching Entries"
  },
  {
    "match": ["Corporate HQ Subnets", "Server-192-168-1-10"],
    "group": "Business-Unit-HQ"
  },
  {
    "match": ["Remote-Site-Office", "All-Offices", "Branch-Office"],
    "group": "Business-Unit-Remote"
  },
  {
    "match": ["HQ-Server", "Production-Servers"],
    "group": "Business-Unit-Production"
  },
  {
    "match": ["Web-Server", "Data-Backup"],
    "group": "Business-Unit-Backup"
  },
  {
    "match": ["web_pool", "db_pool"],
    "group": "Business-Unit-Apps"
  },
  {
    "match": ["Vlan1", "Vlan2"],
    "group": "Business-Unit-Networks"
  },
  {
    "match": ["External-203-0-113-25"],
    "group": "Business-Unit-External"
  },
  {
    "match": ["Unused-Host"],
    "group": "Business-Unit-Orphan"
  }
]'
+ matrix_configs='[
  {
    "match": ["BU1-NETWORK", "SOME-THING"],
    "group": "Identified Matching Entries"
  },
  {
    "match": ["Corporate HQ Subnets", "Server-192-168-1-10"],
    "group": "Business-Unit-HQ"
  },
  {
    "match": ["Remote-Site-Office", "All-Offices", "Branch-Office"],
    "group": "Business-Unit-Remote"
  },
  {
    "match": ["HQ-Server", "Production-Servers"],
    "group": "Business-Unit-Production"
  },
  {
    "match": ["Web-Server", "Data-Backup"],
    "group": "Business-Unit-Backup"
  },
  {
    "match": ["web_pool", "db_pool"],
    "group": "Business-Unit-Apps"
  },
  {
    "match": ["Vlan1", "Vlan2"],
    "group": "Business-Unit-Networks"
  },
  {
    "match": ["External-203-0-113-25"],
    "group": "Business-Unit-External"
  },
  {
    "match": ["Unused-Host"],
    "group": "Business-Unit-Orphan"
  }
]'
+ export reports_folder=reports
+ reports_folder=reports
+ mkdir -p reports
+ :
+ [[ true == true ]]
+ list_file .local/stats//reports.jobs
+ [[ -n .local/stats//reports.jobs ]]
+ local target_file=.local/stats//reports.jobs
+ [[ true == true ]]
+ [[ -f .local/stats//reports.jobs ]]
++ basename .local/stats//reports.jobs
+ local base=reports.jobs
++ dirname .local/stats//reports.jobs
+ local parent=.local/stats
+ local 'format=File: reports.jobs
Parent: .local/stats
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: reports.jobs
Parent: .local/stats
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/stats//reports.jobs
File: reports.jobs
Parent: .local/stats
Size: 0 bytes
Blocks/Inode: 0 / 236555205
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:51 2025
Modify: May 13 14:32:51 2025
Change: May 13 14:32:51 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ [[ -z '' ]]
+ export validate_address=false
+ validate_address=false
+ [[ ! -f ips.list ]]
+ mapfile -t target_listing
++ grep -v '^\s*$' ips.list
++ tr -d '\r'
++ sort -t . -k1,1n -k2,2n -k3,3n -k4,4n
+ [[ 15 -eq 0 ]]
+ [[ true == true ]]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ print 'IPS/CIDR Blocks: '
+ [[ -n IPS/CIDR Blocks:  ]]
+ echo -en 'IPS/CIDR Blocks: '
IPS/CIDR Blocks: + newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 10.0.0.1'
+ [[ -n   - 10.0.0.1 ]]
+ echo -en '  - 10.0.0.1'
  - 10.0.0.1+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 10.0.1.2'
+ [[ -n   - 10.0.1.2 ]]
+ echo -en '  - 10.0.1.2'
  - 10.0.1.2+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 10.0.2.3'
+ [[ -n   - 10.0.2.3 ]]
+ echo -en '  - 10.0.2.3'
  - 10.0.2.3+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 10.10.10.10'
+ [[ -n   - 10.10.10.10 ]]
+ echo -en '  - 10.10.10.10'
  - 10.10.10.10+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 172.16.0.5'
+ [[ -n   - 172.16.0.5 ]]
+ echo -en '  - 172.16.0.5'
  - 172.16.0.5+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 172.16.1.6'
+ [[ -n   - 172.16.1.6 ]]
+ echo -en '  - 172.16.1.6'
  - 172.16.1.6+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 172.18.1.20'
+ [[ -n   - 172.18.1.20 ]]
+ echo -en '  - 172.18.1.20'
  - 172.18.1.20+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 172.31.255.254'
+ [[ -n   - 172.31.255.254 ]]
+ echo -en '  - 172.31.255.254'
  - 172.31.255.254+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 192.0.2.50'
+ [[ -n   - 192.0.2.50 ]]
+ echo -en '  - 192.0.2.50'
  - 192.0.2.50+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 192.168.1.10'
+ [[ -n   - 192.168.1.10 ]]
+ echo -en '  - 192.168.1.10'
  - 192.168.1.10+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 192.168.1.11'
+ [[ -n   - 192.168.1.11 ]]
+ echo -en '  - 192.168.1.11'
  - 192.168.1.11+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 192.168.2.12'
+ [[ -n   - 192.168.2.12 ]]
+ echo -en '  - 192.168.2.12'
  - 192.168.2.12+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 192.168.100.100'
+ [[ -n   - 192.168.100.100 ]]
+ echo -en '  - 192.168.100.100'
  - 192.168.100.100+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 198.51.100.75'
+ [[ -n   - 198.51.100.75 ]]
+ echo -en '  - 198.51.100.75'
  - 198.51.100.75+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target in "${target_listing[@]}"
+ print '  - 203.0.113.25'
+ [[ -n   - 203.0.113.25 ]]
+ echo -en '  - 203.0.113.25'
  - 203.0.113.25+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ mkdir -p targets
+ [[ true == true ]]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ print 'Mapping IPs to config files (pre-scan phase)...'
+ [[ -n Mapping IPs to config files (pre-scan phase)... ]]
+ echo -en 'Mapping IPs to config files (pre-scan phase)...'
Mapping IPs to config files (pre-scan phase)...+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ matching_configs
+ job_pids=()
+ declare -a job_pids
+ declare -A job_ip_map
+ for ip_addr in "${target_listing[@]}"
++ print 10.0.0.1
++ [[ -n 10.0.0.1 ]]
++ echo -en 10.0.0.1
++ tr -d '\r'
+ ip_cleaned=10.0.0.1
+ target_file=targets/10.0.0.1.json
+ job_pid=86327
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=10.0.0.1
+ print '\n[INFO] Started IP: 10.0.0.1 (PID: 86327)'
+ [[ -n \n[INFO] Started IP: 10.0.0.1 (PID: 86327) ]]
+ echo -en '\n[INFO] Started IP: 10.0.0.1 (PID: 86327)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
+ generate_configslist 10.0.0.1 targets/10.0.0.1.json
+ local ip_addr=10.0.0.1
+ local target_file=targets/10.0.0.1.json
++ grep -lE '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print 10.0.1.2
++ [[ -n 10.0.1.2 ]]
++ echo -en 10.0.1.2
++ tr -d '\r'
+ ip_cleaned=10.0.1.2
+ target_file=targets/10.0.1.2.json
+ local 'matched_files=configs/cisco/fw1.cfg
configs/misc/switch.conf'
+ [[ -n configs/cisco/fw1.cfg
configs/misc/switch.conf ]]
+ config_json='[]'
+ IFS=
+ read -r config_file
+ config_file=cisco/fw1.cfg
+ job_pid=86333
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=10.0.1.2
+ print '\n[INFO] Started IP: 10.0.1.2 (PID: 86333)'
+ generate_configslist 10.0.1.2 targets/10.0.1.2.json
+ local ip_addr=10.0.1.2
++ wc -l
+ local target_file=targets/10.0.1.2.json
+ [[ -n \n[INFO] Started IP: 10.0.1.2 (PID: 86333) ]]
+ echo -en '\n[INFO] Started IP: 10.0.1.2 (PID: 86333)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ grep -lE '(^|[^0-9.])10\.0\.1\.2([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print 10.0.2.3
++ [[ -n 10.0.2.3 ]]
++ echo -en 10.0.2.3
++ tr -d '\r'
+ config_lines='      45'
+ local 'matched_files=configs/cisco/fw1.cfg
configs/misc/switch.conf'
+ [[ -n configs/cisco/fw1.cfg
configs/misc/switch.conf ]]
+ config_json='[]'
+ IFS=
+ read -r config_file
+ config_file=cisco/fw1.cfg
+ ip_cleaned=10.0.2.3
+ target_file=targets/10.0.2.3.json
++ grep -oE '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)' configs/cisco/fw1.cfg
++ wc -l
++ tr -d ' '
++ wc -l
+ job_pid=86346
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=10.0.2.3
+ print '\n[INFO] Started IP: 10.0.2.3 (PID: 86346)'
+ [[ -n \n[INFO] Started IP: 10.0.2.3 (PID: 86346) ]]
+ echo -en '\n[INFO] Started IP: 10.0.2.3 (PID: 86346)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ generate_configslist 10.0.2.3 targets/10.0.2.3.json
+ echo

+ (( i++ ))
+ (( i < count ))
+ local ip_addr=10.0.2.3
+ local target_file=targets/10.0.2.3.json
+ for ip_addr in "${target_listing[@]}"
++ grep -lE '(^|[^0-9.])10\.0\.2\.3([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print 10.10.10.10
++ [[ -n 10.10.10.10 ]]
++ echo -en 10.10.10.10
++ tr -d '\r'
+ match_count=2
+ site=cisco
+ device=fw1.cfg
+ config_lines='      45'
++ print '[]'
++ [[ -n [] ]]
++ echo -en '[]'
++ grep -oE '(^|[^0-9.])10\.0\.1\.2([^0-9.]|$)' configs/cisco/fw1.cfg
++ jq --arg site cisco --arg device fw1.cfg --argjson lines '      45' --argjson count 2 '. += [{"config": {"site": $site, "device": $device}, "lines": $lines, "count": $count}]'
++ wc -l
++ tr -d ' '
++ true
+ local matched_files=
+ [[ -n '' ]]
+ return 0
+ ip_cleaned=10.10.10.10
+ target_file=targets/10.10.10.10.json
+ job_pid=86360
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=10.10.10.10
+ print '\n[INFO] Started IP: 10.10.10.10 (PID: 86360)'
+ [[ -n \n[INFO] Started IP: 10.10.10.10 (PID: 86360) ]]
+ echo -en '\n[INFO] Started IP: 10.10.10.10 (PID: 86360)'
+ generate_configslist 10.10.10.10 targets/10.10.10.10.json
+ local ip_addr=10.10.10.10
+ newline
+ local count=1
+ (( i = 0 ))
+ local target_file=targets/10.10.10.10.json
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ grep -lE '(^|[^0-9.])10\.10\.10\.10([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
+ match_count=1
+ site=cisco
+ device=fw1.cfg
++ print 172.16.0.5
++ [[ -n 172.16.0.5 ]]
++ echo -en 172.16.0.5
++ tr -d '\r'
++ print '[]'
++ [[ -n [] ]]
++ echo -en '[]'
++ jq --arg site cisco --arg device fw1.cfg --argjson lines '      45' --argjson count 1 '. += [{"config": {"site": $site, "device": $device}, "lines": $lines, "count": $count}]'
+ config_json='[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  }
]'
+ IFS=
+ read -r config_file
+ config_file=misc/switch.conf
++ wc -l
++ true
+ ip_cleaned=172.16.0.5
+ target_file=targets/172.16.0.5.json
+ local matched_files=
+ [[ -n '' ]]
+ return 0
+ job_pid=86371
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=172.16.0.5
+ print '\n[INFO] Started IP: 172.16.0.5 (PID: 86371)'
+ generate_configslist 172.16.0.5 targets/172.16.0.5.json
+ local ip_addr=172.16.0.5
+ local target_file=targets/172.16.0.5.json
+ [[ -n \n[INFO] Started IP: 172.16.0.5 (PID: 86371) ]]
+ echo -en '\n[INFO] Started IP: 172.16.0.5 (PID: 86371)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ grep -lE '(^|[^0-9.])172\.16\.0\.5([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
+ config_lines='      10'
++ print 172.16.1.6
++ [[ -n 172.16.1.6 ]]
++ echo -en 172.16.1.6
++ tr -d '\r'
+ config_json='[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
+ IFS=
+ read -r config_file
+ config_file=misc/switch.conf
++ grep -oE '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)' configs/misc/switch.conf
++ wc -l
++ tr -d ' '
++ wc -l
++ true
+ local matched_files=
+ [[ -n '' ]]
+ return 0
+ ip_cleaned=172.16.1.6
+ target_file=targets/172.16.1.6.json
+ job_pid=86383
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=172.16.1.6
+ print '\n[INFO] Started IP: 172.16.1.6 (PID: 86383)'
+ match_count=1
+ generate_configslist 172.16.1.6 targets/172.16.1.6.json
+ site=misc
+ device=switch.conf
+ local ip_addr=172.16.1.6
+ local target_file=targets/172.16.1.6.json
+ [[ -n \n[INFO] Started IP: 172.16.1.6 (PID: 86383) ]]
+ echo -en '\n[INFO] Started IP: 172.16.1.6 (PID: 86383)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
+ config_lines='      10'
++ grep -lE '(^|[^0-9.])172\.16\.1\.6([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  }
]'
++ [[ -n [
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  }
] ]]
++ echo -en '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  }
]'
++ jq --arg site misc --arg device switch.conf --argjson lines '      10' --argjson count 1 '. += [{"config": {"site": $site, "device": $device}, "lines": $lines, "count": $count}]'
++ print 172.18.1.20
++ grep -oE '(^|[^0-9.])10\.0\.1\.2([^0-9.]|$)' configs/misc/switch.conf
++ [[ -n 172.18.1.20 ]]
++ echo -en 172.18.1.20
++ wc -l
++ tr -d '\r'
++ tr -d ' '
++ true
+ local matched_files=
+ [[ -n '' ]]
+ return 0
+ ip_cleaned=172.18.1.20
+ target_file=targets/172.18.1.20.json
+ match_count=1
+ site=misc
+ device=switch.conf
+ job_pid=86396
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=172.18.1.20
+ print '\n[INFO] Started IP: 172.18.1.20 (PID: 86396)'
+ [[ -n \n[INFO] Started IP: 172.18.1.20 (PID: 86396) ]]
+ echo -en '\n[INFO] Started IP: 172.18.1.20 (PID: 86396)'
+ newline
+ local count=1
+ (( i = 0 ))
+ generate_configslist 172.18.1.20 targets/172.18.1.20.json
+ local ip_addr=172.18.1.20
+ local target_file=targets/172.18.1.20.json
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ print '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
++ [[ -n [
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
] ]]
++ echo -en '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
++ jq --arg site misc --arg device switch.conf --argjson lines '      10' --argjson count 1 '. += [{"config": {"site": $site, "device": $device}, "lines": $lines, "count": $count}]'
++ grep -lE '(^|[^0-9.])172\.18\.1\.20([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
+ config_json='[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
+ IFS=
+ read -r config_file
++ print 172.31.255.254
++ [[ -n 172.31.255.254 ]]
++ echo -en 172.31.255.254
++ tr -d '\r'
++ print '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
++ [[ -n [
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
] ]]
++ echo -en '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 2
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
++ jq '{configs: .}'
++ true
+ ip_cleaned=172.31.255.254
+ local matched_files=
+ target_file=targets/172.31.255.254.json
+ [[ -n '' ]]
+ return 0
+ job_pid=86409
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=172.31.255.254
+ print '\n[INFO] Started IP: 172.31.255.254 (PID: 86409)'
+ generate_configslist 172.31.255.254 targets/172.31.255.254.json
+ local ip_addr=172.31.255.254
+ local target_file=targets/172.31.255.254.json
+ [[ -n \n[INFO] Started IP: 172.31.255.254 (PID: 86409) ]]
+ echo -en '\n[INFO] Started IP: 172.31.255.254 (PID: 86409)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
+ config_json='[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
++ grep -lE '(^|[^0-9.])172\.31\.255\.254([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
+ IFS=
+ read -r config_file
++ print 192.0.2.50
++ [[ -n 192.0.2.50 ]]
++ echo -en 192.0.2.50
++ tr -d '\r'
++ print '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
++ [[ -n [
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
] ]]
++ jq '{configs: .}'
++ echo -en '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  },
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
+ final_json='{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 2
    },
    {
      "config": {
        "site": "misc",
        "device": "switch.conf"
      },
      "lines": 10,
      "count": 1
    }
  ]
}'
+ jq -r
+ local matched_files=configs/misc/switch.conf
+ [[ -n configs/misc/switch.conf ]]
+ config_json='[]'
+ IFS=
+ read -r config_file
+ config_file=misc/switch.conf
+ ip_cleaned=192.0.2.50
+ target_file=targets/192.0.2.50.json
+ job_pid=86420
++ wc -l
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=192.0.2.50
+ print '\n[INFO] Started IP: 192.0.2.50 (PID: 86420)'
+ [[ -n \n[INFO] Started IP: 192.0.2.50 (PID: 86420) ]]
+ echo -en '\n[INFO] Started IP: 192.0.2.50 (PID: 86420)'
+ newline
+ local count=1
+ generate_configslist 192.0.2.50 targets/192.0.2.50.json
+ (( i = 0 ))
+ local ip_addr=192.0.2.50
+ (( i < count ))
+ local target_file=targets/192.0.2.50.json
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ grep -lE '(^|[^0-9.])192\.0\.2\.50([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print 192.168.1.10
++ [[ -n 192.168.1.10 ]]
++ echo -en 192.168.1.10
++ tr -d '\r'
+ final_json='{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 1
    },
    {
      "config": {
        "site": "misc",
        "device": "switch.conf"
      },
      "lines": 10,
      "count": 1
    }
  ]
}'
+ jq -r
+ print_file targets/10.0.0.1.json
+ [[ -n targets/10.0.0.1.json ]]
+ local target_file=targets/10.0.0.1.json
+ [[ true == true ]]
+ [[ -f targets/10.0.0.1.json ]]
+ list_file targets/10.0.0.1.json
+ [[ -n targets/10.0.0.1.json ]]
+ local target_file=targets/10.0.0.1.json
+ [[ true == true ]]
+ [[ -f targets/10.0.0.1.json ]]
+ config_lines='      10'
++ basename targets/10.0.0.1.json
++ grep -oE '(^|[^0-9.])172\.31\.255\.254([^0-9.]|$)' configs/misc/switch.conf
++ true
++ wc -l
++ tr -d ' '
+ local matched_files=
+ [[ -n '' ]]
+ return 0
+ ip_cleaned=192.168.1.10
+ target_file=targets/192.168.1.10.json
+ job_pid=86433
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=192.168.1.10
+ print '\n[INFO] Started IP: 192.168.1.10 (PID: 86433)'
+ [[ -n \n[INFO] Started IP: 192.168.1.10 (PID: 86433) ]]
+ echo -en '\n[INFO] Started IP: 192.168.1.10 (PID: 86433)'
+ newline
+ generate_configslist 192.168.1.10 targets/192.168.1.10.json
+ local ip_addr=192.168.1.10
+ local target_file=targets/192.168.1.10.json
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ local base=10.0.0.1.json
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ dirname targets/10.0.0.1.json
++ grep -lE '(^|[^0-9.])192\.168\.1\.10([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
+ match_count=1
+ site=misc
+ device=switch.conf
++ print 192.168.1.11
++ [[ -n 192.168.1.11 ]]
++ echo -en 192.168.1.11
++ tr -d '\r'
+ print_file targets/10.0.1.2.json
+ [[ -n targets/10.0.1.2.json ]]
+ local target_file=targets/10.0.1.2.json
+ [[ true == true ]]
+ [[ -f targets/10.0.1.2.json ]]
+ list_file targets/10.0.1.2.json
+ [[ -n targets/10.0.1.2.json ]]
+ local target_file=targets/10.0.1.2.json
+ [[ true == true ]]
+ [[ -f targets/10.0.1.2.json ]]
++ print '[]'
++ [[ -n [] ]]
++ echo -en '[]'
++ basename targets/10.0.1.2.json
++ jq --arg site misc --arg device switch.conf --argjson lines '      10' --argjson count 1 '. += [{"config": {"site": $site, "device": $device}, "lines": $lines, "count": $count}]'
+ local parent=targets
+ local 'format=File: 10.0.0.1.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 10.0.0.1.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' targets/10.0.0.1.json
+ local matched_files=configs/cisco/fw1.cfg
+ [[ -n configs/cisco/fw1.cfg ]]
+ config_json='[]'
+ ip_cleaned=192.168.1.11
+ IFS=
+ read -r config_file
+ target_file=targets/192.168.1.11.json
+ config_file=cisco/fw1.cfg
+ job_pid=86445
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=192.168.1.11
+ print '\n[INFO] Started IP: 192.168.1.11 (PID: 86445)'
+ [[ -n \n[INFO] Started IP: 192.168.1.11 (PID: 86445) ]]
+ echo -en '\n[INFO] Started IP: 192.168.1.11 (PID: 86445)'
++ wc -l
+ generate_configslist 192.168.1.11 targets/192.168.1.11.json
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
+ local base=10.0.1.2.json
+ local ip_addr=192.168.1.11
+ local target_file=targets/192.168.1.11.json
File: 10.0.0.1.json
Parent: targets
Size: 283 bytes
Blocks/Inode: 8 / 236555208
Mode: -rw-r--r--
++ dirname targets/10.0.1.2.json
++ grep -lE '(^|[^0-9.])192\.168\.1\.11([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print 192.168.2.12
++ [[ -n 192.168.2.12 ]]
++ echo -en 192.168.2.12
++ tr -d '\r'
UID/GID: 501 / 20
Access: May 13 14:32:51 2025
Modify: May 13 14:32:51 2025
Change: May 13 14:32:51 2025
+ config_json='[
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
+ IFS=
+ read -r config_file
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ jq . targets/10.0.0.1.json
+ config_lines='      45'
+ local parent=targets
+ local 'format=File: 10.0.1.2.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 10.0.1.2.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' targets/10.0.1.2.json
++ print '[
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
++ [[ -n [
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
] ]]
++ echo -en '[
  {
    "config": {
      "site": "misc",
      "device": "switch.conf"
    },
    "lines": 10,
    "count": 1
  }
]'
++ true
++ jq '{configs: .}'
++ grep -oE '(^|[^0-9.])192\.168\.1\.10([^0-9.]|$)' configs/cisco/fw1.cfg
+ ip_cleaned=192.168.2.12
++ wc -l
+ target_file=targets/192.168.2.12.json
+ local matched_files=
+ [[ -n '' ]]
+ return 0
++ tr -d ' '
+ job_pid=86463
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=192.168.2.12
+ print '\n[INFO] Started IP: 192.168.2.12 (PID: 86463)'
+ [[ -n \n[INFO] Started IP: 192.168.2.12 (PID: 86463) ]]
+ echo -en '\n[INFO] Started IP: 192.168.2.12 (PID: 86463)'
+ generate_configslist 192.168.2.12 targets/192.168.2.12.json
+ newline
+ local count=1
+ local ip_addr=192.168.2.12
+ (( i = 0 ))
+ (( i < count ))
+ local target_file=targets/192.168.2.12.json
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ grep -lE '(^|[^0-9.])192\.168\.2\.12([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
File: 10.0.1.2.json
Parent: targets
Size: 283 bytes
Blocks/Inode: 8 / 236555209
Mode: -rw-r--r--
++ print 192.168.100.100
++ [[ -n 192.168.100.100 ]]
++ echo -en 192.168.100.100
++ tr -d '\r'
+ match_count=1
+ site=cisco
+ device=fw1.cfg
UID/GID: 501 / 20
Access: May 13 14:32:51 2025
Modify: May 13 14:32:51 2025
Change: May 13 14:32:51 2025
{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 2
    },
    {
      "config": {
        "site": "misc",
        "device": "switch.conf"
      },
      "lines": 10,
      "count": 1
    }
  ]
}
++ print '[]'
++ [[ -n [] ]]
++ echo -en '[]'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ newline
+ jq . targets/10.0.1.2.json
+ final_json='{
  "configs": [
    {
++ jq --arg site cisco --arg device fw1.cfg --argjson lines '      45' --argjson count 1 '. += [{"config": {"site": $site, "device": $device}, "lines": $lines, "count": $count}]'
      "config": {
        "site": "misc",
        "device": "switch.conf"
      },
      "lines": 10,
      "count": 1
    }
+ local count=1
  ]
}'
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ jq -r
+ return 0
+ print '\n[INFO] Generated JSON for IP: 10.0.0.1 at targets/10.0.0.1.json'
+ [[ -n \n[INFO] Generated JSON for IP: 10.0.0.1 at targets/10.0.0.1.json ]]
+ echo -en '\n[INFO] Generated JSON for IP: 10.0.0.1 at targets/10.0.0.1.json'
++ true
+ return 0
+ local matched_files=
+ [[ -n '' ]]
+ return 0
+ ip_cleaned=192.168.100.100
+ target_file=targets/192.168.100.100.json
+ job_pid=86474
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=192.168.100.100
+ print '\n[INFO] Started IP: 192.168.100.100 (PID: 86474)'
+ [[ -n \n[INFO] Started IP: 192.168.100.100 (PID: 86474) ]]
+ echo -en '\n[INFO] Started IP: 192.168.100.100 (PID: 86474)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
+ generate_configslist 192.168.100.100 targets/192.168.100.100.json
+ local ip_addr=192.168.100.100
+ local target_file=targets/192.168.100.100.json
++ grep -lE '(^|[^0-9.])192\.168\.100\.100([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print 198.51.100.75
++ [[ -n 198.51.100.75 ]]
++ echo -en 198.51.100.75
++ tr -d '\r'
{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 1
    },
    {
      "config": {
        "site": "misc",
        "device": "switch.conf"
      },
      "lines": 10,
      "count": 1
    }
  ]
}
+ config_json='[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
+ IFS=
+ newline
+ read -r config_file
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ print '\n[INFO] Generated JSON for IP: 10.0.1.2 at targets/10.0.1.2.json'
+ print_file targets/172.31.255.254.json
+ [[ -n \n[INFO] Generated JSON for IP: 10.0.1.2 at targets/10.0.1.2.json ]]
+ echo -en '\n[INFO] Generated JSON for IP: 10.0.1.2 at targets/10.0.1.2.json'
+ [[ -n targets/172.31.255.254.json ]]
+ local target_file=targets/172.31.255.254.json
+ [[ true == true ]]
+ [[ -f targets/172.31.255.254.json ]]
+ list_file targets/172.31.255.254.json
+ [[ -n targets/172.31.255.254.json ]]
+ local target_file=targets/172.31.255.254.json
+ return 0
+ [[ true == true ]]
+ [[ -f targets/172.31.255.254.json ]]
++ true
+ ip_cleaned=198.51.100.75
+ target_file=targets/198.51.100.75.json
+ local matched_files=
+ [[ -n '' ]]
++ basename targets/172.31.255.254.json
+ return 0
+ job_pid=86483
++ print '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
+ job_pids+=("${job_pid}")
++ [[ -n [
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
] ]]
++ echo -en '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
+ job_ip_map["$job_pid"]=198.51.100.75
+ print '\n[INFO] Started IP: 198.51.100.75 (PID: 86483)'
++ jq '{configs: .}'
+ generate_configslist 198.51.100.75 targets/198.51.100.75.json
+ [[ -n \n[INFO] Started IP: 198.51.100.75 (PID: 86483) ]]
+ local ip_addr=198.51.100.75
+ echo -en '\n[INFO] Started IP: 198.51.100.75 (PID: 86483)'
+ local target_file=targets/198.51.100.75.json
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip_addr in "${target_listing[@]}"
++ grep -lE '(^|[^0-9.])198\.51\.100\.75([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
++ print 203.0.113.25
++ [[ -n 203.0.113.25 ]]
++ echo -en 203.0.113.25
++ tr -d '\r'
+ local base=172.31.255.254.json
++ dirname targets/172.31.255.254.json
++ true
+ local matched_files=
+ ip_cleaned=203.0.113.25
+ [[ -n '' ]]
+ return 0
+ target_file=targets/203.0.113.25.json
+ job_pid=86491
+ job_pids+=("${job_pid}")
+ final_json='{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 1
    }
  ]
}'
+ job_ip_map["$job_pid"]=203.0.113.25
+ jq -r
+ print '\n[INFO] Started IP: 203.0.113.25 (PID: 86491)'
+ local parent=targets
+ local 'format=File: 172.31.255.254.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 172.31.255.254.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' targets/172.31.255.254.json
+ [[ -n \n[INFO] Started IP: 203.0.113.25 (PID: 86491) ]]
+ generate_configslist 203.0.113.25 targets/203.0.113.25.json
+ echo -en '\n[INFO] Started IP: 203.0.113.25 (PID: 86491)'
+ local ip_addr=203.0.113.25
+ local target_file=targets/203.0.113.25.json
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ ((  15 > 0  ))
+ valid_job_pids=()
+ for pid in "${job_pids[@]}"
+ kill -0 86327
+ ip_address=10.0.0.1
+ print '\n[INFO] Completed IP: 10.0.0.1 (PID: 86327)'
+ [[ -n \n[INFO] Completed IP: 10.0.0.1 (PID: 86327) ]]
+ echo -en '\n[INFO] Completed IP: 10.0.0.1 (PID: 86327)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86333
+ ip_address=10.0.1.2
+ print '\n[INFO] Completed IP: 10.0.1.2 (PID: 86333)'
+ [[ -n \n[INFO] Completed IP: 10.0.1.2 (PID: 86333) ]]
++ grep -lE '(^|[^0-9.])203\.0\.113\.25([^0-9.]|$)' configs/cisco/fw1.cfg configs/misc/switch.conf
+ echo -en '\n[INFO] Completed IP: 10.0.1.2 (PID: 86333)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86346
+ ip_address=10.0.2.3
+ print '\n[INFO] Completed IP: 10.0.2.3 (PID: 86346)'
+ [[ -n \n[INFO] Completed IP: 10.0.2.3 (PID: 86346) ]]
+ echo -en '\n[INFO] Completed IP: 10.0.2.3 (PID: 86346)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86360
+ ip_address=10.10.10.10
+ print '\n[INFO] Completed IP: 10.10.10.10 (PID: 86360)'
+ [[ -n \n[INFO] Completed IP: 10.10.10.10 (PID: 86360) ]]
+ echo -en '\n[INFO] Completed IP: 10.10.10.10 (PID: 86360)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86371
+ ip_address=172.16.0.5
+ print '\n[INFO] Completed IP: 172.16.0.5 (PID: 86371)'
+ [[ -n \n[INFO] Completed IP: 172.16.0.5 (PID: 86371) ]]
+ echo -en '\n[INFO] Completed IP: 172.16.0.5 (PID: 86371)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86383
+ ip_address=172.16.1.6
+ print '\n[INFO] Completed IP: 172.16.1.6 (PID: 86383)'
+ [[ -n \n[INFO] Completed IP: 172.16.1.6 (PID: 86383) ]]
+ echo -en '\n[INFO] Completed IP: 172.16.1.6 (PID: 86383)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86396
File: 172.31.255.254.json
Parent: targets
Size: 154 bytes
Blocks/Inode: 8 / 236555211
Mode: -rw-r--r--
+ ip_address=172.18.1.20
+ print '\n[INFO] Completed IP: 172.18.1.20 (PID: 86396)'
+ [[ -n \n[INFO] Completed IP: 172.18.1.20 (PID: 86396) ]]
+ echo -en '\n[INFO] Completed IP: 172.18.1.20 (PID: 86396)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86409
+ valid_job_pids+=("$pid")
+ for pid in "${job_pids[@]}"
+ kill -0 86420
+ ip_address=192.0.2.50
+ print '\n[INFO] Completed IP: 192.0.2.50 (PID: 86420)'
+ [[ -n \n[INFO] Completed IP: 192.0.2.50 (PID: 86420) ]]
+ echo -en '\n[INFO] Completed IP: 192.0.2.50 (PID: 86420)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86433
+ valid_job_pids+=("$pid")
+ for pid in "${job_pids[@]}"
+ kill -0 86445
+ ip_address=192.168.1.11
+ print '\n[INFO] Completed IP: 192.168.1.11 (PID: 86445)'
+ [[ -n \n[INFO] Completed IP: 192.168.1.11 (PID: 86445) ]]
+ echo -en '\n[INFO] Completed IP: 192.168.1.11 (PID: 86445)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86463
+ ip_address=192.168.2.12
+ print '\n[INFO] Completed IP: 192.168.2.12 (PID: 86463)'
+ [[ -n \n[INFO] Completed IP: 192.168.2.12 (PID: 86463) ]]
+ echo -en '\n[INFO] Completed IP: 192.168.2.12 (PID: 86463)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86474
+ ip_address=192.168.100.100
+ print '\n[INFO] Completed IP: 192.168.100.100 (PID: 86474)'
UID/GID: 501 / 20
+ [[ -n \n[INFO] Completed IP: 192.168.100.100 (PID: 86474) ]]
+ echo -en '\n[INFO] Completed IP: 192.168.100.100 (PID: 86474)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ local matched_files=configs/cisco/fw1.cfg
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86483
+ [[ -n configs/cisco/fw1.cfg ]]
+ config_json='[]'
+ IFS=
+ read -r config_file
+ ip_address=198.51.100.75
+ print '\n[INFO] Completed IP: 198.51.100.75 (PID: 86483)'
Access: May 13 14:32:51 2025
Modify: May 13 14:32:51 2025
Change: May 13 14:32:51 2025
+ config_file=cisco/fw1.cfg
+ [[ -n \n[INFO] Completed IP: 198.51.100.75 (PID: 86483) ]]
+ echo -en '\n[INFO] Completed IP: 198.51.100.75 (PID: 86483)'
+ newline
+ newline
+ local count=1
+ local count=1
+ (( i = 0 ))
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i < count ))

+ (( i++ ))
+ (( i < count ))
+ echo

+ for pid in "${job_pids[@]}"
+ (( i++ ))
+ kill -0 86491
+ (( i < count ))
+ return 0
+ valid_job_pids+=("$pid")
+ case "${target_file}" in
+ job_pids=("${valid_job_pids[@]}")
+ jq . targets/172.31.255.254.json
+ sleep 0.5
++ wc -l
+ print_file targets/192.168.1.10.json
+ [[ -n targets/192.168.1.10.json ]]
+ local target_file=targets/192.168.1.10.json
+ [[ true == true ]]
+ [[ -f targets/192.168.1.10.json ]]
+ list_file targets/192.168.1.10.json
+ [[ -n targets/192.168.1.10.json ]]
+ local target_file=targets/192.168.1.10.json
+ [[ true == true ]]
+ [[ -f targets/192.168.1.10.json ]]
++ basename targets/192.168.1.10.json
+ config_lines='      45'
+ local base=192.168.1.10.json
++ dirname targets/192.168.1.10.json
++ grep -oE '(^|[^0-9.])203\.0\.113\.25([^0-9.]|$)' configs/cisco/fw1.cfg
++ wc -l
++ tr -d ' '
{
  "configs": [
    {
      "config": {
        "site": "misc",
        "device": "switch.conf"
      },
      "lines": 10,
      "count": 1
    }
  ]
}
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ print '\n[INFO] Generated JSON for IP: 172.31.255.254 at targets/172.31.255.254.json'
+ [[ -n \n[INFO] Generated JSON for IP: 172.31.255.254 at targets/172.31.255.254.json ]]
+ echo -en '\n[INFO] Generated JSON for IP: 172.31.255.254 at targets/172.31.255.254.json'
+ return 0
+ local parent=targets
+ local 'format=File: 192.168.1.10.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 192.168.1.10.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' targets/192.168.1.10.json
+ match_count=1
+ site=cisco
+ device=fw1.cfg
++ print '[]'
++ [[ -n [] ]]
++ echo -en '[]'
++ jq --arg site cisco --arg device fw1.cfg --argjson lines '      45' --argjson count 1 '. += [{"config": {"site": $site, "device": $device}, "lines": $lines, "count": $count}]'
File: 192.168.1.10.json
Parent: targets
Size: 151 bytes
Blocks/Inode: 8 / 236555212
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:51 2025
Modify: May 13 14:32:51 2025
Change: May 13 14:32:51 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ jq . targets/192.168.1.10.json
+ config_json='[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
+ IFS=
+ read -r config_file
++ print '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
++ [[ -n [
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
] ]]
++ echo -en '[
  {
    "config": {
      "site": "cisco",
      "device": "fw1.cfg"
    },
    "lines": 45,
    "count": 1
  }
]'
++ jq '{configs: .}'
{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 1
    }
  ]
}
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ print '\n[INFO] Generated JSON for IP: 192.168.1.10 at targets/192.168.1.10.json'
+ [[ -n \n[INFO] Generated JSON for IP: 192.168.1.10 at targets/192.168.1.10.json ]]
+ echo -en '\n[INFO] Generated JSON for IP: 192.168.1.10 at targets/192.168.1.10.json'
+ return 0
+ final_json='{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 1
    }
  ]
}'
+ jq -r
+ print_file targets/203.0.113.25.json
+ [[ -n targets/203.0.113.25.json ]]
+ local target_file=targets/203.0.113.25.json
+ [[ true == true ]]
+ [[ -f targets/203.0.113.25.json ]]
+ list_file targets/203.0.113.25.json
+ [[ -n targets/203.0.113.25.json ]]
+ local target_file=targets/203.0.113.25.json
+ [[ true == true ]]
+ [[ -f targets/203.0.113.25.json ]]
++ basename targets/203.0.113.25.json
+ local base=203.0.113.25.json
++ dirname targets/203.0.113.25.json
+ local parent=targets
+ local 'format=File: 203.0.113.25.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 203.0.113.25.json
Parent: targets
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' targets/203.0.113.25.json
File: 203.0.113.25.json
Parent: targets
Size: 151 bytes
Blocks/Inode: 8 / 236555214
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:51 2025
Modify: May 13 14:32:51 2025
Change: May 13 14:32:51 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ jq . targets/203.0.113.25.json
{
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "lines": 45,
      "count": 1
    }
  ]
}
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ print '\n[INFO] Generated JSON for IP: 203.0.113.25 at targets/203.0.113.25.json'
+ [[ -n \n[INFO] Generated JSON for IP: 203.0.113.25 at targets/203.0.113.25.json ]]
+ echo -en '\n[INFO] Generated JSON for IP: 203.0.113.25 at targets/203.0.113.25.json'
+ return 0
+ ((  3 > 0  ))
+ valid_job_pids=()
+ for pid in "${job_pids[@]}"
+ kill -0 86409
+ ip_address=172.31.255.254
+ print '\n[INFO] Completed IP: 172.31.255.254 (PID: 86409)'
+ [[ -n \n[INFO] Completed IP: 172.31.255.254 (PID: 86409) ]]
+ echo -en '\n[INFO] Completed IP: 172.31.255.254 (PID: 86409)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86433
+ ip_address=192.168.1.10
+ print '\n[INFO] Completed IP: 192.168.1.10 (PID: 86433)'
+ [[ -n \n[INFO] Completed IP: 192.168.1.10 (PID: 86433) ]]
+ echo -en '\n[INFO] Completed IP: 192.168.1.10 (PID: 86433)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86491
+ ip_address=203.0.113.25
+ print '\n[INFO] Completed IP: 203.0.113.25 (PID: 86491)'
+ [[ -n \n[INFO] Completed IP: 203.0.113.25 (PID: 86491) ]]
+ echo -en '\n[INFO] Completed IP: 203.0.113.25 (PID: 86491)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ job_pids=("${valid_job_pids[@]}")
+ sleep 0.5
+ ((  0 > 0  ))
+ return 0
+ for ip_addr in "${target_listing[@]}"
++ print 10.0.0.1
++ [[ -n 10.0.0.1 ]]
++ echo -en 10.0.0.1
++ tr -d '\r'
+ ip_cleaned=10.0.0.1
+ [[ -f targets/10.0.0.1.json ]]
+ filtered_target_listing+=("${ip_cleaned}")
+ for ip_addr in "${target_listing[@]}"
++ print 10.0.1.2
++ [[ -n 10.0.1.2 ]]
++ echo -en 10.0.1.2
++ tr -d '\r'
+ ip_cleaned=10.0.1.2
+ [[ -f targets/10.0.1.2.json ]]
+ filtered_target_listing+=("${ip_cleaned}")
+ for ip_addr in "${target_listing[@]}"
++ print 10.0.2.3
++ [[ -n 10.0.2.3 ]]
++ echo -en 10.0.2.3
++ tr -d '\r'
+ ip_cleaned=10.0.2.3
+ [[ -f targets/10.0.2.3.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 10.10.10.10
++ [[ -n 10.10.10.10 ]]
++ echo -en 10.10.10.10
++ tr -d '\r'
+ ip_cleaned=10.10.10.10
+ [[ -f targets/10.10.10.10.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 172.16.0.5
++ [[ -n 172.16.0.5 ]]
++ echo -en 172.16.0.5
++ tr -d '\r'
+ ip_cleaned=172.16.0.5
+ [[ -f targets/172.16.0.5.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 172.16.1.6
++ [[ -n 172.16.1.6 ]]
++ echo -en 172.16.1.6
++ tr -d '\r'
+ ip_cleaned=172.16.1.6
+ [[ -f targets/172.16.1.6.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 172.18.1.20
++ [[ -n 172.18.1.20 ]]
++ echo -en 172.18.1.20
++ tr -d '\r'
+ ip_cleaned=172.18.1.20
+ [[ -f targets/172.18.1.20.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 172.31.255.254
++ [[ -n 172.31.255.254 ]]
++ echo -en 172.31.255.254
++ tr -d '\r'
+ ip_cleaned=172.31.255.254
+ [[ -f targets/172.31.255.254.json ]]
+ filtered_target_listing+=("${ip_cleaned}")
+ for ip_addr in "${target_listing[@]}"
++ print 192.0.2.50
++ [[ -n 192.0.2.50 ]]
++ echo -en 192.0.2.50
++ tr -d '\r'
+ ip_cleaned=192.0.2.50
+ [[ -f targets/192.0.2.50.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 192.168.1.10
++ [[ -n 192.168.1.10 ]]
++ echo -en 192.168.1.10
++ tr -d '\r'
+ ip_cleaned=192.168.1.10
+ [[ -f targets/192.168.1.10.json ]]
+ filtered_target_listing+=("${ip_cleaned}")
+ for ip_addr in "${target_listing[@]}"
++ print 192.168.1.11
++ [[ -n 192.168.1.11 ]]
++ echo -en 192.168.1.11
++ tr -d '\r'
+ ip_cleaned=192.168.1.11
+ [[ -f targets/192.168.1.11.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 192.168.2.12
++ [[ -n 192.168.2.12 ]]
++ echo -en 192.168.2.12
++ tr -d '\r'
+ ip_cleaned=192.168.2.12
+ [[ -f targets/192.168.2.12.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 192.168.100.100
++ [[ -n 192.168.100.100 ]]
++ echo -en 192.168.100.100
++ tr -d '\r'
+ ip_cleaned=192.168.100.100
+ [[ -f targets/192.168.100.100.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 198.51.100.75
++ [[ -n 198.51.100.75 ]]
++ echo -en 198.51.100.75
++ tr -d '\r'
+ ip_cleaned=198.51.100.75
+ [[ -f targets/198.51.100.75.json ]]
+ for ip_addr in "${target_listing[@]}"
++ print 203.0.113.25
++ [[ -n 203.0.113.25 ]]
++ echo -en 203.0.113.25
++ tr -d '\r'
+ ip_cleaned=203.0.113.25
+ [[ -f targets/203.0.113.25.json ]]
+ filtered_target_listing+=("${ip_cleaned}")
+ local total_requested=15
+ local total_mapped=5
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ print 'Total IPs requested: 15'
+ [[ -n Total IPs requested: 15 ]]
+ echo -en 'Total IPs requested: 15'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ print 'Total IPs mapped:    5'
+ [[ -n Total IPs mapped:    5 ]]
+ echo -en 'Total IPs mapped:    5'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ print 'Unmapped IPs:        10'
+ [[ -n Unmapped IPs:        10 ]]
+ echo -en 'Unmapped IPs:        10'
+ newline 2
+ local count=2
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ print_file .local/stats//reports.jobs
+ [[ -n .local/stats//reports.jobs ]]
+ local target_file=.local/stats//reports.jobs
+ [[ true == true ]]
+ [[ -f .local/stats//reports.jobs ]]
+ list_file .local/stats//reports.jobs
+ [[ -n .local/stats//reports.jobs ]]
+ local target_file=.local/stats//reports.jobs
+ [[ true == true ]]
+ [[ -f .local/stats//reports.jobs ]]
++ basename .local/stats//reports.jobs
+ local base=reports.jobs
++ dirname .local/stats//reports.jobs
+ local parent=.local/stats
+ local 'format=File: reports.jobs
Parent: .local/stats
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: reports.jobs
Parent: .local/stats
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/stats//reports.jobs
File: reports.jobs
Parent: .local/stats
Size: 73 bytes
Blocks/Inode: 8 / 236555205
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:51 2025
Modify: May 13 14:32:52 2025
Change: May 13 14:32:52 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ cat .local/stats//reports.jobs

Total IPs requested: 15
Total IPs mapped:    5
Unmapped IPs:        10

+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ print 'Unmapped IPs:'
+ [[ -n Unmapped IPs: ]]
+ echo -en 'Unmapped IPs:'
+ newline 2
+ local count=2
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 10.0.0.1
++ [[ -n 10.0.0.1 ]]
++ echo -en 10.0.0.1
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=10.0.0.1
+ [[ -n 10.0.0.1 ]]
+ [[ ! -f targets/10.0.0.1.json ]]
+ for ip in "${target_listing[@]}"
++ print 10.0.1.2
++ [[ -n 10.0.1.2 ]]
++ echo -en 10.0.1.2
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=10.0.1.2
+ [[ -n 10.0.1.2 ]]
+ [[ ! -f targets/10.0.1.2.json ]]
+ for ip in "${target_listing[@]}"
++ print 10.0.2.3
++ [[ -n 10.0.2.3 ]]
++ echo -en 10.0.2.3
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=10.0.2.3
+ [[ -n 10.0.2.3 ]]
+ [[ ! -f targets/10.0.2.3.json ]]
+ print '  - 10.0.2.3'
+ [[ -n   - 10.0.2.3 ]]
+ echo -en '  - 10.0.2.3'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 10.10.10.10
++ [[ -n 10.10.10.10 ]]
++ echo -en 10.10.10.10
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=10.10.10.10
+ [[ -n 10.10.10.10 ]]
+ [[ ! -f targets/10.10.10.10.json ]]
+ print '  - 10.10.10.10'
+ [[ -n   - 10.10.10.10 ]]
+ echo -en '  - 10.10.10.10'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 172.16.0.5
++ [[ -n 172.16.0.5 ]]
++ echo -en 172.16.0.5
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=172.16.0.5
+ [[ -n 172.16.0.5 ]]
+ [[ ! -f targets/172.16.0.5.json ]]
+ print '  - 172.16.0.5'
+ [[ -n   - 172.16.0.5 ]]
+ echo -en '  - 172.16.0.5'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 172.16.1.6
++ [[ -n 172.16.1.6 ]]
++ echo -en 172.16.1.6
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=172.16.1.6
+ [[ -n 172.16.1.6 ]]
+ [[ ! -f targets/172.16.1.6.json ]]
+ print '  - 172.16.1.6'
+ [[ -n   - 172.16.1.6 ]]
+ echo -en '  - 172.16.1.6'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 172.18.1.20
++ [[ -n 172.18.1.20 ]]
++ echo -en 172.18.1.20
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=172.18.1.20
+ [[ -n 172.18.1.20 ]]
+ [[ ! -f targets/172.18.1.20.json ]]
+ print '  - 172.18.1.20'
+ [[ -n   - 172.18.1.20 ]]
+ echo -en '  - 172.18.1.20'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 172.31.255.254
++ [[ -n 172.31.255.254 ]]
++ echo -en 172.31.255.254
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=172.31.255.254
+ [[ -n 172.31.255.254 ]]
+ [[ ! -f targets/172.31.255.254.json ]]
+ for ip in "${target_listing[@]}"
++ print 192.0.2.50
++ [[ -n 192.0.2.50 ]]
++ echo -en 192.0.2.50
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=192.0.2.50
+ [[ -n 192.0.2.50 ]]
+ [[ ! -f targets/192.0.2.50.json ]]
+ print '  - 192.0.2.50'
+ [[ -n   - 192.0.2.50 ]]
+ echo -en '  - 192.0.2.50'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 192.168.1.10
++ [[ -n 192.168.1.10 ]]
++ echo -en 192.168.1.10
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=192.168.1.10
+ [[ -n 192.168.1.10 ]]
+ [[ ! -f targets/192.168.1.10.json ]]
+ for ip in "${target_listing[@]}"
++ print 192.168.1.11
++ [[ -n 192.168.1.11 ]]
++ echo -en 192.168.1.11
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=192.168.1.11
+ [[ -n 192.168.1.11 ]]
+ [[ ! -f targets/192.168.1.11.json ]]
+ print '  - 192.168.1.11'
+ [[ -n   - 192.168.1.11 ]]
+ echo -en '  - 192.168.1.11'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 192.168.2.12
++ [[ -n 192.168.2.12 ]]
++ echo -en 192.168.2.12
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=192.168.2.12
+ [[ -n 192.168.2.12 ]]
+ [[ ! -f targets/192.168.2.12.json ]]
+ print '  - 192.168.2.12'
+ [[ -n   - 192.168.2.12 ]]
+ echo -en '  - 192.168.2.12'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 192.168.100.100
++ [[ -n 192.168.100.100 ]]
++ echo -en 192.168.100.100
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=192.168.100.100
+ [[ -n 192.168.100.100 ]]
+ [[ ! -f targets/192.168.100.100.json ]]
+ print '  - 192.168.100.100'
+ [[ -n   - 192.168.100.100 ]]
+ echo -en '  - 192.168.100.100'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 198.51.100.75
++ [[ -n 198.51.100.75 ]]
++ echo -en 198.51.100.75
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=198.51.100.75
+ [[ -n 198.51.100.75 ]]
+ [[ ! -f targets/198.51.100.75.json ]]
+ print '  - 198.51.100.75'
+ [[ -n   - 198.51.100.75 ]]
+ echo -en '  - 198.51.100.75'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_listing[@]}"
++ print 203.0.113.25
++ [[ -n 203.0.113.25 ]]
++ echo -en 203.0.113.25
++ tr -d '\r'
++ sed -E 's/[[:space:]]+//g'
+ ip_cleaned=203.0.113.25
+ [[ -n 203.0.113.25 ]]
+ [[ ! -f targets/203.0.113.25.json ]]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ print_file .local/stats//reports.jobs
+ [[ -n .local/stats//reports.jobs ]]
+ local target_file=.local/stats//reports.jobs
+ [[ true == true ]]
+ [[ -f .local/stats//reports.jobs ]]
+ list_file .local/stats//reports.jobs
+ [[ -n .local/stats//reports.jobs ]]
+ local target_file=.local/stats//reports.jobs
+ [[ true == true ]]
+ [[ -f .local/stats//reports.jobs ]]
++ basename .local/stats//reports.jobs
+ local base=reports.jobs
++ dirname .local/stats//reports.jobs
+ local parent=.local/stats
+ local 'format=File: reports.jobs
Parent: .local/stats
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: reports.jobs
Parent: .local/stats
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/stats//reports.jobs
File: reports.jobs
Parent: .local/stats
Size: 251 bytes
Blocks/Inode: 8 / 236555205
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:52 2025
Modify: May 13 14:32:52 2025
Change: May 13 14:32:52 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ cat .local/stats//reports.jobs

Total IPs requested: 15
Total IPs mapped:    5
Unmapped IPs:        10

Unmapped IPs:

  - 10.0.2.3
  - 10.10.10.10
  - 172.16.0.5
  - 172.16.1.6
  - 172.18.1.20
  - 192.0.2.50
  - 192.168.1.11
  - 192.168.2.12
  - 192.168.100.100
  - 198.51.100.75

+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ manage_configs
+ job_pids=()
+ declare -a job_pids
+ job_ip_map=()
+ declare -A job_ip_map
+ ip_index=0
+ total_ips=5
+ ((  ip_index < total_ips  ))
+ ip_addr=10.0.0.1
++ printf %01d 1
+ padded_index=1
+ job_pid=86638
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=10.0.0.1
+ print '\n[INFO] Started IP: 10.0.0.1 (PID: 86638)'
+ [[ -n \n[INFO] Started IP: 10.0.0.1 (PID: 86638) ]]
+ echo -en '\n[INFO] Started IP: 10.0.0.1 (PID: 86638)'
+ newline
+ local count=1
+ (( i = 0 ))
+ parse_configs 10.0.0.1 1
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ ((  ip_index < total_ips  ))
+ ip_addr=10.0.1.2
+ local ip_addr=10.0.0.1
+ local padded_index=1
+ execute=(./scripts/parse-configs.shell --configs="${configs_dirpath}" --ip-addr="${ip_addr}" --index="${padded_index}" --matrix="${matrix_filename}" --reports="${reports_folder}" --file-ext="$(IFS=,; print "${file_extensions[*]}")")
++ IFS=,
++ printf %01d 2
++ print cfg,conf,cnf
++ [[ -n cfg,conf,cnf ]]
++ echo -en cfg,conf,cnf
+ padded_index=2
+ [[ true == true ]]
+ execute+=(--classify)
+ [[ false == true ]]
+ [[ true == true ]]
+ execute+=(--verbose)
+ [[ true == true ]]
+ execute+=(--debug)
+ [[ true == true ]]
+ mkdir -p .local/jobs .local/errors
+ job_pid=86641
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=10.0.1.2
+ print '\n[INFO] Started IP: 10.0.1.2 (PID: 86641)'
+ [[ -n \n[INFO] Started IP: 10.0.1.2 (PID: 86641) ]]
+ echo -en '\n[INFO] Started IP: 10.0.1.2 (PID: 86641)'
+ newline
+ local count=1
+ (( i = 0 ))
+ parse_configs 10.0.1.2 2
+ local ip_addr=10.0.1.2
+ local padded_index=2
+ execute=(./scripts/parse-configs.shell --configs="${configs_dirpath}" --ip-addr="${ip_addr}" --index="${padded_index}" --matrix="${matrix_filename}" --reports="${reports_folder}" --file-ext="$(IFS=,; print "${file_extensions[*]}")")
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ ((  ip_index < total_ips  ))
+ ip_addr=172.31.255.254
++ IFS=,
++ print cfg,conf,cnf
++ [[ -n cfg,conf,cnf ]]
++ echo -en cfg,conf,cnf
++ printf %01d 3
+ [[ true == true ]]
+ execute+=(--classify)
+ [[ false == true ]]
+ [[ true == true ]]
+ execute+=(--verbose)
+ [[ true == true ]]
+ execute+=(--debug)
+ [[ true == true ]]
+ mkdir -p .local/jobs .local/errors
+ padded_index=3
+ job_pid=86646
+ job_pids+=("${job_pid}")
+ logfile=.local/jobs/10.0.0.1.job
+ job_ip_map["$job_pid"]=172.31.255.254
+ [[ true == true ]]
+ print '\n[INFO] Started IP: 172.31.255.254 (PID: 86646)'
+ bash -x ./scripts/parse-configs.shell --configs=configs --ip-addr=10.0.0.1 --index=1 --matrix=matrix.json --reports=reports --file-ext=cfg,conf,cnf --classify --verbose --debug
+ [[ -n \n[INFO] Started IP: 172.31.255.254 (PID: 86646) ]]
+ echo -en '\n[INFO] Started IP: 172.31.255.254 (PID: 86646)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ ((  ip_index < total_ips  ))
+ ip_addr=192.168.1.10
+ parse_configs 172.31.255.254 3
+ local ip_addr=172.31.255.254
+ local padded_index=3
+ execute=(./scripts/parse-configs.shell --configs="${configs_dirpath}" --ip-addr="${ip_addr}" --index="${padded_index}" --matrix="${matrix_filename}" --reports="${reports_folder}" --file-ext="$(IFS=,; print "${file_extensions[*]}")")
++ printf %01d 4
++ IFS=,
++ print cfg,conf,cnf
++ [[ -n cfg,conf,cnf ]]
++ echo -en cfg,conf,cnf
+ padded_index=4
+ [[ true == true ]]
+ execute+=(--classify)
+ [[ false == true ]]
+ [[ true == true ]]
+ execute+=(--verbose)
+ logfile=.local/jobs/10.0.1.2.job
+ [[ true == true ]]
+ execute+=(--debug)
+ [[ true == true ]]
+ [[ true == true ]]
+ mkdir -p .local/jobs .local/errors
+ bash -x ./scripts/parse-configs.shell --configs=configs --ip-addr=10.0.1.2 --index=2 --matrix=matrix.json --reports=reports --file-ext=cfg,conf,cnf --classify --verbose --debug
+ job_pid=86650
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=192.168.1.10
+ print '\n[INFO] Started IP: 192.168.1.10 (PID: 86650)'
+ parse_configs 192.168.1.10 4
+ [[ -n \n[INFO] Started IP: 192.168.1.10 (PID: 86650) ]]
+ echo -en '\n[INFO] Started IP: 192.168.1.10 (PID: 86650)'
+ local ip_addr=192.168.1.10
+ local padded_index=4
+ newline
+ execute=(./scripts/parse-configs.shell --configs="${configs_dirpath}" --ip-addr="${ip_addr}" --index="${padded_index}" --matrix="${matrix_filename}" --reports="${reports_folder}" --file-ext="$(IFS=,; print "${file_extensions[*]}")")
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ ((  ip_index < total_ips  ))
+ ip_addr=203.0.113.25
++ IFS=,
++ print cfg,conf,cnf
++ [[ -n cfg,conf,cnf ]]
++ echo -en cfg,conf,cnf
++ printf %01d 5
+ [[ true == true ]]
+ execute+=(--classify)
+ [[ false == true ]]
+ [[ true == true ]]
+ execute+=(--verbose)
+ [[ true == true ]]
+ execute+=(--debug)
+ [[ true == true ]]
+ mkdir -p .local/jobs .local/errors
+ padded_index=5
+ job_pid=86656
+ job_pids+=("${job_pid}")
+ job_ip_map["$job_pid"]=203.0.113.25
+ print '\n[INFO] Started IP: 203.0.113.25 (PID: 86656)'
+ logfile=.local/jobs/172.31.255.254.job
+ [[ true == true ]]
+ bash -x ./scripts/parse-configs.shell --configs=configs --ip-addr=172.31.255.254 --index=3 --matrix=matrix.json --reports=reports --file-ext=cfg,conf,cnf --classify --verbose --debug
+ [[ -n \n[INFO] Started IP: 203.0.113.25 (PID: 86656) ]]
+ echo -en '\n[INFO] Started IP: 203.0.113.25 (PID: 86656)'
+ newline
+ local count=1
+ parse_configs 203.0.113.25 5
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ ((  ip_index < total_ips  ))
+ ((  5 > 0  ))
+ valid_job_pids=()
+ local ip_addr=203.0.113.25
+ local padded_index=5
+ execute=(./scripts/parse-configs.shell --configs="${configs_dirpath}" --ip-addr="${ip_addr}" --index="${padded_index}" --matrix="${matrix_filename}" --reports="${reports_folder}" --file-ext="$(IFS=,; print "${file_extensions[*]}")")
+ for pid in "${job_pids[@]}"
+ kill -0 86638
+ valid_job_pids+=("$pid")
+ for pid in "${job_pids[@]}"
+ kill -0 86641
+ valid_job_pids+=("$pid")
+ for pid in "${job_pids[@]}"
+ kill -0 86646
+ valid_job_pids+=("$pid")
+ for pid in "${job_pids[@]}"
+ kill -0 86650
+ valid_job_pids+=("$pid")
+ for pid in "${job_pids[@]}"
+ kill -0 86656
+ valid_job_pids+=("$pid")
+ job_pids=("${valid_job_pids[@]}")
+ sleep 0.5
++ IFS=,
++ print cfg,conf,cnf
++ [[ -n cfg,conf,cnf ]]
++ echo -en cfg,conf,cnf
+ [[ true == true ]]
+ execute+=(--classify)
+ [[ false == true ]]
+ [[ true == true ]]
+ execute+=(--verbose)
+ [[ true == true ]]
+ execute+=(--debug)
+ [[ true == true ]]
+ mkdir -p .local/jobs .local/errors
+ logfile=.local/jobs/192.168.1.10.job
+ [[ true == true ]]
+ bash -x ./scripts/parse-configs.shell --configs=configs --ip-addr=192.168.1.10 --index=4 --matrix=matrix.json --reports=reports --file-ext=cfg,conf,cnf --classify --verbose --debug
+ logfile=.local/jobs/203.0.113.25.job
+ [[ true == true ]]
+ bash -x ./scripts/parse-configs.shell --configs=configs --ip-addr=203.0.113.25 --index=5 --matrix=matrix.json --reports=reports --file-ext=cfg,conf,cnf --classify --verbose --debug
+ list_file .local/jobs/172.31.255.254.job
+ [[ -n .local/jobs/172.31.255.254.job ]]
+ local target_file=.local/jobs/172.31.255.254.job
+ [[ true == true ]]
+ [[ -f .local/jobs/172.31.255.254.job ]]
++ basename .local/jobs/172.31.255.254.job
+ local base=172.31.255.254.job
++ dirname .local/jobs/172.31.255.254.job
+ local parent=.local/jobs
+ local 'format=File: 172.31.255.254.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 172.31.255.254.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/jobs/172.31.255.254.job
+ list_file .local/jobs/192.168.1.10.job
+ [[ -n .local/jobs/192.168.1.10.job ]]
+ local target_file=.local/jobs/192.168.1.10.job
+ [[ true == true ]]
+ [[ -f .local/jobs/192.168.1.10.job ]]
++ basename .local/jobs/192.168.1.10.job
File: 172.31.255.254.job
Parent: .local/jobs
Size: 44917 bytes
Blocks/Inode: 88 / 236555220
Mode: -rw-r--r--
+ local base=192.168.1.10.job
+ list_file .local/jobs/203.0.113.25.job
+ [[ -n .local/jobs/203.0.113.25.job ]]
+ local target_file=.local/jobs/203.0.113.25.job
+ [[ true == true ]]
+ [[ -f .local/jobs/203.0.113.25.job ]]
UID/GID: 501 / 20
Access: May 13 14:32:52 2025
Modify: May 13 14:32:53 2025
Change: May 13 14:32:53 2025
++ dirname .local/jobs/192.168.1.10.job
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ local status=0
++ basename .local/jobs/203.0.113.25.job
+ ((  status != 0  ))
+ print '\n[DONE] IP: 172.31.255.254'
+ [[ -n \n[DONE] IP: 172.31.255.254 ]]
+ echo -en '\n[DONE] IP: 172.31.255.254'
+ return 0
+ local base=203.0.113.25.job
+ local parent=.local/jobs
+ local 'format=File: 192.168.1.10.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 192.168.1.10.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/jobs/192.168.1.10.job
++ dirname .local/jobs/203.0.113.25.job
File: 192.168.1.10.job
Parent: .local/jobs
Size: 70780 bytes
Blocks/Inode: 144 / 236555221
Mode: -rw-r--r--
+ local parent=.local/jobs
+ local 'format=File: 203.0.113.25.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 203.0.113.25.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/jobs/203.0.113.25.job
UID/GID: 501 / 20
Access: May 13 14:32:52 2025
Modify: May 13 14:32:53 2025
Change: May 13 14:32:53 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ local status=0
+ ((  status != 0  ))
+ print '\n[DONE] IP: 192.168.1.10'
+ [[ -n \n[DONE] IP: 192.168.1.10 ]]
+ echo -en '\n[DONE] IP: 192.168.1.10'
+ return 0
File: 203.0.113.25.job
Parent: .local/jobs
Size: 69634 bytes
Blocks/Inode: 144 / 236555222
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:52 2025
Modify: May 13 14:32:53 2025
Change: May 13 14:32:53 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ local status=0
+ ((  status != 0  ))
+ print '\n[DONE] IP: 203.0.113.25'
+ [[ -n \n[DONE] IP: 203.0.113.25 ]]
+ echo -en '\n[DONE] IP: 203.0.113.25'
+ return 0
+ list_file .local/jobs/10.0.1.2.job
+ [[ -n .local/jobs/10.0.1.2.job ]]
+ local target_file=.local/jobs/10.0.1.2.job
+ [[ true == true ]]
+ [[ -f .local/jobs/10.0.1.2.job ]]
++ basename .local/jobs/10.0.1.2.job
+ local base=10.0.1.2.job
++ dirname .local/jobs/10.0.1.2.job
+ local parent=.local/jobs
+ local 'format=File: 10.0.1.2.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 10.0.1.2.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/jobs/10.0.1.2.job
File: 10.0.1.2.job
Parent: .local/jobs
Size: 110243 bytes
Blocks/Inode: 216 / 236555219
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:52 2025
Modify: May 13 14:32:53 2025
Change: May 13 14:32:53 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ local status=0
+ ((  status != 0  ))
+ print '\n[DONE] IP: 10.0.1.2'
+ [[ -n \n[DONE] IP: 10.0.1.2 ]]
+ echo -en '\n[DONE] IP: 10.0.1.2'
+ return 0
+ list_file .local/jobs/10.0.0.1.job
+ [[ -n .local/jobs/10.0.0.1.job ]]
+ local target_file=.local/jobs/10.0.0.1.job
+ [[ true == true ]]
+ [[ -f .local/jobs/10.0.0.1.job ]]
++ basename .local/jobs/10.0.0.1.job
+ local base=10.0.0.1.job
++ dirname .local/jobs/10.0.0.1.job
+ local parent=.local/jobs
+ local 'format=File: 10.0.0.1.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: 10.0.0.1.job
Parent: .local/jobs
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' .local/jobs/10.0.0.1.job
File: 10.0.0.1.job
Parent: .local/jobs
Size: 135802 bytes
Blocks/Inode: 272 / 236555218
Mode: -rw-r--r--
+ ((  5 > 0  ))
+ valid_job_pids=()
+ for pid in "${job_pids[@]}"
+ kill -0 86638
+ valid_job_pids+=("$pid")
+ for pid in "${job_pids[@]}"
+ kill -0 86641
+ ip=10.0.1.2
+ print '\n[INFO] Completed IP: 10.0.1.2 (PID: 86641)'
+ [[ -n \n[INFO] Completed IP: 10.0.1.2 (PID: 86641) ]]
+ echo -en '\n[INFO] Completed IP: 10.0.1.2 (PID: 86641)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86646
+ ip=172.31.255.254
UID/GID: 501 / 20
+ print '\n[INFO] Completed IP: 172.31.255.254 (PID: 86646)'
+ [[ -n \n[INFO] Completed IP: 172.31.255.254 (PID: 86646) ]]
+ echo -en '\n[INFO] Completed IP: 172.31.255.254 (PID: 86646)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86650
Access: May 13 14:32:52 2025
Modify: May 13 14:32:53 2025
Change: May 13 14:32:53 2025
+ ip=192.168.1.10
+ print '\n[INFO] Completed IP: 192.168.1.10 (PID: 86650)'
+ [[ -n \n[INFO] Completed IP: 192.168.1.10 (PID: 86650) ]]
+ echo -en '\n[INFO] Completed IP: 192.168.1.10 (PID: 86650)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for pid in "${job_pids[@]}"
+ kill -0 86656
+ newline
+ ip=203.0.113.25
+ print '\n[INFO] Completed IP: 203.0.113.25 (PID: 86656)'
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ [[ -n \n[INFO] Completed IP: 203.0.113.25 (PID: 86656) ]]
+ echo -en '\n[INFO] Completed IP: 203.0.113.25 (PID: 86656)'
+ return 0
+ local status=0
+ ((  status != 0  ))
+ print '\n[DONE] IP: 10.0.0.1'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ job_pids=("${valid_job_pids[@]}")
+ sleep 0.5
+ [[ -n \n[DONE] IP: 10.0.0.1 ]]
+ echo -en '\n[DONE] IP: 10.0.0.1'
+ return 0
+ ((  1 > 0  ))
+ valid_job_pids=()
+ for pid in "${job_pids[@]}"
+ kill -0 86638
+ ip=10.0.0.1
+ print '\n[INFO] Completed IP: 10.0.0.1 (PID: 86638)'
+ [[ -n \n[INFO] Completed IP: 10.0.0.1 (PID: 86638) ]]
+ echo -en '\n[INFO] Completed IP: 10.0.0.1 (PID: 86638)'
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ job_pids=("${valid_job_pids[@]}")
+ sleep 0.5
+ ((  0 > 0  ))
+ return 0
+ local json_dir=reports/json
+ local master_json=reports/reports.json
+ expected_reports=5
++ find reports/json -type f -name '*.json'
++ wc -l
++ sed -e 's|\ ||g'
+ actual_reports=5
+ timeout=5
+ elapsed=0
+ ((  actual_reports < expected_reports && elapsed < timeout * 10  ))
+ ((  actual_reports < expected_reports  ))
+ [[ -d reports/json ]]
+ mapfile -t json_files
++ find reports/json -type f -name '*.json'
++ sort
+ ((  5 > 0  ))
+ jq -s . reports/json/10.0.0.1.json reports/json/10.0.1.2.json reports/json/172.31.255.254.json reports/json/192.168.1.10.json reports/json/203.0.113.25.json
+ print_file reports/reports.json
+ [[ -n reports/reports.json ]]
+ local target_file=reports/reports.json
+ [[ true == true ]]
+ [[ -f reports/reports.json ]]
+ list_file reports/reports.json
+ [[ -n reports/reports.json ]]
+ local target_file=reports/reports.json
+ [[ true == true ]]
+ [[ -f reports/reports.json ]]
++ basename reports/reports.json
+ local base=reports.json
++ dirname reports/reports.json
+ local parent=reports
+ local 'format=File: reports.json
Parent: reports
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: reports.json
Parent: reports
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' reports/reports.json
File: reports.json
Parent: reports
Size: 3763 bytes
Blocks/Inode: 8 / 236555241
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:54 2025
Modify: May 13 14:32:54 2025
Change: May 13 14:32:54 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ jq . reports/reports.json
[
  {
    "target": "10.0.0.1",
    "configs": [
      {
        "config": {
          "site": "cisco",
          "device": "fw1.cfg"
        },
        "objects": [
          {
            "object": "object-group",
            "type": "network BU1-NETWORK",
            "description": "false",
            "entries": [
              "network-object host 10.0.0.1",
              "network-object host 10.0.1.2",
              "network-object 192.168.1.0 255.255.255.0"
            ],
            "group": "Identified Matching Entries"
          }
        ]
      },
      {
        "config": {
          "site": "cisco",
          "device": "fw1.cfg"
        },
        "objects": [
          {
            "object": "access-list",
            "type": false,
            "description": "false",
            "entries": [
              "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
            ],
            "group": "Unclassified"
          }
        ]
      },
      {
        "config": {
          "site": "misc",
          "device": "switch.conf"
        },
        "objects": [
          {
            "object": "object-group",
            "type": "network SOME-THING",
            "description": "false",
            "entries": [
              "network-object host 10.0.0.1",
              "network-object 192.168.12.0 255.255.255.0"
            ],
            "group": "Identified Matching Entries"
          }
        ]
      }
    ]
  },
  {
    "target": "10.0.1.2",
    "configs": [
      {
        "config": {
          "site": "cisco",
          "device": "fw1.cfg"
        },
        "objects": [
          {
            "object": "object-group",
            "type": "network BU1-NETWORK",
            "description": "false",
            "entries": [
              "network-object host 10.0.0.1",
              "network-object host 10.0.1.2",
              "network-object 192.168.1.0 255.255.255.0"
            ],
            "group": "Identified Matching Entries"
          }
        ]
      },
      {
        "config": {
          "site": "misc",
          "device": "switch.conf"
        },
        "objects": [
          {
            "object": "interface",
            "type": false,
            "description": "false",
            "entries": [
              "ip address 10.0.1.2 255.255.255.0"
            ],
            "group": "Business-Unit-Networks"
          }
        ]
      }
    ]
  },
  {
    "target": "172.31.255.254",
    "configs": [
      {
        "config": {
          "site": "misc",
          "device": "switch.conf"
        },
        "objects": [
          {
            "object": "interface",
            "type": false,
            "description": "false",
            "entries": [
              "ip address 172.31.255.254 255.255.255.0"
            ],
            "group": "Business-Unit-Networks"
          }
        ]
      }
    ]
  },
  {
    "target": "192.168.1.10",
    "configs": [
      {
        "config": {
          "site": "cisco",
          "device": "fw1.cfg"
        },
        "objects": [
          {
            "object": "object",
            "type": false,
            "description": "false",
            "entries": [
              "host 192.168.1.10"
            ],
            "group": "Business-Unit-HQ"
          }
        ]
      }
    ]
  },
  {
    "target": "203.0.113.25",
    "configs": [
      {
        "config": {
          "site": "cisco",
          "device": "fw1.cfg"
        },
        "objects": [
          {
            "object": "object",
            "type": false,
            "description": "false",
            "entries": [
              "host 203.0.113.25"
            ],
            "group": "Business-Unit-External"
          }
        ]
      }
    ]
  }
]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ generate_csvoutput
+ local input_json=reports/reports.json
+ local output_csv=reports/reports.csv
+ [[ ! -f reports/reports.json ]]
+ message target,site,device,object,entry,description,group
+ [[ -n target,site,device,object,entry,description,group ]]
+ local message=target,site,device,object,entry,description,group
+ print target,site,device,object,entry,description,group
+ [[ -n target,site,device,object,entry,description,group ]]
+ echo -en target,site,device,object,entry,description,group
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo
+ (( i++ ))
+ (( i < count ))
+ jq -r '
        .[] as $entry
        | $entry.configs[]
        | .config as $cfg
        | .objects[]
        | [
            $entry.target,
            $cfg.site,
            $cfg.device,
            (.object // "none"),
            (.entries[0] // "none"),  # assuming you want the first entry
            (.description // "none"),
            (.group // "none")
          ]
        | @csv' reports/reports.json
+ print_file reports/reports.csv
+ [[ -n reports/reports.csv ]]
+ local target_file=reports/reports.csv
+ [[ true == true ]]
+ [[ -f reports/reports.csv ]]
+ list_file reports/reports.csv
+ [[ -n reports/reports.csv ]]
+ local target_file=reports/reports.csv
+ [[ true == true ]]
+ [[ -f reports/reports.csv ]]
++ basename reports/reports.csv
+ local base=reports.csv
++ dirname reports/reports.csv
+ local parent=reports
+ local 'format=File: reports.csv
Parent: reports
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
'
+ stat -f 'File: reports.csv
Parent: reports
Size: %z bytes
Blocks/Inode: %b / %i
Mode: %Sp
UID/GID: %u / %g
Access: %Sa
Modify: %Sm
Change: %Sc
' reports/reports.csv
File: reports.csv
Parent: reports
Size: 939 bytes
Blocks/Inode: 8 / 236555242
Mode: -rw-r--r--
UID/GID: 501 / 20
Access: May 13 14:32:54 2025
Modify: May 13 14:32:54 2025
Change: May 13 14:32:54 2025
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ case "${target_file}" in
+ cat reports/reports.csv
target,site,device,object,entry,description,group
"10.0.0.1","cisco","fw1.cfg","object-group","network-object host 10.0.0.1","false","Identified Matching Entries"
"10.0.0.1","cisco","fw1.cfg","access-list","access-list OUTSIDE extended permit ip host 10.0.0.1 any","false","Unclassified"
"10.0.0.1","misc","switch.conf","object-group","network-object host 10.0.0.1","false","Identified Matching Entries"
"10.0.1.2","cisco","fw1.cfg","object-group","network-object host 10.0.0.1","false","Identified Matching Entries"
"10.0.1.2","misc","switch.conf","interface","ip address 10.0.1.2 255.255.255.0","false","Business-Unit-Networks"
"172.31.255.254","misc","switch.conf","interface","ip address 172.31.255.254 255.255.255.0","false","Business-Unit-Networks"
"192.168.1.10","cisco","fw1.cfg","object","host 192.168.1.10","false","Business-Unit-HQ"
"203.0.113.25","cisco","fw1.cfg","object","host 203.0.113.25","false","Business-Unit-External"
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ [[ true == true ]]
+ [[ -s reports/reports.csv ]]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ message 'CSV Report Summary (tabulated):'
+ [[ -n CSV Report Summary (tabulated): ]]
+ local 'message=CSV Report Summary (tabulated):'
+ print 'CSV Report Summary (tabulated):'
+ [[ -n CSV Report Summary (tabulated): ]]
+ echo -en 'CSV Report Summary (tabulated):'
CSV Report Summary (tabulated):+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ column -t -s, reports/reports.csv
+ less -SFX
target            site     device         object          entry                                                       descr>
"10.0.0.1"        "cisco"  "fw1.cfg"      "object-group"  "network-object host 10.0.0.1"                              "fals>
"10.0.0.1"        "cisco"  "fw1.cfg"      "access-list"   "access-list OUTSIDE extended permit ip host 10.0.0.1 any"  "fals>
"10.0.0.1"        "misc"   "switch.conf"  "object-group"  "network-object host 10.0.0.1"                              "fals>
"10.0.1.2"        "cisco"  "fw1.cfg"      "object-group"  "network-object host 10.0.0.1"                              "fals>
"10.0.1.2"        "misc"   "switch.conf"  "interface"     "ip address 10.0.1.2 255.255.255.0"                         "fals>
"172.31.255.254"  "misc"   "switch.conf"  "interface"     "ip address 172.31.255.254 255.255.255.0"                   "fals>
"192.168.1.10"    "cisco"  "fw1.cfg"      "object"        "host 192.168.1.10"                                         "fals>
"203.0.113.25"    "cisco"  "fw1.cfg"      "object"        "host 203.0.113.25"                                         "fals>
+ return 0
+ local elapsed=5
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ printf '[INFO] Started at: %s\n' '2025-05-13 14:32:51'
[INFO] Started at: 2025-05-13 14:32:51
+ printf '[INFO] Total runtime: %02d:%02d:%02d\n' 0 0 5
[INFO] Total runtime: 00:00:05
+ return 0
+ [[ -d /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.n4HIEFVnn7 ]]
+ rm -rf /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.n4HIEFVnn7

     1	+ set -euo pipefail
     2	+ export LC_ALL=C
     3	+ LC_ALL=C
     4	++ mktemp -d
     5	+ export TMP_DIR=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
     6	+ TMP_DIR=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
     7	+ trap '[[ -d "${TMP_DIR}" ]] && rm -rf "${TMP_DIR}"' EXIT
     8	+ source ./scripts/tools-devops.shell
     9	++ [[ -n '' ]]
    10	++ readonly __TOOLS_DEVOPS_SOURCED=1
    11	++ __TOOLS_DEVOPS_SOURCED=1
    12	++ [[ 5 -lt 4 ]]
    13	++ alias log-info=log_info
    14	++ alias log-warn=log_warn
    15	++ alias log-error=log_error
    16	++ alias error-message=error_message
    17	++ alias exit-error=exit_error
    18	++ alias list-file=list_file
    19	++ alias print-file=print_file
    20	++ alias detect-platform=detect_platform
    21	++ alias install-packages=install_packages
    22	++ alias install-missing=install_missing
    23	++ alias display-help=display_help_generic
    24	++ alias relative-configpath=relative_configpath
    25	++ alias validate-address=validate_address
    26	++ export LC_ALL=C
    27	++ LC_ALL=C
    28	++ export 'nl=\n'
    29	++ nl='\n'
    30	++ local_state_dir=.local
    31	++ mkdir -p .local/errors .local/jobs .local/stats
    32	++ export stats_folder=.local/stats/
    33	++ stats_folder=.local/stats/
    34	++ export reports_logsfile=.local/stats//reports.jobs
    35	++ reports_logsfile=.local/stats//reports.jobs
    36	++ export started_logsfile=.local/stats//started.jobs
    37	++ started_logsfile=.local/stats//started.jobs
    38	++ export success_logsfile=.local/stats//success.jobs
    39	++ success_logsfile=.local/stats//success.jobs
    40	++ export targets_logsfile=.local/stats//targets.jobs
    41	++ targets_logsfile=.local/stats//targets.jobs
    42	+++ date +%s%N
    43	+++ base64
    44	+++ tr -dc a-zA-Z0-9
    45	++ export divisor=MTc0NzE3MTk3Mjg0NzQzNTAwMAo
    46	++ divisor=MTc0NzE3MTk3Mjg0NzQzNTAwMAo
    47	++ print 'DEBUG: divisor = '\''MTc0NzE3MTk3Mjg0NzQzNTAwMAo'\'''
    48	++ [[ -n DEBUG: divisor = 'MTc0NzE3MTk3Mjg0NzQzNTAwMAo' ]]
    49	++ echo -en 'DEBUG: divisor = '\''MTc0NzE3MTk3Mjg0NzQzNTAwMAo'\'''
    50	DEBUG: divisor = 'MTc0NzE3MTk3Mjg0NzQzNTAwMAo'+ source ./scripts/tools-extraction.shell
    51	++ [[ -n '' ]]
    52	++ readonly __TOOLS_EXTRACTION_SOURCED=1
    53	++ __TOOLS_EXTRACTION_SOURCED=1
    54	++ alias extract-configs=extract_configs
    55	++ alias process-configs=process_configs
    56	+ alias parse-configs=main
    57	+ matched_blocks_byfile=()
    58	+ declare -gA matched_blocks_byfile
    59	+ export script_name=./scripts/parse-configs.shell
    60	+ script_name=./scripts/parse-configs.shell
    61	+ [[ 9 -ge 1 ]]
    62	+ [[ --configs=configs =~ ^-*(h|help)$ ]]
    63	+ main --configs=configs --ip-addr=10.0.0.1 --index=1 --matrix=matrix.json --reports=reports --file-ext=cfg,conf,cnf --classify --verbose --debug
    64	+ file_extensions=()
    65	+ declare -a file_extensions
    66	+ oIFS='
    67	'
    68	+ for xitem in "${@}"
    69	+ IFS==
    70	+ read -r key value
    71	++ echo -e --configs=configs
    72	++ sed -e '1s|^\(-\)\{1,\}||'
    73	+ [[ configs =~ ^(classify|g)$ ]]
    74	+ [[ configs =~ ^(file-ext|x)$ ]]
    75	+ [[ configs =~ ^(configs|c)$ ]]
    76	+ export configs_dirpath=configs
    77	+ configs_dirpath=configs
    78	+ [[ configs =~ ^(index|n)$ ]]
    79	+ [[ configs =~ ^(ip-addr|i)$ ]]
    80	+ [[ configs =~ ^(logs|o)$ ]]
    81	+ [[ configs =~ ^(matrix|m)$ ]]
    82	+ [[ configs =~ ^(reports|r)$ ]]
    83	+ [[ configs =~ ^(validate|v)$ ]]
    84	+ [[ configs == \h\e\l\p ]]
    85	+ [[ configs == \d\e\b\u\g ]]
    86	+ [[ configs == \d\r\y\-\r\u\n ]]
    87	+ [[ configs == \v\e\r\b\o\s\e ]]
    88	+ for xitem in "${@}"
    89	+ IFS==
    90	+ read -r key value
    91	++ echo -e --ip-addr=10.0.0.1
    92	++ sed -e '1s|^\(-\)\{1,\}||'
    93	+ [[ ip-addr =~ ^(classify|g)$ ]]
    94	+ [[ ip-addr =~ ^(file-ext|x)$ ]]
    95	+ [[ ip-addr =~ ^(configs|c)$ ]]
    96	+ [[ ip-addr =~ ^(index|n)$ ]]
    97	+ [[ ip-addr =~ ^(ip-addr|i)$ ]]
    98	+ local target_address=10.0.0.1
    99	+ [[ ip-addr =~ ^(logs|o)$ ]]
   100	+ [[ ip-addr =~ ^(matrix|m)$ ]]
   101	+ [[ ip-addr =~ ^(reports|r)$ ]]
   102	+ [[ ip-addr =~ ^(validate|v)$ ]]
   103	+ [[ ip-addr == \h\e\l\p ]]
   104	+ [[ ip-addr == \d\e\b\u\g ]]
   105	+ [[ ip-addr == \d\r\y\-\r\u\n ]]
   106	+ [[ ip-addr == \v\e\r\b\o\s\e ]]
   107	+ for xitem in "${@}"
   108	+ IFS==
   109	+ read -r key value
   110	++ echo -e --index=1
   111	++ sed -e '1s|^\(-\)\{1,\}||'
   112	+ [[ index =~ ^(classify|g)$ ]]
   113	+ [[ index =~ ^(file-ext|x)$ ]]
   114	+ [[ index =~ ^(configs|c)$ ]]
   115	+ [[ index =~ ^(index|n)$ ]]
   116	+ local target_index=1
   117	+ [[ index =~ ^(ip-addr|i)$ ]]
   118	+ [[ index =~ ^(logs|o)$ ]]
   119	+ [[ index =~ ^(matrix|m)$ ]]
   120	+ [[ index =~ ^(reports|r)$ ]]
   121	+ [[ index =~ ^(validate|v)$ ]]
   122	+ [[ index == \h\e\l\p ]]
   123	+ [[ index == \d\e\b\u\g ]]
   124	+ [[ index == \d\r\y\-\r\u\n ]]
   125	+ [[ index == \v\e\r\b\o\s\e ]]
   126	+ for xitem in "${@}"
   127	+ IFS==
   128	+ read -r key value
   129	++ echo -e --matrix=matrix.json
   130	++ sed -e '1s|^\(-\)\{1,\}||'
   131	+ [[ matrix =~ ^(classify|g)$ ]]
   132	+ [[ matrix =~ ^(file-ext|x)$ ]]
   133	+ [[ matrix =~ ^(configs|c)$ ]]
   134	+ [[ matrix =~ ^(index|n)$ ]]
   135	+ [[ matrix =~ ^(ip-addr|i)$ ]]
   136	+ [[ matrix =~ ^(logs|o)$ ]]
   137	+ [[ matrix =~ ^(matrix|m)$ ]]
   138	+ local matrix_filename=matrix.json
   139	+ [[ matrix =~ ^(reports|r)$ ]]
   140	+ [[ matrix =~ ^(validate|v)$ ]]
   141	+ [[ matrix == \h\e\l\p ]]
   142	+ [[ matrix == \d\e\b\u\g ]]
   143	+ [[ matrix == \d\r\y\-\r\u\n ]]
   144	+ [[ matrix == \v\e\r\b\o\s\e ]]
   145	+ for xitem in "${@}"
   146	+ IFS==
   147	+ read -r key value
   148	++ echo -e --reports=reports
   149	++ sed -e '1s|^\(-\)\{1,\}||'
   150	+ [[ reports =~ ^(classify|g)$ ]]
   151	+ [[ reports =~ ^(file-ext|x)$ ]]
   152	+ [[ reports =~ ^(configs|c)$ ]]
   153	+ [[ reports =~ ^(index|n)$ ]]
   154	+ [[ reports =~ ^(ip-addr|i)$ ]]
   155	+ [[ reports =~ ^(logs|o)$ ]]
   156	+ [[ reports =~ ^(matrix|m)$ ]]
   157	+ [[ reports =~ ^(reports|r)$ ]]
   158	+ local reports_folder=reports
   159	+ [[ reports =~ ^(validate|v)$ ]]
   160	+ [[ reports == \h\e\l\p ]]
   161	+ [[ reports == \d\e\b\u\g ]]
   162	+ [[ reports == \d\r\y\-\r\u\n ]]
   163	+ [[ reports == \v\e\r\b\o\s\e ]]
   164	+ for xitem in "${@}"
   165	+ IFS==
   166	+ read -r key value
   167	++ echo -e --file-ext=cfg,conf,cnf
   168	++ sed -e '1s|^\(-\)\{1,\}||'
   169	+ [[ file-ext =~ ^(classify|g)$ ]]
   170	+ [[ file-ext =~ ^(file-ext|x)$ ]]
   171	+ file_extensions+=($(print "${value}" | tr ':,;\n ' '\n'))
   172	++ print cfg,conf,cnf
   173	++ [[ -n cfg,conf,cnf ]]
   174	++ echo -en cfg,conf,cnf
   175	++ tr ':,;\n ' '\n'
   176	+ [[ file-ext =~ ^(configs|c)$ ]]
   177	+ [[ file-ext =~ ^(index|n)$ ]]
   178	+ [[ file-ext =~ ^(ip-addr|i)$ ]]
   179	+ [[ file-ext =~ ^(logs|o)$ ]]
   180	+ [[ file-ext =~ ^(matrix|m)$ ]]
   181	+ [[ file-ext =~ ^(reports|r)$ ]]
   182	+ [[ file-ext =~ ^(validate|v)$ ]]
   183	+ [[ file-ext == \h\e\l\p ]]
   184	+ [[ file-ext == \d\e\b\u\g ]]
   185	+ [[ file-ext == \d\r\y\-\r\u\n ]]
   186	+ [[ file-ext == \v\e\r\b\o\s\e ]]
   187	+ for xitem in "${@}"
   188	+ IFS==
   189	+ read -r key value
   190	++ echo -e --classify
   191	++ sed -e '1s|^\(-\)\{1,\}||'
   192	+ [[ classify =~ ^(classify|g)$ ]]
   193	+ export classify_targets=true
   194	+ classify_targets=true
   195	+ [[ classify =~ ^(file-ext|x)$ ]]
   196	+ [[ classify =~ ^(configs|c)$ ]]
   197	+ [[ classify =~ ^(index|n)$ ]]
   198	+ [[ classify =~ ^(ip-addr|i)$ ]]
   199	+ [[ classify =~ ^(logs|o)$ ]]
   200	+ [[ classify =~ ^(matrix|m)$ ]]
   201	+ [[ classify =~ ^(reports|r)$ ]]
   202	+ [[ classify =~ ^(validate|v)$ ]]
   203	+ [[ classify == \h\e\l\p ]]
   204	+ [[ classify == \d\e\b\u\g ]]
   205	+ [[ classify == \d\r\y\-\r\u\n ]]
   206	+ [[ classify == \v\e\r\b\o\s\e ]]
   207	+ for xitem in "${@}"
   208	+ IFS==
   209	+ read -r key value
   210	++ echo -e --verbose
   211	++ sed -e '1s|^\(-\)\{1,\}||'
   212	+ [[ verbose =~ ^(classify|g)$ ]]
   213	+ [[ verbose =~ ^(file-ext|x)$ ]]
   214	+ [[ verbose =~ ^(configs|c)$ ]]
   215	+ [[ verbose =~ ^(index|n)$ ]]
   216	+ [[ verbose =~ ^(ip-addr|i)$ ]]
   217	+ [[ verbose =~ ^(logs|o)$ ]]
   218	+ [[ verbose =~ ^(matrix|m)$ ]]
   219	+ [[ verbose =~ ^(reports|r)$ ]]
   220	+ [[ verbose =~ ^(validate|v)$ ]]
   221	+ [[ verbose == \h\e\l\p ]]
   222	+ [[ verbose == \d\e\b\u\g ]]
   223	+ [[ verbose == \d\r\y\-\r\u\n ]]
   224	+ [[ verbose == \v\e\r\b\o\s\e ]]
   225	+ export verbose=true
   226	+ verbose=true
   227	+ for xitem in "${@}"
   228	+ IFS==
   229	+ read -r key value
   230	++ echo -e --debug
   231	++ sed -e '1s|^\(-\)\{1,\}||'
   232	+ [[ debug =~ ^(classify|g)$ ]]
   233	+ [[ debug =~ ^(file-ext|x)$ ]]
   234	+ [[ debug =~ ^(configs|c)$ ]]
   235	+ [[ debug =~ ^(index|n)$ ]]
   236	+ [[ debug =~ ^(ip-addr|i)$ ]]
   237	+ [[ debug =~ ^(logs|o)$ ]]
   238	+ [[ debug =~ ^(matrix|m)$ ]]
   239	+ [[ debug =~ ^(reports|r)$ ]]
   240	+ [[ debug =~ ^(validate|v)$ ]]
   241	+ [[ debug == \h\e\l\p ]]
   242	+ [[ debug == \d\e\b\u\g ]]
   243	+ export debug=true
   244	+ debug=true
   245	+ [[ debug == \d\r\y\-\r\u\n ]]
   246	+ [[ debug == \v\e\r\b\o\s\e ]]
   247	+ IFS='
   248	'
   249	+ [[ -z true ]]
   250	+ [[ -z true ]]
   251	+ [[ '' == true ]]
   252	+ [[ -z true ]]
   253	+ [[ -z x ]]
   254	+ [[ 3 -eq 0 ]]
   255	+ export configs_dirpath=configs
   256	+ configs_dirpath=configs
   257	+ source_configs=()
   258	+ declare -ga source_configs
   259	+ target_configlist_json=targets/10.0.0.1.json
   260	+ [[ ! -f targets/10.0.0.1.json ]]
   261	+ mapfile -t source_configs
   262	++ jq -r '.configs[] | "\(.config.site)/\(.config.device)"' targets/10.0.0.1.json
   263	+ for i in "${!source_configs[@]}"
   264	+ [[ cisco/fw1.cfg != \c\o\n\f\i\g\s\/* ]]
   265	+ source_configs[$i]=configs/cisco/fw1.cfg
   266	+ for i in "${!source_configs[@]}"
   267	+ [[ misc/switch.conf != \c\o\n\f\i\g\s\/* ]]
   268	+ source_configs[$i]=configs/misc/switch.conf
   269	+ [[ true == true ]]
   270	+ print 'Config JSON file used: targets/10.0.0.1.json'
   271	+ [[ -n Config JSON file used: targets/10.0.0.1.json ]]
   272	+ echo -en 'Config JSON file used: targets/10.0.0.1.json'
   273	Config JSON file used: targets/10.0.0.1.json+ print 'Extracted config paths from JSON:'
   274	+ [[ -n Extracted config paths from JSON: ]]
   275	+ echo -en 'Extracted config paths from JSON:'
   276	Extracted config paths from JSON:+ for cfg in "${source_configs[@]}"
   277	+ print ' - configs/cisco/fw1.cfg'
   278	+ [[ -n  - configs/cisco/fw1.cfg ]]
   279	+ echo -en ' - configs/cisco/fw1.cfg'
   280	 - configs/cisco/fw1.cfg+ for cfg in "${source_configs[@]}"
   281	+ print ' - configs/misc/switch.conf'
   282	+ [[ -n  - configs/misc/switch.conf ]]
   283	+ echo -en ' - configs/misc/switch.conf'
   284	 - configs/misc/switch.conf+ newline
   285	+ local count=1
   286	+ (( i = 0 ))
   287	+ (( i < count ))
   288	+ echo
   289
   290	+ (( i++ ))
   291	+ (( i < count ))
   292	+ local matrix_filename=matrix.json
   293	+ [[ ! -f matrix.json ]]
   294	+ jq -e 'length > 0' matrix.json
   295	++ cat matrix.json
   296	+ export 'matrix_configs=[
   297	  {
   298	    "match": ["BU1-NETWORK", "SOME-THING"],
   299	    "group": "Identified Matching Entries"
   300	  },
   301	  {
   302	    "match": ["Corporate HQ Subnets", "Server-192-168-1-10"],
   303	    "group": "Business-Unit-HQ"
   304	  },
   305	  {
   306	    "match": ["Remote-Site-Office", "All-Offices", "Branch-Office"],
   307	    "group": "Business-Unit-Remote"
   308	  },
   309	  {
   310	    "match": ["HQ-Server", "Production-Servers"],
   311	    "group": "Business-Unit-Production"
   312	  },
   313	  {
   314	    "match": ["Web-Server", "Data-Backup"],
   315	    "group": "Business-Unit-Backup"
   316	  },
   317	  {
   318	    "match": ["web_pool", "db_pool"],
   319	    "group": "Business-Unit-Apps"
   320	  },
   321	  {
   322	    "match": ["Vlan1", "Vlan2"],
   323	    "group": "Business-Unit-Networks"
   324	  },
   325	  {
   326	    "match": ["External-203-0-113-25"],
   327	    "group": "Business-Unit-External"
   328	  },
   329	  {
   330	    "match": ["Unused-Host"],
   331	    "group": "Business-Unit-Orphan"
   332	  }
   333	]'
   334	+ matrix_configs='[
   335	  {
   336	    "match": ["BU1-NETWORK", "SOME-THING"],
   337	    "group": "Identified Matching Entries"
   338	  },
   339	  {
   340	    "match": ["Corporate HQ Subnets", "Server-192-168-1-10"],
   341	    "group": "Business-Unit-HQ"
   342	  },
   343	  {
   344	    "match": ["Remote-Site-Office", "All-Offices", "Branch-Office"],
   345	    "group": "Business-Unit-Remote"
   346	  },
   347	  {
   348	    "match": ["HQ-Server", "Production-Servers"],
   349	    "group": "Business-Unit-Production"
   350	  },
   351	  {
   352	    "match": ["Web-Server", "Data-Backup"],
   353	    "group": "Business-Unit-Backup"
   354	  },
   355	  {
   356	    "match": ["web_pool", "db_pool"],
   357	    "group": "Business-Unit-Apps"
   358	  },
   359	  {
   360	    "match": ["Vlan1", "Vlan2"],
   361	    "group": "Business-Unit-Networks"
   362	  },
   363	  {
   364	    "match": ["External-203-0-113-25"],
   365	    "group": "Business-Unit-External"
   366	  },
   367	  {
   368	    "match": ["Unused-Host"],
   369	    "group": "Business-Unit-Orphan"
   370	  }
   371	]'
   372	+ export reports_folder=reports
   373	+ reports_folder=reports
   374	+ mkdir -p reports/json reports/objects
   375	+ [[ -z 1 ]]
   376	+ [[ -z false ]]
   377	+ [[ -z 10.0.0.1 ]]
   378	++ print 10.0.0.1
   379	++ [[ -n 10.0.0.1 ]]
   380	++ echo -en 10.0.0.1
   381	++ sed -E 's/[[:space:]]+//g'
   382	++ tr -d '\r'
   383	+ target_address=10.0.0.1
   384	+ [[ false == true ]]
   385	+ export tmp_fragments=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
   386	+ tmp_fragments=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
   387	+ for cfg_file in "${source_configs[@]}"
   388	+ extract_configs configs/cisco/fw1.cfg 10.0.0.1 targets/10.0.0.1.json /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
   389	+ local config_file=configs/cisco/fw1.cfg
   390	+ local target_pattern=10.0.0.1
   391	+ local target_listing=targets/10.0.0.1.json
   392	+ local json_output=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
   393	+ [[ ! -f configs/cisco/fw1.cfg ]]
   394	+ message '[DEBUG] Checking if config file exists and is readable: configs/cisco/fw1.cfg'
   395	+ [[ -n [DEBUG] Checking if config file exists and is readable: configs/cisco/fw1.cfg ]]
   396	+ local 'message=[DEBUG] Checking if config file exists and is readable: configs/cisco/fw1.cfg'
   397	+ print '[DEBUG] Checking if config file exists and is readable: configs/cisco/fw1.cfg'
   398	+ [[ -n [DEBUG] Checking if config file exists and is readable: configs/cisco/fw1.cfg ]]
   399	+ echo -en '[DEBUG] Checking if config file exists and is readable: configs/cisco/fw1.cfg'
   400	[DEBUG] Checking if config file exists and is readable: configs/cisco/fw1.cfg+ newline
   401	+ local count=1
   402	+ (( i = 0 ))
   403	+ (( i < count ))
   404	+ echo
   405
   406	+ (( i++ ))
   407	+ (( i < count ))
   408	+ [[ ! -s configs/cisco/fw1.cfg ]]
   409	++ stat -c%s configs/cisco/fw1.cfg
   410	stat: illegal option -- c
   411	usage: stat [-FLnq] [-f format | -l | -r | -s | -x] [-t timefmt] [file ...]
   412	+ message '[OK] File '\''configs/cisco/fw1.cfg'\'' is readable and size is  bytes'
   413	+ [[ -n [OK] File 'configs/cisco/fw1.cfg' is readable and size is  bytes ]]
   414	+ local 'message=[OK] File '\''configs/cisco/fw1.cfg'\'' is readable and size is  bytes'
   415	+ print '[OK] File '\''configs/cisco/fw1.cfg'\'' is readable and size is  bytes'
   416	+ [[ -n [OK] File 'configs/cisco/fw1.cfg' is readable and size is  bytes ]]
   417	+ echo -en '[OK] File '\''configs/cisco/fw1.cfg'\'' is readable and size is  bytes'
   418	[OK] File 'configs/cisco/fw1.cfg' is readable and size is  bytes+ newline
   419	+ local count=1
   420	+ (( i = 0 ))
   421	+ (( i < count ))
   422	+ echo
   423
   424	+ (( i++ ))
   425	+ (( i < count ))
   426	+ local 'imported_content=object-group network BU1-NETWORK
   427	 description Corporate HQ Subnets
   428	 network-object host 10.0.0.1
   429	 network-object host 10.0.1.2
   430	 network-object 192.168.1.0 255.255.255.0
   431	!
   432
   433	object-group network BU2-WIRELESS
   434	 description Corporate HQ Subnets
   435	 network-object host 10.0.0.10
   436	 network-object host 10.0.1.200
   437	 network-object 192.168.1.0 255.255.255.0
   438
   439	object-group network BU3-WAN
   440	 description Corporate HQ Subnets
   441	 network-object host 10.0.0.11
   442	 network-object host 10.0.1.112
   443	 network-object 192.168.1.0 255.255.255.0
   444
   445	object-group network BU4-LAN
   446	 description Corporate HQ Subnets
   447	 network-object host 10.0.0.100
   448	 network-object host 10.0.1.12
   449	 network-object 192.168.1.0 255.255.255.0
   450
   451	object network Server-192-168-1-10
   452	 host 192.168.1.10
   453	 description Main Application Server
   454	!
   455	!!!!!
   456
   457	!
   458
   459
   460
   461	object network External-203-0-113-25
   462	 host 203.0.113.25
   463	!
   464
   465
   466	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   467	access-list OUTSIDE extended deny ip any any
   468	!
   469	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   470	!'
   471	+ [[ true == true ]]
   472	+ message 'Imported Content: object-group network BU1-NETWORK
   473	 description Corporate HQ Subnets
   474	 network-object host 10.0.0.1
   475	 network-object host 10.0.1.2
   476	 network-object 192.168.1.0 255.255.255.0
   477	!
   478
   479	object-group network BU2-WIRELESS
   480	 description Corporate HQ Subnets
   481	 network-object host 10.0.0.10
   482	 network-object host 10.0.1.200
   483	 network-object 192.168.1.0 255.255.255.0
   484
   485	object-group network BU3-WAN
   486	 description Corporate HQ Subnets
   487	 network-object host 10.0.0.11
   488	 network-object host 10.0.1.112
   489	 network-object 192.168.1.0 255.255.255.0
   490
   491	object-group network BU4-LAN
   492	 description Corporate HQ Subnets
   493	 network-object host 10.0.0.100
   494	 network-object host 10.0.1.12
   495	 network-object 192.168.1.0 255.255.255.0
   496
   497	object network Server-192-168-1-10
   498	 host 192.168.1.10
   499	 description Main Application Server
   500	!
   501	!!!!!
   502
   503	!
   504
   505
   506
   507	object network External-203-0-113-25
   508	 host 203.0.113.25
   509	!
   510
   511
   512	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   513	access-list OUTSIDE extended deny ip any any
   514	!
   515	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   516	!'
   517	+ [[ -n Imported Content: object-group network BU1-NETWORK
   518	 description Corporate HQ Subnets
   519	 network-object host 10.0.0.1
   520	 network-object host 10.0.1.2
   521	 network-object 192.168.1.0 255.255.255.0
   522	!
   523
   524	object-group network BU2-WIRELESS
   525	 description Corporate HQ Subnets
   526	 network-object host 10.0.0.10
   527	 network-object host 10.0.1.200
   528	 network-object 192.168.1.0 255.255.255.0
   529
   530	object-group network BU3-WAN
   531	 description Corporate HQ Subnets
   532	 network-object host 10.0.0.11
   533	 network-object host 10.0.1.112
   534	 network-object 192.168.1.0 255.255.255.0
   535
   536	object-group network BU4-LAN
   537	 description Corporate HQ Subnets
   538	 network-object host 10.0.0.100
   539	 network-object host 10.0.1.12
   540	 network-object 192.168.1.0 255.255.255.0
   541
   542	object network Server-192-168-1-10
   543	 host 192.168.1.10
   544	 description Main Application Server
   545	!
   546	!!!!!
   547
   548	!
   549
   550
   551
   552	object network External-203-0-113-25
   553	 host 203.0.113.25
   554	!
   555
   556
   557	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   558	access-list OUTSIDE extended deny ip any any
   559	!
   560	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   561	! ]]
   562	+ local 'message=Imported Content: object-group network BU1-NETWORK
   563	 description Corporate HQ Subnets
   564	 network-object host 10.0.0.1
   565	 network-object host 10.0.1.2
   566	 network-object 192.168.1.0 255.255.255.0
   567	!
   568
   569	object-group network BU2-WIRELESS
   570	 description Corporate HQ Subnets
   571	 network-object host 10.0.0.10
   572	 network-object host 10.0.1.200
   573	 network-object 192.168.1.0 255.255.255.0
   574
   575	object-group network BU3-WAN
   576	 description Corporate HQ Subnets
   577	 network-object host 10.0.0.11
   578	 network-object host 10.0.1.112
   579	 network-object 192.168.1.0 255.255.255.0
   580
   581	object-group network BU4-LAN
   582	 description Corporate HQ Subnets
   583	 network-object host 10.0.0.100
   584	 network-object host 10.0.1.12
   585	 network-object 192.168.1.0 255.255.255.0
   586
   587	object network Server-192-168-1-10
   588	 host 192.168.1.10
   589	 description Main Application Server
   590	!
   591	!!!!!
   592
   593	!
   594
   595
   596
   597	object network External-203-0-113-25
   598	 host 203.0.113.25
   599	!
   600
   601
   602	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   603	access-list OUTSIDE extended deny ip any any
   604	!
   605	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   606	!'
   607	+ print 'Imported Content: object-group network BU1-NETWORK
   608	 description Corporate HQ Subnets
   609	 network-object host 10.0.0.1
   610	 network-object host 10.0.1.2
   611	 network-object 192.168.1.0 255.255.255.0
   612	!
   613
   614	object-group network BU2-WIRELESS
   615	 description Corporate HQ Subnets
   616	 network-object host 10.0.0.10
   617	 network-object host 10.0.1.200
   618	 network-object 192.168.1.0 255.255.255.0
   619
   620	object-group network BU3-WAN
   621	 description Corporate HQ Subnets
   622	 network-object host 10.0.0.11
   623	 network-object host 10.0.1.112
   624	 network-object 192.168.1.0 255.255.255.0
   625
   626	object-group network BU4-LAN
   627	 description Corporate HQ Subnets
   628	 network-object host 10.0.0.100
   629	 network-object host 10.0.1.12
   630	 network-object 192.168.1.0 255.255.255.0
   631
   632	object network Server-192-168-1-10
   633	 host 192.168.1.10
   634	 description Main Application Server
   635	!
   636	!!!!!
   637
   638	!
   639
   640
   641
   642	object network External-203-0-113-25
   643	 host 203.0.113.25
   644	!
   645
   646
   647	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   648	access-list OUTSIDE extended deny ip any any
   649	!
   650	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   651	!'
   652	+ [[ -n Imported Content: object-group network BU1-NETWORK
   653	 description Corporate HQ Subnets
   654	 network-object host 10.0.0.1
   655	 network-object host 10.0.1.2
   656	 network-object 192.168.1.0 255.255.255.0
   657	!
   658
   659	object-group network BU2-WIRELESS
   660	 description Corporate HQ Subnets
   661	 network-object host 10.0.0.10
   662	 network-object host 10.0.1.200
   663	 network-object 192.168.1.0 255.255.255.0
   664
   665	object-group network BU3-WAN
   666	 description Corporate HQ Subnets
   667	 network-object host 10.0.0.11
   668	 network-object host 10.0.1.112
   669	 network-object 192.168.1.0 255.255.255.0
   670
   671	object-group network BU4-LAN
   672	 description Corporate HQ Subnets
   673	 network-object host 10.0.0.100
   674	 network-object host 10.0.1.12
   675	 network-object 192.168.1.0 255.255.255.0
   676
   677	object network Server-192-168-1-10
   678	 host 192.168.1.10
   679	 description Main Application Server
   680	!
   681	!!!!!
   682
   683	!
   684
   685
   686
   687	object network External-203-0-113-25
   688	 host 203.0.113.25
   689	!
   690
   691
   692	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   693	access-list OUTSIDE extended deny ip any any
   694	!
   695	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   696	! ]]
   697	+ echo -en 'Imported Content: object-group network BU1-NETWORK
   698	 description Corporate HQ Subnets
   699	 network-object host 10.0.0.1
   700	 network-object host 10.0.1.2
   701	 network-object 192.168.1.0 255.255.255.0
   702	!
   703
   704	object-group network BU2-WIRELESS
   705	 description Corporate HQ Subnets
   706	 network-object host 10.0.0.10
   707	 network-object host 10.0.1.200
   708	 network-object 192.168.1.0 255.255.255.0
   709
   710	object-group network BU3-WAN
   711	 description Corporate HQ Subnets
   712	 network-object host 10.0.0.11
   713	 network-object host 10.0.1.112
   714	 network-object 192.168.1.0 255.255.255.0
   715
   716	object-group network BU4-LAN
   717	 description Corporate HQ Subnets
   718	 network-object host 10.0.0.100
   719	 network-object host 10.0.1.12
   720	 network-object 192.168.1.0 255.255.255.0
   721
   722	object network Server-192-168-1-10
   723	 host 192.168.1.10
   724	 description Main Application Server
   725	!
   726	!!!!!
   727
   728	!
   729
   730
   731
   732	object network External-203-0-113-25
   733	 host 203.0.113.25
   734	!
   735
   736
   737	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   738	access-list OUTSIDE extended deny ip any any
   739	!
   740	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   741	!'
   742	Imported Content: object-group network BU1-NETWORK
   743	 description Corporate HQ Subnets
   744	 network-object host 10.0.0.1
   745	 network-object host 10.0.1.2
   746	 network-object 192.168.1.0 255.255.255.0
   747	!
   748
   749	object-group network BU2-WIRELESS
   750	 description Corporate HQ Subnets
   751	 network-object host 10.0.0.10
   752	 network-object host 10.0.1.200
   753	 network-object 192.168.1.0 255.255.255.0
   754
   755	object-group network BU3-WAN
   756	 description Corporate HQ Subnets
   757	 network-object host 10.0.0.11
   758	 network-object host 10.0.1.112
   759	 network-object 192.168.1.0 255.255.255.0
   760
   761	object-group network BU4-LAN
   762	 description Corporate HQ Subnets
   763	 network-object host 10.0.0.100
   764	 network-object host 10.0.1.12
   765	 network-object 192.168.1.0 255.255.255.0
   766
   767	object network Server-192-168-1-10
   768	 host 192.168.1.10
   769	 description Main Application Server
   770	!
   771	!!!!!
   772
   773	!
   774
   775
   776
   777	object network External-203-0-113-25
   778	 host 203.0.113.25
   779	!
   780
   781
   782	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   783	access-list OUTSIDE extended deny ip any any
   784	!
   785	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25
   786	!+ newline
   787	+ local count=1
   788	+ (( i = 0 ))
   789	+ (( i < count ))
   790	+ echo
   791
   792	+ (( i++ ))
   793	+ (( i < count ))
   794	++ sed '/^\s*$/d;/^\s*!.*$/d'
   795	+ local 'sanitized_content=object-group network BU1-NETWORK
   796	 description Corporate HQ Subnets
   797	 network-object host 10.0.0.1
   798	 network-object host 10.0.1.2
   799	 network-object 192.168.1.0 255.255.255.0
   800	object-group network BU2-WIRELESS
   801	 description Corporate HQ Subnets
   802	 network-object host 10.0.0.10
   803	 network-object host 10.0.1.200
   804	 network-object 192.168.1.0 255.255.255.0
   805	object-group network BU3-WAN
   806	 description Corporate HQ Subnets
   807	 network-object host 10.0.0.11
   808	 network-object host 10.0.1.112
   809	 network-object 192.168.1.0 255.255.255.0
   810	object-group network BU4-LAN
   811	 description Corporate HQ Subnets
   812	 network-object host 10.0.0.100
   813	 network-object host 10.0.1.12
   814	 network-object 192.168.1.0 255.255.255.0
   815	object network Server-192-168-1-10
   816	 host 192.168.1.10
   817	 description Main Application Server
   818	object network External-203-0-113-25
   819	 host 203.0.113.25
   820	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   821	access-list OUTSIDE extended deny ip any any
   822	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25'
   823	+ [[ true == true ]]
   824	+ message 'Sanitized Content: object-group network BU1-NETWORK
   825	 description Corporate HQ Subnets
   826	 network-object host 10.0.0.1
   827	 network-object host 10.0.1.2
   828	 network-object 192.168.1.0 255.255.255.0
   829	object-group network BU2-WIRELESS
   830	 description Corporate HQ Subnets
   831	 network-object host 10.0.0.10
   832	 network-object host 10.0.1.200
   833	 network-object 192.168.1.0 255.255.255.0
   834	object-group network BU3-WAN
   835	 description Corporate HQ Subnets
   836	 network-object host 10.0.0.11
   837	 network-object host 10.0.1.112
   838	 network-object 192.168.1.0 255.255.255.0
   839	object-group network BU4-LAN
   840	 description Corporate HQ Subnets
   841	 network-object host 10.0.0.100
   842	 network-object host 10.0.1.12
   843	 network-object 192.168.1.0 255.255.255.0
   844	object network Server-192-168-1-10
   845	 host 192.168.1.10
   846	 description Main Application Server
   847	object network External-203-0-113-25
   848	 host 203.0.113.25
   849	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   850	access-list OUTSIDE extended deny ip any any
   851	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25'
   852	+ [[ -n Sanitized Content: object-group network BU1-NETWORK
   853	 description Corporate HQ Subnets
   854	 network-object host 10.0.0.1
   855	 network-object host 10.0.1.2
   856	 network-object 192.168.1.0 255.255.255.0
   857	object-group network BU2-WIRELESS
   858	 description Corporate HQ Subnets
   859	 network-object host 10.0.0.10
   860	 network-object host 10.0.1.200
   861	 network-object 192.168.1.0 255.255.255.0
   862	object-group network BU3-WAN
   863	 description Corporate HQ Subnets
   864	 network-object host 10.0.0.11
   865	 network-object host 10.0.1.112
   866	 network-object 192.168.1.0 255.255.255.0
   867	object-group network BU4-LAN
   868	 description Corporate HQ Subnets
   869	 network-object host 10.0.0.100
   870	 network-object host 10.0.1.12
   871	 network-object 192.168.1.0 255.255.255.0
   872	object network Server-192-168-1-10
   873	 host 192.168.1.10
   874	 description Main Application Server
   875	object network External-203-0-113-25
   876	 host 203.0.113.25
   877	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   878	access-list OUTSIDE extended deny ip any any
   879	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25 ]]
   880	+ local 'message=Sanitized Content: object-group network BU1-NETWORK
   881	 description Corporate HQ Subnets
   882	 network-object host 10.0.0.1
   883	 network-object host 10.0.1.2
   884	 network-object 192.168.1.0 255.255.255.0
   885	object-group network BU2-WIRELESS
   886	 description Corporate HQ Subnets
   887	 network-object host 10.0.0.10
   888	 network-object host 10.0.1.200
   889	 network-object 192.168.1.0 255.255.255.0
   890	object-group network BU3-WAN
   891	 description Corporate HQ Subnets
   892	 network-object host 10.0.0.11
   893	 network-object host 10.0.1.112
   894	 network-object 192.168.1.0 255.255.255.0
   895	object-group network BU4-LAN
   896	 description Corporate HQ Subnets
   897	 network-object host 10.0.0.100
   898	 network-object host 10.0.1.12
   899	 network-object 192.168.1.0 255.255.255.0
   900	object network Server-192-168-1-10
   901	 host 192.168.1.10
   902	 description Main Application Server
   903	object network External-203-0-113-25
   904	 host 203.0.113.25
   905	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   906	access-list OUTSIDE extended deny ip any any
   907	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25'
   908	+ print 'Sanitized Content: object-group network BU1-NETWORK
   909	 description Corporate HQ Subnets
   910	 network-object host 10.0.0.1
   911	 network-object host 10.0.1.2
   912	 network-object 192.168.1.0 255.255.255.0
   913	object-group network BU2-WIRELESS
   914	 description Corporate HQ Subnets
   915	 network-object host 10.0.0.10
   916	 network-object host 10.0.1.200
   917	 network-object 192.168.1.0 255.255.255.0
   918	object-group network BU3-WAN
   919	 description Corporate HQ Subnets
   920	 network-object host 10.0.0.11
   921	 network-object host 10.0.1.112
   922	 network-object 192.168.1.0 255.255.255.0
   923	object-group network BU4-LAN
   924	 description Corporate HQ Subnets
   925	 network-object host 10.0.0.100
   926	 network-object host 10.0.1.12
   927	 network-object 192.168.1.0 255.255.255.0
   928	object network Server-192-168-1-10
   929	 host 192.168.1.10
   930	 description Main Application Server
   931	object network External-203-0-113-25
   932	 host 203.0.113.25
   933	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   934	access-list OUTSIDE extended deny ip any any
   935	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25'
   936	+ [[ -n Sanitized Content: object-group network BU1-NETWORK
   937	 description Corporate HQ Subnets
   938	 network-object host 10.0.0.1
   939	 network-object host 10.0.1.2
   940	 network-object 192.168.1.0 255.255.255.0
   941	object-group network BU2-WIRELESS
   942	 description Corporate HQ Subnets
   943	 network-object host 10.0.0.10
   944	 network-object host 10.0.1.200
   945	 network-object 192.168.1.0 255.255.255.0
   946	object-group network BU3-WAN
   947	 description Corporate HQ Subnets
   948	 network-object host 10.0.0.11
   949	 network-object host 10.0.1.112
   950	 network-object 192.168.1.0 255.255.255.0
   951	object-group network BU4-LAN
   952	 description Corporate HQ Subnets
   953	 network-object host 10.0.0.100
   954	 network-object host 10.0.1.12
   955	 network-object 192.168.1.0 255.255.255.0
   956	object network Server-192-168-1-10
   957	 host 192.168.1.10
   958	 description Main Application Server
   959	object network External-203-0-113-25
   960	 host 203.0.113.25
   961	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   962	access-list OUTSIDE extended deny ip any any
   963	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25 ]]
   964	+ echo -en 'Sanitized Content: object-group network BU1-NETWORK
   965	 description Corporate HQ Subnets
   966	 network-object host 10.0.0.1
   967	 network-object host 10.0.1.2
   968	 network-object 192.168.1.0 255.255.255.0
   969	object-group network BU2-WIRELESS
   970	 description Corporate HQ Subnets
   971	 network-object host 10.0.0.10
   972	 network-object host 10.0.1.200
   973	 network-object 192.168.1.0 255.255.255.0
   974	object-group network BU3-WAN
   975	 description Corporate HQ Subnets
   976	 network-object host 10.0.0.11
   977	 network-object host 10.0.1.112
   978	 network-object 192.168.1.0 255.255.255.0
   979	object-group network BU4-LAN
   980	 description Corporate HQ Subnets
   981	 network-object host 10.0.0.100
   982	 network-object host 10.0.1.12
   983	 network-object 192.168.1.0 255.255.255.0
   984	object network Server-192-168-1-10
   985	 host 192.168.1.10
   986	 description Main Application Server
   987	object network External-203-0-113-25
   988	 host 203.0.113.25
   989	access-list OUTSIDE extended permit ip host 10.0.0.1 any
   990	access-list OUTSIDE extended deny ip any any
   991	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25'
   992	Sanitized Content: object-group network BU1-NETWORK
   993	 description Corporate HQ Subnets
   994	 network-object host 10.0.0.1
   995	 network-object host 10.0.1.2
   996	 network-object 192.168.1.0 255.255.255.0
   997	object-group network BU2-WIRELESS
   998	 description Corporate HQ Subnets
   999	 network-object host 10.0.0.10
  1000	 network-object host 10.0.1.200
  1001	 network-object 192.168.1.0 255.255.255.0
  1002	object-group network BU3-WAN
  1003	 description Corporate HQ Subnets
  1004	 network-object host 10.0.0.11
  1005	 network-object host 10.0.1.112
  1006	 network-object 192.168.1.0 255.255.255.0
  1007	object-group network BU4-LAN
  1008	 description Corporate HQ Subnets
  1009	 network-object host 10.0.0.100
  1010	 network-object host 10.0.1.12
  1011	 network-object 192.168.1.0 255.255.255.0
  1012	object network Server-192-168-1-10
  1013	 host 192.168.1.10
  1014	 description Main Application Server
  1015	object network External-203-0-113-25
  1016	 host 203.0.113.25
  1017	access-list OUTSIDE extended permit ip host 10.0.0.1 any
  1018	access-list OUTSIDE extended deny ip any any
  1019	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25+ newline
  1020	+ local count=1
  1021	+ (( i = 0 ))
  1022	+ (( i < count ))
  1023	+ echo
  1024
  1025	+ (( i++ ))
  1026	+ (( i < count ))
  1027	++ perl -pe 's/\n/MTc0NzE3MTk3Mjg0NzQzNTAwMAo/g'
  1028	+ local 'serialized_objects=object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  1029	+ [[ true == true ]]
  1030	+ message 'Serialized Objects: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  1031	+ [[ -n Serialized Objects: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo ]]
  1032	+ local 'message=Serialized Objects: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  1033	+ print 'Serialized Objects: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  1034	+ [[ -n Serialized Objects: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo ]]
  1035	+ echo -en 'Serialized Objects: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  1036	Serialized Objects: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application ServerMTc0NzE3MTk3Mjg0NzQzNTAwMAoobject network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25MTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended permit ip host 10.0.0.1 anyMTc0NzE3MTk3Mjg0NzQzNTAwMAoaccess-list OUTSIDE extended deny ip any anyMTc0NzE3MTk3Mjg0NzQzNTAwMAonat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo+ newline
  1037	+ local count=1
  1038	+ (( i = 0 ))
  1039	+ (( i < count ))
  1040	+ echo
  1041
  1042	+ (( i++ ))
  1043	+ (( i < count ))
  1044	++ sed -E 's/MTc0NzE3MTk3Mjg0NzQzNTAwMAo([^[:space:]])/\n\1/g'
  1045	+ local 'restored_lines=object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1046	object-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1047	object-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1048	object-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1049	object network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application Server
  1050	object network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25
  1051	access-list OUTSIDE extended permit ip host 10.0.0.1 any
  1052	access-list OUTSIDE extended deny ip any any
  1053	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  1054	+ restored_lines+='
  1055	'
  1056	+ IFS='
  1057	'
  1058	+ read -r -d '' -a config_objects
  1059	++ printf '%s\0' 'object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1060	object-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1061	object-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1062	object-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0
  1063	object network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application Server
  1064	object network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25
  1065	access-list OUTSIDE extended permit ip host 10.0.0.1 any
  1066	access-list OUTSIDE extended deny ip any any
  1067	nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo
  1068	'
  1069	+ [[ true == true ]]
  1070	+ message 'Loaded 9 config blocks'
  1071	+ [[ -n Loaded 9 config blocks ]]
  1072	+ local 'message=Loaded 9 config blocks'
  1073	+ print 'Loaded 9 config blocks'
  1074	+ [[ -n Loaded 9 config blocks ]]
  1075	+ echo -en 'Loaded 9 config blocks'
  1076	Loaded 9 config blocks+ newline
  1077	+ local count=1
  1078	+ (( i = 0 ))
  1079	+ (( i < count ))
  1080	+ echo
  1081
  1082	+ (( i++ ))
  1083	+ (( i < count ))
  1084	+ oIFS='
  1085	'
  1086	+ IFS='
  1087	'
  1088	++ printf '%s\n' 'object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0' 'object-group network BU2-WIRELESSMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.200MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0' 'object-group network BU3-WANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.11MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.112MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0' 'object-group network BU4-LANMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.100MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.12MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0' 'object network Server-192-168-1-10MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 192.168.1.10MTc0NzE3MTk3Mjg0NzQzNTAwMAo description Main Application Server' 'object network External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo host 203.0.113.25' 'access-list OUTSIDE extended permit ip host 10.0.0.1 any' 'access-list OUTSIDE extended deny ip any any' 'nat (inside,outside) source static Server-192-168-1-10 External-203-0-113-25MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  1089	++ grep -E '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)'
  1090	+ matched_objects=('object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0' 'access-list OUTSIDE extended permit ip host 10.0.0.1 any')
  1091	+ declare -a matched_objects
  1092	+ IFS='
  1093	'
  1094	+ [[ true == true ]]
  1095	+ message 'Loaded 2 config blocks'
  1096	+ [[ -n Loaded 2 config blocks ]]
  1097	+ local 'message=Loaded 2 config blocks'
  1098	+ print 'Loaded 2 config blocks'
  1099	+ [[ -n Loaded 2 config blocks ]]
  1100	+ echo -en 'Loaded 2 config blocks'
  1101	Loaded 2 config blocks+ newline
  1102	+ local count=1
  1103	+ (( i = 0 ))
  1104	+ (( i < count ))
  1105	+ echo
  1106
  1107	+ (( i++ ))
  1108	+ (( i < count ))
  1109	+ restored_block=()
  1110	+ declare -a restored_block
  1111	+ for serialized_line in "${matched_objects[@]}"
  1112	+ [[ true == true ]]
  1113	+ message 'Serialized Line: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0'
  1114	+ [[ -n Serialized Line: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0 ]]
  1115	+ local 'message=Serialized Line: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0'
  1116	+ print 'Serialized Line: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0'
  1117	+ [[ -n Serialized Line: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0 ]]
  1118	+ echo -en 'Serialized Line: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0'
  1119	Serialized Line: object-group network BU1-NETWORKMTc0NzE3MTk3Mjg0NzQzNTAwMAo description Corporate HQ SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object host 10.0.1.2MTc0NzE3MTk3Mjg0NzQzNTAwMAo network-object 192.168.1.0 255.255.255.0+ newline
  1120	+ local count=1
  1121	+ (( i = 0 ))
  1122	+ (( i < count ))
  1123	+ echo
  1124
  1125	+ (( i++ ))
  1126	+ (( i < count ))
  1127	++ perl -pe 's/MTc0NzE3MTk3Mjg0NzQzNTAwMAo/\n/g'
  1128	+ restored_block='object-group network BU1-NETWORK
  1129	 description Corporate HQ Subnets
  1130	 network-object host 10.0.0.1
  1131	 network-object host 10.0.1.2
  1132	 network-object 192.168.1.0 255.255.255.0'
  1133	+ [[ true == true ]]
  1134	+ message 'Restored Configuration:\nobject-group network BU1-NETWORK
  1135	 description Corporate HQ Subnets
  1136	 network-object host 10.0.0.1
  1137	 network-object host 10.0.1.2
  1138	 network-object 192.168.1.0 255.255.255.0'
  1139	+ [[ -n Restored Configuration:\nobject-group network BU1-NETWORK
  1140	 description Corporate HQ Subnets
  1141	 network-object host 10.0.0.1
  1142	 network-object host 10.0.1.2
  1143	 network-object 192.168.1.0 255.255.255.0 ]]
  1144	+ local 'message=Restored Configuration:\nobject-group network BU1-NETWORK
  1145	 description Corporate HQ Subnets
  1146	 network-object host 10.0.0.1
  1147	 network-object host 10.0.1.2
  1148	 network-object 192.168.1.0 255.255.255.0'
  1149	+ print 'Restored Configuration:\nobject-group network BU1-NETWORK
  1150	 description Corporate HQ Subnets
  1151	 network-object host 10.0.0.1
  1152	 network-object host 10.0.1.2
  1153	 network-object 192.168.1.0 255.255.255.0'
  1154	+ [[ -n Restored Configuration:\nobject-group network BU1-NETWORK
  1155	 description Corporate HQ Subnets
  1156	 network-object host 10.0.0.1
  1157	 network-object host 10.0.1.2
  1158	 network-object 192.168.1.0 255.255.255.0 ]]
  1159	+ echo -en 'Restored Configuration:\nobject-group network BU1-NETWORK
  1160	 description Corporate HQ Subnets
  1161	 network-object host 10.0.0.1
  1162	 network-object host 10.0.1.2
  1163	 network-object 192.168.1.0 255.255.255.0'
  1164	Restored Configuration:
  1165	object-group network BU1-NETWORK
  1166	 description Corporate HQ Subnets
  1167	 network-object host 10.0.0.1
  1168	 network-object host 10.0.1.2
  1169	 network-object 192.168.1.0 255.255.255.0+ newline
  1170	+ local count=1
  1171	+ (( i = 0 ))
  1172	+ (( i < count ))
  1173	+ echo
  1174
  1175	+ (( i++ ))
  1176	+ (( i < count ))
  1177	+ process_configs 10.0.0.1 configs/cisco/fw1.cfg 'object-group network BU1-NETWORK
  1178	 description Corporate HQ Subnets
  1179	 network-object host 10.0.0.1
  1180	 network-object host 10.0.1.2
  1181	 network-object 192.168.1.0 255.255.255.0'
  1182	+ local target_pattern=10.0.0.1
  1183	+ local config_path=configs/cisco/fw1.cfg
  1184	+ local 'restored_block=object-group network BU1-NETWORK
  1185	 description Corporate HQ Subnets
  1186	 network-object host 10.0.0.1
  1187	 network-object host 10.0.1.2
  1188	 network-object 192.168.1.0 255.255.255.0'
  1189	+ local cleaned_block
  1190	++ sed '/^[[:space:]]*$/d'
  1191	+ cleaned_block='object-group network BU1-NETWORK
  1192	 description Corporate HQ Subnets
  1193	 network-object host 10.0.0.1
  1194	 network-object host 10.0.1.2
  1195	 network-object 192.168.1.0 255.255.255.0'
  1196	+ [[ -z object-group network BU1-NETWORK
  1197	 description Corporate HQ Subnets
  1198	 network-object host 10.0.0.1
  1199	 network-object host 10.0.1.2
  1200	 network-object 192.168.1.0 255.255.255.0 ]]
  1201	+ [[ true == true ]]
  1202	+ message '[process_configs] Raw Block:\nobject-group network BU1-NETWORK
  1203	 description Corporate HQ Subnets
  1204	 network-object host 10.0.0.1
  1205	 network-object host 10.0.1.2
  1206	 network-object 192.168.1.0 255.255.255.0'
  1207	+ [[ -n [process_configs] Raw Block:\nobject-group network BU1-NETWORK
  1208	 description Corporate HQ Subnets
  1209	 network-object host 10.0.0.1
  1210	 network-object host 10.0.1.2
  1211	 network-object 192.168.1.0 255.255.255.0 ]]
  1212	+ local 'message=[process_configs] Raw Block:\nobject-group network BU1-NETWORK
  1213	 description Corporate HQ Subnets
  1214	 network-object host 10.0.0.1
  1215	 network-object host 10.0.1.2
  1216	 network-object 192.168.1.0 255.255.255.0'
  1217	+ print '[process_configs] Raw Block:\nobject-group network BU1-NETWORK
  1218	 description Corporate HQ Subnets
  1219	 network-object host 10.0.0.1
  1220	 network-object host 10.0.1.2
  1221	 network-object 192.168.1.0 255.255.255.0'
  1222	+ [[ -n [process_configs] Raw Block:\nobject-group network BU1-NETWORK
  1223	 description Corporate HQ Subnets
  1224	 network-object host 10.0.0.1
  1225	 network-object host 10.0.1.2
  1226	 network-object 192.168.1.0 255.255.255.0 ]]
  1227	+ echo -en '[process_configs] Raw Block:\nobject-group network BU1-NETWORK
  1228	 description Corporate HQ Subnets
  1229	 network-object host 10.0.0.1
  1230	 network-object host 10.0.1.2
  1231	 network-object 192.168.1.0 255.255.255.0'
  1232	[process_configs] Raw Block:
  1233	object-group network BU1-NETWORK
  1234	 description Corporate HQ Subnets
  1235	 network-object host 10.0.0.1
  1236	 network-object host 10.0.1.2
  1237	 network-object 192.168.1.0 255.255.255.0+ newline
  1238	+ local count=1
  1239	+ (( i = 0 ))
  1240	+ (( i < count ))
  1241	+ echo
  1242
  1243	+ (( i++ ))
  1244	+ (( i < count ))
  1245	+ local object_line
  1246	++ head -n 1
  1247	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1248	+ object_line='object-group network BU1-NETWORK'
  1249	+ [[ -z object-group network BU1-NETWORK ]]
  1250	+ local object_keyword type_value
  1251	++ awk '{print $1}'
  1252	+ object_keyword=object-group
  1253	++ awk '{$1=""; print substr($0,2)}'
  1254	+ type_value='network BU1-NETWORK'
  1255	+ [[ true == true ]]
  1256	+ print '[process_configs] object   : object-group'
  1257	+ [[ -n [process_configs] object   : object-group ]]
  1258	+ echo -en '[process_configs] object   : object-group'
  1259	[process_configs] object   : object-group+ print '[process_configs] type     : network BU1-NETWORK'
  1260	+ [[ -n [process_configs] type     : network BU1-NETWORK ]]
  1261	+ echo -en '[process_configs] type     : network BU1-NETWORK'
  1262	[process_configs] type     : network BU1-NETWORK+ entries=()
  1263	+ local -a entries
  1264	+ IFS=
  1265	+ read -r line
  1266	+ local trimmed
  1267	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1268	+ trimmed='object-group network BU1-NETWORK'
  1269	+ [[ -z object-group network BU1-NETWORK ]]
  1270	+ [[ object-group network bu1-network =~ ^description[[:space:]] ]]
  1271	+ entries+=("${trimmed}")
  1272	+ IFS=
  1273	+ read -r line
  1274	+ local trimmed
  1275	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1276	+ trimmed='description Corporate HQ Subnets'
  1277	+ [[ -z description Corporate HQ Subnets ]]
  1278	+ [[ description corporate hq subnets =~ ^description[[:space:]] ]]
  1279	+ continue
  1280	+ IFS=
  1281	+ read -r line
  1282	+ local trimmed
  1283	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1284	+ trimmed='network-object host 10.0.0.1'
  1285	+ [[ -z network-object host 10.0.0.1 ]]
  1286	+ [[ network-object host 10.0.0.1 =~ ^description[[:space:]] ]]
  1287	+ entries+=("${trimmed}")
  1288	+ IFS=
  1289	+ read -r line
  1290	+ local trimmed
  1291	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1292	+ trimmed='network-object host 10.0.1.2'
  1293	+ [[ -z network-object host 10.0.1.2 ]]
  1294	+ [[ network-object host 10.0.1.2 =~ ^description[[:space:]] ]]
  1295	+ entries+=("${trimmed}")
  1296	+ IFS=
  1297	+ read -r line
  1298	+ local trimmed
  1299	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1300	+ trimmed='network-object 192.168.1.0 255.255.255.0'
  1301	+ [[ -z network-object 192.168.1.0 255.255.255.0 ]]
  1302	+ [[ network-object 192.168.1.0 255.255.255.0 =~ ^description[[:space:]] ]]
  1303	+ entries+=("${trimmed}")
  1304	+ IFS=
  1305	+ read -r line
  1306	+ ((  4 > 1  ))
  1307	+ entries=("${entries[@]:1}")
  1308	+ [[ true == true ]]
  1309	+ message '[process_configs] Entries:'
  1310	+ [[ -n [process_configs] Entries: ]]
  1311	+ local 'message=[process_configs] Entries:'
  1312	+ print '[process_configs] Entries:'
  1313	+ [[ -n [process_configs] Entries: ]]
  1314	+ echo -en '[process_configs] Entries:'
  1315	[process_configs] Entries:+ newline
  1316	+ local count=1
  1317	+ (( i = 0 ))
  1318	+ (( i < count ))
  1319	+ echo
  1320
  1321	+ (( i++ ))
  1322	+ (( i < count ))
  1323	+ for e in "${entries[@]}"
  1324	+ print '  - network-object host 10.0.0.1'
  1325	+ [[ -n   - network-object host 10.0.0.1 ]]
  1326	+ echo -en '  - network-object host 10.0.0.1'
  1327	  - network-object host 10.0.0.1+ for e in "${entries[@]}"
  1328	+ print '  - network-object host 10.0.1.2'
  1329	+ [[ -n   - network-object host 10.0.1.2 ]]
  1330	+ echo -en '  - network-object host 10.0.1.2'
  1331	  - network-object host 10.0.1.2+ for e in "${entries[@]}"
  1332	+ print '  - network-object 192.168.1.0 255.255.255.0'
  1333	+ [[ -n   - network-object 192.168.1.0 255.255.255.0 ]]
  1334	+ echo -en '  - network-object 192.168.1.0 255.255.255.0'
  1335	  - network-object 192.168.1.0 255.255.255.0+ local matched_line
  1336	++ grep -E '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)'
  1337	++ head -n 1
  1338	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1339	+ matched_line='network-object host 10.0.0.1'
  1340	+ [[ -z network-object host 10.0.0.1 ]]
  1341	+ [[ true == true ]]
  1342	+ message '[process_configs] Matched: network-object host 10.0.0.1'
  1343	+ [[ -n [process_configs] Matched: network-object host 10.0.0.1 ]]
  1344	+ local 'message=[process_configs] Matched: network-object host 10.0.0.1'
  1345	+ print '[process_configs] Matched: network-object host 10.0.0.1'
  1346	+ [[ -n [process_configs] Matched: network-object host 10.0.0.1 ]]
  1347	+ echo -en '[process_configs] Matched: network-object host 10.0.0.1'
  1348	[process_configs] Matched: network-object host 10.0.0.1+ newline
  1349	+ local count=1
  1350	+ (( i = 0 ))
  1351	+ (( i < count ))
  1352	+ echo
  1353
  1354	+ (( i++ ))
  1355	+ (( i < count ))
  1356	+ local desc_val=false
  1357	+ [[ -z false ]]
  1358	+ [[ true == true ]]
  1359	+ message '[process_configs] Description: false'
  1360	+ [[ -n [process_configs] Description: false ]]
  1361	+ local 'message=[process_configs] Description: false'
  1362	+ print '[process_configs] Description: false'
  1363	+ [[ -n [process_configs] Description: false ]]
  1364	+ echo -en '[process_configs] Description: false'
  1365	[process_configs] Description: false+ newline
  1366	+ local count=1
  1367	+ (( i = 0 ))
  1368	+ (( i < count ))
  1369	+ echo
  1370
  1371	+ (( i++ ))
  1372	+ (( i < count ))
  1373	+ local group_val=Unclassified
  1374	+ [[ true == true ]]
  1375	+ local object_key
  1376	++ awk '{print $NF}'
  1377	++ sed -E 's/[[:punct:]]*$//'
  1378	+ object_key=BU1-NETWORK
  1379	++ jq -r --arg key BU1-NETWORK 'map(select(.match[]? | contains($key))) | .[0].group'
  1380	+ group_val='Identified Matching Entries'
  1381	+ [[ -z Identified Matching Entries ]]
  1382	+ [[ Identified Matching Entries == \n\u\l\l ]]
  1383	+ [[ -z Identified Matching Entries ]]
  1384	+ [[ Identified Matching Entries == \n\u\l\l ]]
  1385	+ [[ true == true ]]
  1386	+ message '[process_configs] Group: Identified Matching Entries'
  1387	+ [[ -n [process_configs] Group: Identified Matching Entries ]]
  1388	+ local 'message=[process_configs] Group: Identified Matching Entries'
  1389	+ print '[process_configs] Group: Identified Matching Entries'
  1390	+ [[ -n [process_configs] Group: Identified Matching Entries ]]
  1391	+ echo -en '[process_configs] Group: Identified Matching Entries'
  1392	[process_configs] Group: Identified Matching Entries+ newline
  1393	+ local count=1
  1394	+ (( i = 0 ))
  1395	+ (( i < count ))
  1396	+ echo
  1397
  1398	+ (( i++ ))
  1399	+ (( i < count ))
  1400	++ printf '%s\n' 'network-object host 10.0.0.1' 'network-object host 10.0.1.2' 'network-object 192.168.1.0 255.255.255.0'
  1401	++ jq -R .
  1402	++ jq -s .
  1403	+ local 'entries_2json=[
  1404	  "network-object host 10.0.0.1",
  1405	  "network-object host 10.0.1.2",
  1406	  "network-object 192.168.1.0 255.255.255.0"
  1407	]'
  1408	+ [[ 3 -eq 1 ]]
  1409	++ jq -n --arg object object-group --arg type 'network BU1-NETWORK' --arg description false --argjson entries '[
  1410	  "network-object host 10.0.0.1",
  1411	  "network-object host 10.0.1.2",
  1412	  "network-object 192.168.1.0 255.255.255.0"
  1413	]' --arg group 'Identified Matching Entries' '{
  1414	                  object: $object,
  1415	                  type: $type,
  1416	                  description: ($description | select(. != "" and . != "null") // false),
  1417	                  entries: $entries,
  1418	                  group: $group
  1419	                }'
  1420	+ target_object='{
  1421	  "object": "object-group",
  1422	  "type": "network BU1-NETWORK",
  1423	  "description": "false",
  1424	  "entries": [
  1425	    "network-object host 10.0.0.1",
  1426	    "network-object host 10.0.1.2",
  1427	    "network-object 192.168.1.0 255.255.255.0"
  1428	  ],
  1429	  "group": "Identified Matching Entries"
  1430	}'
  1431	+ export target_object
  1432	+ [[ true == true ]]
  1433	+ message '[process_configs] JSON Object (output):'
  1434	+ [[ -n [process_configs] JSON Object (output): ]]
  1435	+ local 'message=[process_configs] JSON Object (output):'
  1436	+ print '[process_configs] JSON Object (output):'
  1437	+ [[ -n [process_configs] JSON Object (output): ]]
  1438	+ echo -en '[process_configs] JSON Object (output):'
  1439	[process_configs] JSON Object (output):+ newline
  1440	+ local count=1
  1441	+ (( i = 0 ))
  1442	+ (( i < count ))
  1443	+ echo
  1444
  1445	+ (( i++ ))
  1446	+ (( i < count ))
  1447	+ print '{
  1448	  "object": "object-group",
  1449	  "type": "network BU1-NETWORK",
  1450	  "description": "false",
  1451	  "entries": [
  1452	    "network-object host 10.0.0.1",
  1453	    "network-object host 10.0.1.2",
  1454	    "network-object 192.168.1.0 255.255.255.0"
  1455	  ],
  1456	  "group": "Identified Matching Entries"
  1457	}'
  1458	+ [[ -n {
  1459	  "object": "object-group",
  1460	  "type": "network BU1-NETWORK",
  1461	  "description": "false",
  1462	  "entries": [
  1463	    "network-object host 10.0.0.1",
  1464	    "network-object host 10.0.1.2",
  1465	    "network-object 192.168.1.0 255.255.255.0"
  1466	  ],
  1467	  "group": "Identified Matching Entries"
  1468	} ]]
  1469	+ echo -en '{
  1470	  "object": "object-group",
  1471	  "type": "network BU1-NETWORK",
  1472	  "description": "false",
  1473	  "entries": [
  1474	    "network-object host 10.0.0.1",
  1475	    "network-object host 10.0.1.2",
  1476	    "network-object 192.168.1.0 255.255.255.0"
  1477	  ],
  1478	  "group": "Identified Matching Entries"
  1479	}'
  1480	+ jq .
  1481	{
  1482	  "object": "object-group",
  1483	  "type": "network BU1-NETWORK",
  1484	  "description": "false",
  1485	  "entries": [
  1486	    "network-object host 10.0.0.1",
  1487	    "network-object host 10.0.1.2",
  1488	    "network-object 192.168.1.0 255.255.255.0"
  1489	  ],
  1490	  "group": "Identified Matching Entries"
  1491	}
  1492	+ newline
  1493	+ local count=1
  1494	+ (( i = 0 ))
  1495	+ (( i < count ))
  1496	+ echo
  1497
  1498	+ (( i++ ))
  1499	+ (( i < count ))
  1500	+ return 0
  1501	+ [[ -n {
  1502	  "object": "object-group",
  1503	  "type": "network BU1-NETWORK",
  1504	  "description": "false",
  1505	  "entries": [
  1506	    "network-object host 10.0.0.1",
  1507	    "network-object host 10.0.1.2",
  1508	    "network-object 192.168.1.0 255.255.255.0"
  1509	  ],
  1510	  "group": "Identified Matching Entries"
  1511	} ]]
  1512	+ [[ true == true ]]
  1513	+ message '|-----> Target Objects: {
  1514	  "object": "object-group",
  1515	  "type": "network BU1-NETWORK",
  1516	  "description": "false",
  1517	  "entries": [
  1518	    "network-object host 10.0.0.1",
  1519	    "network-object host 10.0.1.2",
  1520	    "network-object 192.168.1.0 255.255.255.0"
  1521	  ],
  1522	  "group": "Identified Matching Entries"
  1523	}'
  1524	+ [[ -n |-----> Target Objects: {
  1525	  "object": "object-group",
  1526	  "type": "network BU1-NETWORK",
  1527	  "description": "false",
  1528	  "entries": [
  1529	    "network-object host 10.0.0.1",
  1530	    "network-object host 10.0.1.2",
  1531	    "network-object 192.168.1.0 255.255.255.0"
  1532	  ],
  1533	  "group": "Identified Matching Entries"
  1534	} ]]
  1535	+ local 'message=|-----> Target Objects: {
  1536	  "object": "object-group",
  1537	  "type": "network BU1-NETWORK",
  1538	  "description": "false",
  1539	  "entries": [
  1540	    "network-object host 10.0.0.1",
  1541	    "network-object host 10.0.1.2",
  1542	    "network-object 192.168.1.0 255.255.255.0"
  1543	  ],
  1544	  "group": "Identified Matching Entries"
  1545	}'
  1546	+ print '|-----> Target Objects: {
  1547	  "object": "object-group",
  1548	  "type": "network BU1-NETWORK",
  1549	  "description": "false",
  1550	  "entries": [
  1551	    "network-object host 10.0.0.1",
  1552	    "network-object host 10.0.1.2",
  1553	    "network-object 192.168.1.0 255.255.255.0"
  1554	  ],
  1555	  "group": "Identified Matching Entries"
  1556	}'
  1557	+ [[ -n |-----> Target Objects: {
  1558	  "object": "object-group",
  1559	  "type": "network BU1-NETWORK",
  1560	  "description": "false",
  1561	  "entries": [
  1562	    "network-object host 10.0.0.1",
  1563	    "network-object host 10.0.1.2",
  1564	    "network-object 192.168.1.0 255.255.255.0"
  1565	  ],
  1566	  "group": "Identified Matching Entries"
  1567	} ]]
  1568	+ echo -en '|-----> Target Objects: {
  1569	  "object": "object-group",
  1570	  "type": "network BU1-NETWORK",
  1571	  "description": "false",
  1572	  "entries": [
  1573	    "network-object host 10.0.0.1",
  1574	    "network-object host 10.0.1.2",
  1575	    "network-object 192.168.1.0 255.255.255.0"
  1576	  ],
  1577	  "group": "Identified Matching Entries"
  1578	}'
  1579	|-----> Target Objects: {
  1580	  "object": "object-group",
  1581	  "type": "network BU1-NETWORK",
  1582	  "description": "false",
  1583	  "entries": [
  1584	    "network-object host 10.0.0.1",
  1585	    "network-object host 10.0.1.2",
  1586	    "network-object 192.168.1.0 255.255.255.0"
  1587	  ],
  1588	  "group": "Identified Matching Entries"
  1589	}+ newline
  1590	+ local count=1
  1591	+ (( i = 0 ))
  1592	+ (( i < count ))
  1593	+ echo
  1594
  1595	+ (( i++ ))
  1596	+ (( i < count ))
  1597	+ [[ -n {
  1598	  "object": "object-group",
  1599	  "type": "network BU1-NETWORK",
  1600	  "description": "false",
  1601	  "entries": [
  1602	    "network-object host 10.0.0.1",
  1603	    "network-object host 10.0.1.2",
  1604	    "network-object 192.168.1.0 255.255.255.0"
  1605	  ],
  1606	  "group": "Identified Matching Entries"
  1607	} ]]
  1608	++ printf '%s\n' '{
  1609	  "object": "object-group",
  1610	  "type": "network BU1-NETWORK",
  1611	  "description": "false",
  1612	  "entries": [
  1613	    "network-object host 10.0.0.1",
  1614	    "network-object host 10.0.1.2",
  1615	    "network-object 192.168.1.0 255.255.255.0"
  1616	  ],
  1617	  "group": "Identified Matching Entries"
  1618	}'
  1619	++ jq -s --arg site configs/cisco --arg device fw1.cfg '{
  1620	              config: {
  1621	                site: ($site | gsub("^.*/"; "")),
  1622	                device: $device
  1623	              },
  1624	              objects: .
  1625	            }'
  1626	+ wrapped_block='{
  1627	  "config": {
  1628	    "site": "cisco",
  1629	    "device": "fw1.cfg"
  1630	  },
  1631	  "objects": [
  1632	    {
  1633	      "object": "object-group",
  1634	      "type": "network BU1-NETWORK",
  1635	      "description": "false",
  1636	      "entries": [
  1637	        "network-object host 10.0.0.1",
  1638	        "network-object host 10.0.1.2",
  1639	        "network-object 192.168.1.0 255.255.255.0"
  1640	      ],
  1641	      "group": "Identified Matching Entries"
  1642	    }
  1643	  ]
  1644	}'
  1645	+ [[ true == true ]]
  1646	+ message '|-----> Config Objects:\n{
  1647	  "config": {
  1648	    "site": "cisco",
  1649	    "device": "fw1.cfg"
  1650	  },
  1651	  "objects": [
  1652	    {
  1653	      "object": "object-group",
  1654	      "type": "network BU1-NETWORK",
  1655	      "description": "false",
  1656	      "entries": [
  1657	        "network-object host 10.0.0.1",
  1658	        "network-object host 10.0.1.2",
  1659	        "network-object 192.168.1.0 255.255.255.0"
  1660	      ],
  1661	      "group": "Identified Matching Entries"
  1662	    }
  1663	  ]
  1664	}'
  1665	+ [[ -n |-----> Config Objects:\n{
  1666	  "config": {
  1667	    "site": "cisco",
  1668	    "device": "fw1.cfg"
  1669	  },
  1670	  "objects": [
  1671	    {
  1672	      "object": "object-group",
  1673	      "type": "network BU1-NETWORK",
  1674	      "description": "false",
  1675	      "entries": [
  1676	        "network-object host 10.0.0.1",
  1677	        "network-object host 10.0.1.2",
  1678	        "network-object 192.168.1.0 255.255.255.0"
  1679	      ],
  1680	      "group": "Identified Matching Entries"
  1681	    }
  1682	  ]
  1683	} ]]
  1684	+ local 'message=|-----> Config Objects:\n{
  1685	  "config": {
  1686	    "site": "cisco",
  1687	    "device": "fw1.cfg"
  1688	  },
  1689	  "objects": [
  1690	    {
  1691	      "object": "object-group",
  1692	      "type": "network BU1-NETWORK",
  1693	      "description": "false",
  1694	      "entries": [
  1695	        "network-object host 10.0.0.1",
  1696	        "network-object host 10.0.1.2",
  1697	        "network-object 192.168.1.0 255.255.255.0"
  1698	      ],
  1699	      "group": "Identified Matching Entries"
  1700	    }
  1701	  ]
  1702	}'
  1703	+ print '|-----> Config Objects:\n{
  1704	  "config": {
  1705	    "site": "cisco",
  1706	    "device": "fw1.cfg"
  1707	  },
  1708	  "objects": [
  1709	    {
  1710	      "object": "object-group",
  1711	      "type": "network BU1-NETWORK",
  1712	      "description": "false",
  1713	      "entries": [
  1714	        "network-object host 10.0.0.1",
  1715	        "network-object host 10.0.1.2",
  1716	        "network-object 192.168.1.0 255.255.255.0"
  1717	      ],
  1718	      "group": "Identified Matching Entries"
  1719	    }
  1720	  ]
  1721	}'
  1722	+ [[ -n |-----> Config Objects:\n{
  1723	  "config": {
  1724	    "site": "cisco",
  1725	    "device": "fw1.cfg"
  1726	  },
  1727	  "objects": [
  1728	    {
  1729	      "object": "object-group",
  1730	      "type": "network BU1-NETWORK",
  1731	      "description": "false",
  1732	      "entries": [
  1733	        "network-object host 10.0.0.1",
  1734	        "network-object host 10.0.1.2",
  1735	        "network-object 192.168.1.0 255.255.255.0"
  1736	      ],
  1737	      "group": "Identified Matching Entries"
  1738	    }
  1739	  ]
  1740	} ]]
  1741	+ echo -en '|-----> Config Objects:\n{
  1742	  "config": {
  1743	    "site": "cisco",
  1744	    "device": "fw1.cfg"
  1745	  },
  1746	  "objects": [
  1747	    {
  1748	      "object": "object-group",
  1749	      "type": "network BU1-NETWORK",
  1750	      "description": "false",
  1751	      "entries": [
  1752	        "network-object host 10.0.0.1",
  1753	        "network-object host 10.0.1.2",
  1754	        "network-object 192.168.1.0 255.255.255.0"
  1755	      ],
  1756	      "group": "Identified Matching Entries"
  1757	    }
  1758	  ]
  1759	}'
  1760	|-----> Config Objects:
  1761	{
  1762	  "config": {
  1763	    "site": "cisco",
  1764	    "device": "fw1.cfg"
  1765	  },
  1766	  "objects": [
  1767	    {
  1768	      "object": "object-group",
  1769	      "type": "network BU1-NETWORK",
  1770	      "description": "false",
  1771	      "entries": [
  1772	        "network-object host 10.0.0.1",
  1773	        "network-object host 10.0.1.2",
  1774	        "network-object 192.168.1.0 255.255.255.0"
  1775	      ],
  1776	      "group": "Identified Matching Entries"
  1777	    }
  1778	  ]
  1779	}+ newline
  1780	+ local count=1
  1781	+ (( i = 0 ))
  1782	+ (( i < count ))
  1783	+ echo
  1784
  1785	+ (( i++ ))
  1786	+ (( i < count ))
  1787	+ print '{
  1788	  "config": {
  1789	    "site": "cisco",
  1790	    "device": "fw1.cfg"
  1791	  },
  1792	  "objects": [
  1793	    {
  1794	      "object": "object-group",
  1795	      "type": "network BU1-NETWORK",
  1796	      "description": "false",
  1797	      "entries": [
  1798	        "network-object host 10.0.0.1",
  1799	        "network-object host 10.0.1.2",
  1800	        "network-object 192.168.1.0 255.255.255.0"
  1801	      ],
  1802	      "group": "Identified Matching Entries"
  1803	    }
  1804	  ]
  1805	}'
  1806	+ [[ -n {
  1807	  "config": {
  1808	    "site": "cisco",
  1809	    "device": "fw1.cfg"
  1810	  },
  1811	  "objects": [
  1812	    {
  1813	      "object": "object-group",
  1814	      "type": "network BU1-NETWORK",
  1815	      "description": "false",
  1816	      "entries": [
  1817	        "network-object host 10.0.0.1",
  1818	        "network-object host 10.0.1.2",
  1819	        "network-object 192.168.1.0 255.255.255.0"
  1820	      ],
  1821	      "group": "Identified Matching Entries"
  1822	    }
  1823	  ]
  1824	} ]]
  1825	+ echo -en '{
  1826	  "config": {
  1827	    "site": "cisco",
  1828	    "device": "fw1.cfg"
  1829	  },
  1830	  "objects": [
  1831	    {
  1832	      "object": "object-group",
  1833	      "type": "network BU1-NETWORK",
  1834	      "description": "false",
  1835	      "entries": [
  1836	        "network-object host 10.0.0.1",
  1837	        "network-object host 10.0.1.2",
  1838	        "network-object 192.168.1.0 255.255.255.0"
  1839	      ],
  1840	      "group": "Identified Matching Entries"
  1841	    }
  1842	  ]
  1843	}'
  1844	+ [[ true == true ]]
  1845	+ print_file /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1846	+ [[ -n /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  1847	+ local target_file=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1848	+ [[ true == true ]]
  1849	+ [[ -f /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  1850	+ list_file /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1851	+ [[ -n /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  1852	+ local target_file=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1853	+ [[ true == true ]]
  1854	+ [[ -f /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  1855	++ basename /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1856	+ local base=fragments.json
  1857	++ dirname /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1858	+ local parent=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  1859	+ local 'format=File: fragments.json
  1860	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  1861	Size: %z bytes
  1862	Blocks/Inode: %b / %i
  1863	Mode: %Sp
  1864	UID/GID: %u / %g
  1865	Access: %Sa
  1866	Modify: %Sm
  1867	Change: %Sc
  1868	'
  1869	+ stat -f 'File: fragments.json
  1870	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  1871	Size: %z bytes
  1872	Blocks/Inode: %b / %i
  1873	Mode: %Sp
  1874	UID/GID: %u / %g
  1875	Access: %Sa
  1876	Modify: %Sm
  1877	Change: %Sc
  1878	' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1879	File: fragments.json
  1880	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  1881	Size: 401 bytes
  1882	Blocks/Inode: 8 / 236555235
  1883	Mode: -rw-r--r--
  1884	UID/GID: 501 / 20
  1885	Access: May 13 14:32:53 2025
  1886	Modify: May 13 14:32:53 2025
  1887	Change: May 13 14:32:53 2025
  1888	+ newline
  1889	+ local count=1
  1890	+ (( i = 0 ))
  1891	+ (( i < count ))
  1892	+ echo
  1893
  1894	+ (( i++ ))
  1895	+ (( i < count ))
  1896	+ return 0
  1897	+ case "${target_file}" in
  1898	+ jq . /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  1899	{
  1900	  "config": {
  1901	    "site": "cisco",
  1902	    "device": "fw1.cfg"
  1903	  },
  1904	  "objects": [
  1905	    {
  1906	      "object": "object-group",
  1907	      "type": "network BU1-NETWORK",
  1908	      "description": "false",
  1909	      "entries": [
  1910	        "network-object host 10.0.0.1",
  1911	        "network-object host 10.0.1.2",
  1912	        "network-object 192.168.1.0 255.255.255.0"
  1913	      ],
  1914	      "group": "Identified Matching Entries"
  1915	    }
  1916	  ]
  1917	}
  1918	+ newline
  1919	+ local count=1
  1920	+ (( i = 0 ))
  1921	+ (( i < count ))
  1922	+ echo
  1923
  1924	+ (( i++ ))
  1925	+ (( i < count ))
  1926	+ return 0
  1927	+ for serialized_line in "${matched_objects[@]}"
  1928	+ [[ true == true ]]
  1929	+ message 'Serialized Line: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1930	+ [[ -n Serialized Line: access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1931	+ local 'message=Serialized Line: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1932	+ print 'Serialized Line: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1933	+ [[ -n Serialized Line: access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1934	+ echo -en 'Serialized Line: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1935	Serialized Line: access-list OUTSIDE extended permit ip host 10.0.0.1 any+ newline
  1936	+ local count=1
  1937	+ (( i = 0 ))
  1938	+ (( i < count ))
  1939	+ echo
  1940
  1941	+ (( i++ ))
  1942	+ (( i < count ))
  1943	++ perl -pe 's/MTc0NzE3MTk3Mjg0NzQzNTAwMAo/\n/g'
  1944	+ restored_block='access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1945	+ [[ true == true ]]
  1946	+ message 'Restored Configuration:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1947	+ [[ -n Restored Configuration:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1948	+ local 'message=Restored Configuration:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1949	+ print 'Restored Configuration:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1950	+ [[ -n Restored Configuration:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1951	+ echo -en 'Restored Configuration:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1952	Restored Configuration:
  1953	access-list OUTSIDE extended permit ip host 10.0.0.1 any+ newline
  1954	+ local count=1
  1955	+ (( i = 0 ))
  1956	+ (( i < count ))
  1957	+ echo
  1958
  1959	+ (( i++ ))
  1960	+ (( i < count ))
  1961	+ process_configs 10.0.0.1 configs/cisco/fw1.cfg 'access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1962	+ local target_pattern=10.0.0.1
  1963	+ local config_path=configs/cisco/fw1.cfg
  1964	+ local 'restored_block=access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1965	+ local cleaned_block
  1966	++ sed '/^[[:space:]]*$/d'
  1967	+ cleaned_block='access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1968	+ [[ -z access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1969	+ [[ true == true ]]
  1970	+ message '[process_configs] Raw Block:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1971	+ [[ -n [process_configs] Raw Block:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1972	+ local 'message=[process_configs] Raw Block:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1973	+ print '[process_configs] Raw Block:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1974	+ [[ -n [process_configs] Raw Block:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1975	+ echo -en '[process_configs] Raw Block:\naccess-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1976	[process_configs] Raw Block:
  1977	access-list OUTSIDE extended permit ip host 10.0.0.1 any+ newline
  1978	+ local count=1
  1979	+ (( i = 0 ))
  1980	+ (( i < count ))
  1981	+ echo
  1982
  1983	+ (( i++ ))
  1984	+ (( i < count ))
  1985	+ local object_line
  1986	++ head -n 1
  1987	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  1988	+ object_line='access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  1989	+ [[ -z access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  1990	+ local object_keyword type_value
  1991	++ awk '{print $1}'
  1992	+ object_keyword=access-list
  1993	++ awk '{$1=""; print substr($0,2)}'
  1994	+ type_value='OUTSIDE extended permit ip host 10.0.0.1 any'
  1995	+ [[ true == true ]]
  1996	+ print '[process_configs] object   : access-list'
  1997	+ [[ -n [process_configs] object   : access-list ]]
  1998	+ echo -en '[process_configs] object   : access-list'
  1999	[process_configs] object   : access-list+ print '[process_configs] type     : OUTSIDE extended permit ip host 10.0.0.1 any'
  2000	+ [[ -n [process_configs] type     : OUTSIDE extended permit ip host 10.0.0.1 any ]]
  2001	+ echo -en '[process_configs] type     : OUTSIDE extended permit ip host 10.0.0.1 any'
  2002	[process_configs] type     : OUTSIDE extended permit ip host 10.0.0.1 any+ entries=()
  2003	+ local -a entries
  2004	+ IFS=
  2005	+ read -r line
  2006	+ local trimmed
  2007	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  2008	+ trimmed='access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2009	+ [[ -z access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  2010	+ [[ access-list outside extended permit ip host 10.0.0.1 any =~ ^description[[:space:]] ]]
  2011	+ entries+=("${trimmed}")
  2012	+ IFS=
  2013	+ read -r line
  2014	+ ((  1 > 1  ))
  2015	+ [[ true == true ]]
  2016	+ message '[process_configs] Entries:'
  2017	+ [[ -n [process_configs] Entries: ]]
  2018	+ local 'message=[process_configs] Entries:'
  2019	+ print '[process_configs] Entries:'
  2020	+ [[ -n [process_configs] Entries: ]]
  2021	+ echo -en '[process_configs] Entries:'
  2022	[process_configs] Entries:+ newline
  2023	+ local count=1
  2024	+ (( i = 0 ))
  2025	+ (( i < count ))
  2026	+ echo
  2027
  2028	+ (( i++ ))
  2029	+ (( i < count ))
  2030	+ for e in "${entries[@]}"
  2031	+ print '  - access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2032	+ [[ -n   - access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  2033	+ echo -en '  - access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2034	  - access-list OUTSIDE extended permit ip host 10.0.0.1 any+ local matched_line
  2035	++ grep -E '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)'
  2036	++ head -n 1
  2037	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  2038	+ matched_line='access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2039	+ [[ -z access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  2040	+ [[ true == true ]]
  2041	+ message '[process_configs] Matched: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2042	+ [[ -n [process_configs] Matched: access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  2043	+ local 'message=[process_configs] Matched: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2044	+ print '[process_configs] Matched: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2045	+ [[ -n [process_configs] Matched: access-list OUTSIDE extended permit ip host 10.0.0.1 any ]]
  2046	+ echo -en '[process_configs] Matched: access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2047	[process_configs] Matched: access-list OUTSIDE extended permit ip host 10.0.0.1 any+ newline
  2048	+ local count=1
  2049	+ (( i = 0 ))
  2050	+ (( i < count ))
  2051	+ echo
  2052
  2053	+ (( i++ ))
  2054	+ (( i < count ))
  2055	+ local desc_val=false
  2056	+ [[ -z false ]]
  2057	+ [[ true == true ]]
  2058	+ message '[process_configs] Description: false'
  2059	+ [[ -n [process_configs] Description: false ]]
  2060	+ local 'message=[process_configs] Description: false'
  2061	+ print '[process_configs] Description: false'
  2062	+ [[ -n [process_configs] Description: false ]]
  2063	+ echo -en '[process_configs] Description: false'
  2064	[process_configs] Description: false+ newline
  2065	+ local count=1
  2066	+ (( i = 0 ))
  2067	+ (( i < count ))
  2068	+ echo
  2069
  2070	+ (( i++ ))
  2071	+ (( i < count ))
  2072	+ local group_val=Unclassified
  2073	+ [[ true == true ]]
  2074	+ local object_key
  2075	++ awk '{print $NF}'
  2076	++ sed -E 's/[[:punct:]]*$//'
  2077	+ object_key=any
  2078	++ jq -r --arg key any 'map(select(.match[]? | contains($key))) | .[0].group'
  2079	+ group_val=null
  2080	+ [[ -z null ]]
  2081	+ [[ null == \n\u\l\l ]]
  2082	++ jq -r --arg desc false 'map(select(.match[]? == $desc)) | .[0].group'
  2083	+ group_val=null
  2084	+ [[ -z null ]]
  2085	+ [[ null == \n\u\l\l ]]
  2086	+ group_val=Unclassified
  2087	+ [[ true == true ]]
  2088	+ message '[process_configs] Group: Unclassified'
  2089	+ [[ -n [process_configs] Group: Unclassified ]]
  2090	+ local 'message=[process_configs] Group: Unclassified'
  2091	+ print '[process_configs] Group: Unclassified'
  2092	+ [[ -n [process_configs] Group: Unclassified ]]
  2093	+ echo -en '[process_configs] Group: Unclassified'
  2094	[process_configs] Group: Unclassified+ newline
  2095	+ local count=1
  2096	+ (( i = 0 ))
  2097	+ (( i < count ))
  2098	+ echo
  2099
  2100	+ (( i++ ))
  2101	+ (( i < count ))
  2102	++ printf '%s\n' 'access-list OUTSIDE extended permit ip host 10.0.0.1 any'
  2103	++ jq -R .
  2104	++ jq -s .
  2105	+ local 'entries_2json=[
  2106	  "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2107	]'
  2108	+ [[ 1 -eq 1 ]]
  2109	++ jq -n --arg object access-list --arg description false --argjson entries '[
  2110	  "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2111	]' --arg group Unclassified '{
  2112	                  object: $object,
  2113	                  type: false,
  2114	                  description: ($description | select(. != "" and . != "null") // false),
  2115	                  entries: $entries,
  2116	                  group: $group
  2117	                }'
  2118	+ target_object='{
  2119	  "object": "access-list",
  2120	  "type": false,
  2121	  "description": "false",
  2122	  "entries": [
  2123	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2124	  ],
  2125	  "group": "Unclassified"
  2126	}'
  2127	+ export target_object
  2128	+ [[ true == true ]]
  2129	+ message '[process_configs] JSON Object (output):'
  2130	+ [[ -n [process_configs] JSON Object (output): ]]
  2131	+ local 'message=[process_configs] JSON Object (output):'
  2132	+ print '[process_configs] JSON Object (output):'
  2133	+ [[ -n [process_configs] JSON Object (output): ]]
  2134	+ echo -en '[process_configs] JSON Object (output):'
  2135	[process_configs] JSON Object (output):+ newline
  2136	+ local count=1
  2137	+ (( i = 0 ))
  2138	+ (( i < count ))
  2139	+ echo
  2140
  2141	+ (( i++ ))
  2142	+ (( i < count ))
  2143	+ print '{
  2144	  "object": "access-list",
  2145	  "type": false,
  2146	  "description": "false",
  2147	  "entries": [
  2148	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2149	  ],
  2150	  "group": "Unclassified"
  2151	}'
  2152	+ [[ -n {
  2153	  "object": "access-list",
  2154	  "type": false,
  2155	  "description": "false",
  2156	  "entries": [
  2157	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2158	+ jq .
  2159	  ],
  2160	  "group": "Unclassified"
  2161	} ]]
  2162	+ echo -en '{
  2163	  "object": "access-list",
  2164	  "type": false,
  2165	  "description": "false",
  2166	  "entries": [
  2167	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2168	  ],
  2169	  "group": "Unclassified"
  2170	}'
  2171	{
  2172	  "object": "access-list",
  2173	  "type": false,
  2174	  "description": "false",
  2175	  "entries": [
  2176	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2177	  ],
  2178	  "group": "Unclassified"
  2179	}
  2180	+ newline
  2181	+ local count=1
  2182	+ (( i = 0 ))
  2183	+ (( i < count ))
  2184	+ echo
  2185
  2186	+ (( i++ ))
  2187	+ (( i < count ))
  2188	+ return 0
  2189	+ [[ -n {
  2190	  "object": "access-list",
  2191	  "type": false,
  2192	  "description": "false",
  2193	  "entries": [
  2194	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2195	  ],
  2196	  "group": "Unclassified"
  2197	} ]]
  2198	+ [[ true == true ]]
  2199	+ message '|-----> Target Objects: {
  2200	  "object": "access-list",
  2201	  "type": false,
  2202	  "description": "false",
  2203	  "entries": [
  2204	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2205	  ],
  2206	  "group": "Unclassified"
  2207	}'
  2208	+ [[ -n |-----> Target Objects: {
  2209	  "object": "access-list",
  2210	  "type": false,
  2211	  "description": "false",
  2212	  "entries": [
  2213	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2214	  ],
  2215	  "group": "Unclassified"
  2216	} ]]
  2217	+ local 'message=|-----> Target Objects: {
  2218	  "object": "access-list",
  2219	  "type": false,
  2220	  "description": "false",
  2221	  "entries": [
  2222	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2223	  ],
  2224	  "group": "Unclassified"
  2225	}'
  2226	+ print '|-----> Target Objects: {
  2227	  "object": "access-list",
  2228	  "type": false,
  2229	  "description": "false",
  2230	  "entries": [
  2231	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2232	  ],
  2233	  "group": "Unclassified"
  2234	}'
  2235	+ [[ -n |-----> Target Objects: {
  2236	  "object": "access-list",
  2237	  "type": false,
  2238	  "description": "false",
  2239	  "entries": [
  2240	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2241	  ],
  2242	  "group": "Unclassified"
  2243	} ]]
  2244	+ echo -en '|-----> Target Objects: {
  2245	  "object": "access-list",
  2246	  "type": false,
  2247	  "description": "false",
  2248	  "entries": [
  2249	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2250	  ],
  2251	  "group": "Unclassified"
  2252	}'
  2253	|-----> Target Objects: {
  2254	  "object": "access-list",
  2255	  "type": false,
  2256	  "description": "false",
  2257	  "entries": [
  2258	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2259	  ],
  2260	  "group": "Unclassified"
  2261	}+ newline
  2262	+ local count=1
  2263	+ (( i = 0 ))
  2264	+ (( i < count ))
  2265	+ echo
  2266
  2267	+ (( i++ ))
  2268	+ (( i < count ))
  2269	+ [[ -n {
  2270	  "object": "access-list",
  2271	  "type": false,
  2272	  "description": "false",
  2273	  "entries": [
  2274	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2275	  ],
  2276	  "group": "Unclassified"
  2277	} ]]
  2278	++ printf '%s\n' '{
  2279	  "object": "access-list",
  2280	  "type": false,
  2281	  "description": "false",
  2282	  "entries": [
  2283	    "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2284	  ],
  2285	  "group": "Unclassified"
  2286	}'
  2287	++ jq -s --arg site configs/cisco --arg device fw1.cfg '{
  2288	              config: {
  2289	                site: ($site | gsub("^.*/"; "")),
  2290	                device: $device
  2291	              },
  2292	              objects: .
  2293	            }'
  2294	+ wrapped_block='{
  2295	  "config": {
  2296	    "site": "cisco",
  2297	    "device": "fw1.cfg"
  2298	  },
  2299	  "objects": [
  2300	    {
  2301	      "object": "access-list",
  2302	      "type": false,
  2303	      "description": "false",
  2304	      "entries": [
  2305	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2306	      ],
  2307	      "group": "Unclassified"
  2308	    }
  2309	  ]
  2310	}'
  2311	+ [[ true == true ]]
  2312	+ message '|-----> Config Objects:\n{
  2313	  "config": {
  2314	    "site": "cisco",
  2315	    "device": "fw1.cfg"
  2316	  },
  2317	  "objects": [
  2318	    {
  2319	      "object": "access-list",
  2320	      "type": false,
  2321	      "description": "false",
  2322	      "entries": [
  2323	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2324	      ],
  2325	      "group": "Unclassified"
  2326	    }
  2327	  ]
  2328	}'
  2329	+ [[ -n |-----> Config Objects:\n{
  2330	  "config": {
  2331	    "site": "cisco",
  2332	    "device": "fw1.cfg"
  2333	  },
  2334	  "objects": [
  2335	    {
  2336	      "object": "access-list",
  2337	      "type": false,
  2338	      "description": "false",
  2339	      "entries": [
  2340	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2341	      ],
  2342	      "group": "Unclassified"
  2343	    }
  2344	  ]
  2345	} ]]
  2346	+ local 'message=|-----> Config Objects:\n{
  2347	  "config": {
  2348	    "site": "cisco",
  2349	    "device": "fw1.cfg"
  2350	  },
  2351	  "objects": [
  2352	    {
  2353	      "object": "access-list",
  2354	      "type": false,
  2355	      "description": "false",
  2356	      "entries": [
  2357	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2358	      ],
  2359	      "group": "Unclassified"
  2360	    }
  2361	  ]
  2362	}'
  2363	+ print '|-----> Config Objects:\n{
  2364	  "config": {
  2365	    "site": "cisco",
  2366	    "device": "fw1.cfg"
  2367	  },
  2368	  "objects": [
  2369	    {
  2370	      "object": "access-list",
  2371	      "type": false,
  2372	      "description": "false",
  2373	      "entries": [
  2374	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2375	      ],
  2376	      "group": "Unclassified"
  2377	    }
  2378	  ]
  2379	}'
  2380	+ [[ -n |-----> Config Objects:\n{
  2381	  "config": {
  2382	    "site": "cisco",
  2383	    "device": "fw1.cfg"
  2384	  },
  2385	  "objects": [
  2386	    {
  2387	      "object": "access-list",
  2388	      "type": false,
  2389	      "description": "false",
  2390	      "entries": [
  2391	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2392	      ],
  2393	      "group": "Unclassified"
  2394	    }
  2395	  ]
  2396	} ]]
  2397	+ echo -en '|-----> Config Objects:\n{
  2398	  "config": {
  2399	    "site": "cisco",
  2400	    "device": "fw1.cfg"
  2401	  },
  2402	  "objects": [
  2403	    {
  2404	      "object": "access-list",
  2405	      "type": false,
  2406	      "description": "false",
  2407	      "entries": [
  2408	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2409	      ],
  2410	      "group": "Unclassified"
  2411	    }
  2412	  ]
  2413	}'
  2414	|-----> Config Objects:
  2415	{
  2416	  "config": {
  2417	    "site": "cisco",
  2418	    "device": "fw1.cfg"
  2419	  },
  2420	  "objects": [
  2421	    {
  2422	      "object": "access-list",
  2423	      "type": false,
  2424	      "description": "false",
  2425	      "entries": [
  2426	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2427	      ],
  2428	      "group": "Unclassified"
  2429	    }
  2430	  ]
  2431	}+ newline
  2432	+ local count=1
  2433	+ (( i = 0 ))
  2434	+ (( i < count ))
  2435	+ echo
  2436
  2437	+ (( i++ ))
  2438	+ (( i < count ))
  2439	+ print '{
  2440	  "config": {
  2441	    "site": "cisco",
  2442	    "device": "fw1.cfg"
  2443	  },
  2444	  "objects": [
  2445	    {
  2446	      "object": "access-list",
  2447	      "type": false,
  2448	      "description": "false",
  2449	      "entries": [
  2450	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2451	      ],
  2452	      "group": "Unclassified"
  2453	    }
  2454	  ]
  2455	}'
  2456	+ [[ -n {
  2457	  "config": {
  2458	    "site": "cisco",
  2459	    "device": "fw1.cfg"
  2460	  },
  2461	  "objects": [
  2462	    {
  2463	      "object": "access-list",
  2464	      "type": false,
  2465	      "description": "false",
  2466	      "entries": [
  2467	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2468	      ],
  2469	      "group": "Unclassified"
  2470	    }
  2471	  ]
  2472	} ]]
  2473	+ echo -en '{
  2474	  "config": {
  2475	    "site": "cisco",
  2476	    "device": "fw1.cfg"
  2477	  },
  2478	  "objects": [
  2479	    {
  2480	      "object": "access-list",
  2481	      "type": false,
  2482	      "description": "false",
  2483	      "entries": [
  2484	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2485	      ],
  2486	      "group": "Unclassified"
  2487	    }
  2488	  ]
  2489	}'
  2490	+ [[ true == true ]]
  2491	+ print_file /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2492	+ [[ -n /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  2493	+ local target_file=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2494	+ [[ true == true ]]
  2495	+ [[ -f /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  2496	+ list_file /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2497	+ [[ -n /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  2498	+ local target_file=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2499	+ [[ true == true ]]
  2500	+ [[ -f /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  2501	++ basename /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2502	+ local base=fragments.json
  2503	++ dirname /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2504	+ local parent=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  2505	+ local 'format=File: fragments.json
  2506	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  2507	Size: %z bytes
  2508	Blocks/Inode: %b / %i
  2509	Mode: %Sp
  2510	UID/GID: %u / %g
  2511	Access: %Sa
  2512	Modify: %Sm
  2513	Change: %Sc
  2514	'
  2515	+ stat -f 'File: fragments.json
  2516	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  2517	Size: %z bytes
  2518	Blocks/Inode: %b / %i
  2519	Mode: %Sp
  2520	UID/GID: %u / %g
  2521	Access: %Sa
  2522	Modify: %Sm
  2523	Change: %Sc
  2524	' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2525	File: fragments.json
  2526	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  2527	Size: 706 bytes
  2528	Blocks/Inode: 8 / 236555235
  2529	Mode: -rw-r--r--
  2530	UID/GID: 501 / 20
  2531	Access: May 13 14:32:53 2025
  2532	Modify: May 13 14:32:53 2025
  2533	Change: May 13 14:32:53 2025
  2534	+ newline
  2535	+ local count=1
  2536	+ (( i = 0 ))
  2537	+ (( i < count ))
  2538	+ echo
  2539
  2540	+ (( i++ ))
  2541	+ (( i < count ))
  2542	+ return 0
  2543	+ case "${target_file}" in
  2544	+ jq . /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2545	{
  2546	  "config": {
  2547	    "site": "cisco",
  2548	    "device": "fw1.cfg"
  2549	  },
  2550	  "objects": [
  2551	    {
  2552	      "object": "object-group",
  2553	      "type": "network BU1-NETWORK",
  2554	      "description": "false",
  2555	      "entries": [
  2556	        "network-object host 10.0.0.1",
  2557	        "network-object host 10.0.1.2",
  2558	        "network-object 192.168.1.0 255.255.255.0"
  2559	      ],
  2560	      "group": "Identified Matching Entries"
  2561	    }
  2562	  ]
  2563	}
  2564	{
  2565	  "config": {
  2566	    "site": "cisco",
  2567	    "device": "fw1.cfg"
  2568	  },
  2569	  "objects": [
  2570	    {
  2571	      "object": "access-list",
  2572	      "type": false,
  2573	      "description": "false",
  2574	      "entries": [
  2575	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  2576	      ],
  2577	      "group": "Unclassified"
  2578	    }
  2579	  ]
  2580	}
  2581	+ newline
  2582	+ local count=1
  2583	+ (( i = 0 ))
  2584	+ (( i < count ))
  2585	+ echo
  2586
  2587	+ (( i++ ))
  2588	+ (( i < count ))
  2589	+ return 0
  2590	+ return 0
  2591	+ for cfg_file in "${source_configs[@]}"
  2592	+ extract_configs configs/misc/switch.conf 10.0.0.1 targets/10.0.0.1.json /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2593	+ local config_file=configs/misc/switch.conf
  2594	+ local target_pattern=10.0.0.1
  2595	+ local target_listing=targets/10.0.0.1.json
  2596	+ local json_output=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  2597	+ [[ ! -f configs/misc/switch.conf ]]
  2598	+ message '[DEBUG] Checking if config file exists and is readable: configs/misc/switch.conf'
  2599	+ [[ -n [DEBUG] Checking if config file exists and is readable: configs/misc/switch.conf ]]
  2600	+ local 'message=[DEBUG] Checking if config file exists and is readable: configs/misc/switch.conf'
  2601	+ print '[DEBUG] Checking if config file exists and is readable: configs/misc/switch.conf'
  2602	+ [[ -n [DEBUG] Checking if config file exists and is readable: configs/misc/switch.conf ]]
  2603	+ echo -en '[DEBUG] Checking if config file exists and is readable: configs/misc/switch.conf'
  2604	[DEBUG] Checking if config file exists and is readable: configs/misc/switch.conf+ newline
  2605	+ local count=1
  2606	+ (( i = 0 ))
  2607	+ (( i < count ))
  2608	+ echo
  2609
  2610	+ (( i++ ))
  2611	+ (( i < count ))
  2612	+ [[ ! -s configs/misc/switch.conf ]]
  2613	++ stat -c%s configs/misc/switch.conf
  2614	stat: illegal option -- c
  2615	usage: stat [-FLnq] [-f format | -l | -r | -s | -x] [-t timefmt] [file ...]
  2616	+ message '[OK] File '\''configs/misc/switch.conf'\'' is readable and size is  bytes'
  2617	+ [[ -n [OK] File 'configs/misc/switch.conf' is readable and size is  bytes ]]
  2618	+ local 'message=[OK] File '\''configs/misc/switch.conf'\'' is readable and size is  bytes'
  2619	+ print '[OK] File '\''configs/misc/switch.conf'\'' is readable and size is  bytes'
  2620	+ [[ -n [OK] File 'configs/misc/switch.conf' is readable and size is  bytes ]]
  2621	+ echo -en '[OK] File '\''configs/misc/switch.conf'\'' is readable and size is  bytes'
  2622	[OK] File 'configs/misc/switch.conf' is readable and size is  bytes+ newline
  2623	+ local count=1
  2624	+ (( i = 0 ))
  2625	+ (( i < count ))
  2626	+ echo
  2627
  2628	+ (( i++ ))
  2629	+ (( i < count ))
  2630	+ local 'imported_content=interface Vlan1
  2631	 ip address 172.31.255.254 255.255.255.0
  2632
  2633	interface Vlan2
  2634	 ip address 10.0.1.2 255.255.255.0
  2635
  2636	object-group network SOME-THING
  2637	  description Local Office Subnets
  2638	  network-object host 10.0.0.1
  2639	  network-object 192.168.12.0 255.255.255.0'
  2640	+ [[ true == true ]]
  2641	+ message 'Imported Content: interface Vlan1
  2642	 ip address 172.31.255.254 255.255.255.0
  2643
  2644	interface Vlan2
  2645	 ip address 10.0.1.2 255.255.255.0
  2646
  2647	object-group network SOME-THING
  2648	  description Local Office Subnets
  2649	  network-object host 10.0.0.1
  2650	  network-object 192.168.12.0 255.255.255.0'
  2651	+ [[ -n Imported Content: interface Vlan1
  2652	 ip address 172.31.255.254 255.255.255.0
  2653
  2654	interface Vlan2
  2655	 ip address 10.0.1.2 255.255.255.0
  2656
  2657	object-group network SOME-THING
  2658	  description Local Office Subnets
  2659	  network-object host 10.0.0.1
  2660	  network-object 192.168.12.0 255.255.255.0 ]]
  2661	+ local 'message=Imported Content: interface Vlan1
  2662	 ip address 172.31.255.254 255.255.255.0
  2663
  2664	interface Vlan2
  2665	 ip address 10.0.1.2 255.255.255.0
  2666
  2667	object-group network SOME-THING
  2668	  description Local Office Subnets
  2669	  network-object host 10.0.0.1
  2670	  network-object 192.168.12.0 255.255.255.0'
  2671	+ print 'Imported Content: interface Vlan1
  2672	 ip address 172.31.255.254 255.255.255.0
  2673
  2674	interface Vlan2
  2675	 ip address 10.0.1.2 255.255.255.0
  2676
  2677	object-group network SOME-THING
  2678	  description Local Office Subnets
  2679	  network-object host 10.0.0.1
  2680	  network-object 192.168.12.0 255.255.255.0'
  2681	+ [[ -n Imported Content: interface Vlan1
  2682	 ip address 172.31.255.254 255.255.255.0
  2683
  2684	interface Vlan2
  2685	 ip address 10.0.1.2 255.255.255.0
  2686
  2687	object-group network SOME-THING
  2688	  description Local Office Subnets
  2689	  network-object host 10.0.0.1
  2690	  network-object 192.168.12.0 255.255.255.0 ]]
  2691	+ echo -en 'Imported Content: interface Vlan1
  2692	 ip address 172.31.255.254 255.255.255.0
  2693
  2694	interface Vlan2
  2695	 ip address 10.0.1.2 255.255.255.0
  2696
  2697	object-group network SOME-THING
  2698	  description Local Office Subnets
  2699	  network-object host 10.0.0.1
  2700	  network-object 192.168.12.0 255.255.255.0'
  2701	Imported Content: interface Vlan1
  2702	 ip address 172.31.255.254 255.255.255.0
  2703
  2704	interface Vlan2
  2705	 ip address 10.0.1.2 255.255.255.0
  2706
  2707	object-group network SOME-THING
  2708	  description Local Office Subnets
  2709	  network-object host 10.0.0.1
  2710	  network-object 192.168.12.0 255.255.255.0+ newline
  2711	+ local count=1
  2712	+ (( i = 0 ))
  2713	+ (( i < count ))
  2714	+ echo
  2715
  2716	+ (( i++ ))
  2717	+ (( i < count ))
  2718	++ sed '/^\s*$/d;/^\s*!.*$/d'
  2719	+ local 'sanitized_content=interface Vlan1
  2720	 ip address 172.31.255.254 255.255.255.0
  2721	interface Vlan2
  2722	 ip address 10.0.1.2 255.255.255.0
  2723	object-group network SOME-THING
  2724	  description Local Office Subnets
  2725	  network-object host 10.0.0.1
  2726	  network-object 192.168.12.0 255.255.255.0'
  2727	+ [[ true == true ]]
  2728	+ message 'Sanitized Content: interface Vlan1
  2729	 ip address 172.31.255.254 255.255.255.0
  2730	interface Vlan2
  2731	 ip address 10.0.1.2 255.255.255.0
  2732	object-group network SOME-THING
  2733	  description Local Office Subnets
  2734	  network-object host 10.0.0.1
  2735	  network-object 192.168.12.0 255.255.255.0'
  2736	+ [[ -n Sanitized Content: interface Vlan1
  2737	 ip address 172.31.255.254 255.255.255.0
  2738	interface Vlan2
  2739	 ip address 10.0.1.2 255.255.255.0
  2740	object-group network SOME-THING
  2741	  description Local Office Subnets
  2742	  network-object host 10.0.0.1
  2743	  network-object 192.168.12.0 255.255.255.0 ]]
  2744	+ local 'message=Sanitized Content: interface Vlan1
  2745	 ip address 172.31.255.254 255.255.255.0
  2746	interface Vlan2
  2747	 ip address 10.0.1.2 255.255.255.0
  2748	object-group network SOME-THING
  2749	  description Local Office Subnets
  2750	  network-object host 10.0.0.1
  2751	  network-object 192.168.12.0 255.255.255.0'
  2752	+ print 'Sanitized Content: interface Vlan1
  2753	 ip address 172.31.255.254 255.255.255.0
  2754	interface Vlan2
  2755	 ip address 10.0.1.2 255.255.255.0
  2756	object-group network SOME-THING
  2757	  description Local Office Subnets
  2758	  network-object host 10.0.0.1
  2759	  network-object 192.168.12.0 255.255.255.0'
  2760	+ [[ -n Sanitized Content: interface Vlan1
  2761	 ip address 172.31.255.254 255.255.255.0
  2762	interface Vlan2
  2763	 ip address 10.0.1.2 255.255.255.0
  2764	object-group network SOME-THING
  2765	  description Local Office Subnets
  2766	  network-object host 10.0.0.1
  2767	  network-object 192.168.12.0 255.255.255.0 ]]
  2768	+ echo -en 'Sanitized Content: interface Vlan1
  2769	 ip address 172.31.255.254 255.255.255.0
  2770	interface Vlan2
  2771	 ip address 10.0.1.2 255.255.255.0
  2772	object-group network SOME-THING
  2773	  description Local Office Subnets
  2774	  network-object host 10.0.0.1
  2775	  network-object 192.168.12.0 255.255.255.0'
  2776	Sanitized Content: interface Vlan1
  2777	 ip address 172.31.255.254 255.255.255.0
  2778	interface Vlan2
  2779	 ip address 10.0.1.2 255.255.255.0
  2780	object-group network SOME-THING
  2781	  description Local Office Subnets
  2782	  network-object host 10.0.0.1
  2783	  network-object 192.168.12.0 255.255.255.0+ newline
  2784	+ local count=1
  2785	+ (( i = 0 ))
  2786	+ (( i < count ))
  2787	+ echo
  2788
  2789	+ (( i++ ))
  2790	+ (( i < count ))
  2791	++ perl -pe 's/\n/MTc0NzE3MTk3Mjg0NzQzNTAwMAo/g'
  2792	+ local 'serialized_objects=interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2793	+ [[ true == true ]]
  2794	+ message 'Serialized Objects: interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2795	+ [[ -n Serialized Objects: interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo ]]
  2796	+ local 'message=Serialized Objects: interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2797	+ print 'Serialized Objects: interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2798	+ [[ -n Serialized Objects: interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo ]]
  2799	+ echo -en 'Serialized Objects: interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2800	Serialized Objects: interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAointerface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAoobject-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo+ newline
  2801	+ local count=1
  2802	+ (( i = 0 ))
  2803	+ (( i < count ))
  2804	+ echo
  2805
  2806	+ (( i++ ))
  2807	+ (( i < count ))
  2808	++ sed -E 's/MTc0NzE3MTk3Mjg0NzQzNTAwMAo([^[:space:]])/\n\1/g'
  2809	+ local 'restored_lines=interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0
  2810	interface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0
  2811	object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2812	+ restored_lines+='
  2813	'
  2814	+ IFS='
  2815	'
  2816	+ read -r -d '' -a config_objects
  2817	++ printf '%s\0' 'interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0
  2818	interface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0
  2819	object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo
  2820	'
  2821	+ [[ true == true ]]
  2822	+ message 'Loaded 3 config blocks'
  2823	+ [[ -n Loaded 3 config blocks ]]
  2824	+ local 'message=Loaded 3 config blocks'
  2825	+ print 'Loaded 3 config blocks'
  2826	+ [[ -n Loaded 3 config blocks ]]
  2827	+ echo -en 'Loaded 3 config blocks'
  2828	Loaded 3 config blocks+ newline
  2829	+ local count=1
  2830	+ (( i = 0 ))
  2831	+ (( i < count ))
  2832	+ echo
  2833
  2834	+ (( i++ ))
  2835	+ (( i < count ))
  2836	+ oIFS='
  2837	'
  2838	+ IFS='
  2839	'
  2840	++ printf '%s\n' 'interface Vlan1MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 172.31.255.254 255.255.255.0' 'interface Vlan2MTc0NzE3MTk3Mjg0NzQzNTAwMAo ip address 10.0.1.2 255.255.255.0' 'object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2841	++ grep -E '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)'
  2842	+ matched_objects=('object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo')
  2843	+ declare -a matched_objects
  2844	+ IFS='
  2845	'
  2846	+ [[ true == true ]]
  2847	+ message 'Loaded 1 config blocks'
  2848	+ [[ -n Loaded 1 config blocks ]]
  2849	+ local 'message=Loaded 1 config blocks'
  2850	+ print 'Loaded 1 config blocks'
  2851	+ [[ -n Loaded 1 config blocks ]]
  2852	+ echo -en 'Loaded 1 config blocks'
  2853	Loaded 1 config blocks+ newline
  2854	+ local count=1
  2855	+ (( i = 0 ))
  2856	+ (( i < count ))
  2857	+ echo
  2858
  2859	+ (( i++ ))
  2860	+ (( i < count ))
  2861	+ restored_block=()
  2862	+ declare -a restored_block
  2863	+ for serialized_line in "${matched_objects[@]}"
  2864	+ [[ true == true ]]
  2865	+ message 'Serialized Line: object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2866	+ [[ -n Serialized Line: object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo ]]
  2867	+ local 'message=Serialized Line: object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2868	+ print 'Serialized Line: object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2869	+ [[ -n Serialized Line: object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo ]]
  2870	+ echo -en 'Serialized Line: object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo'
  2871	Serialized Line: object-group network SOME-THINGMTc0NzE3MTk3Mjg0NzQzNTAwMAo  description Local Office SubnetsMTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object host 10.0.0.1MTc0NzE3MTk3Mjg0NzQzNTAwMAo  network-object 192.168.12.0 255.255.255.0MTc0NzE3MTk3Mjg0NzQzNTAwMAo+ newline
  2872	+ local count=1
  2873	+ (( i = 0 ))
  2874	+ (( i < count ))
  2875	+ echo
  2876
  2877	+ (( i++ ))
  2878	+ (( i < count ))
  2879	++ perl -pe 's/MTc0NzE3MTk3Mjg0NzQzNTAwMAo/\n/g'
  2880	+ restored_block='object-group network SOME-THING
  2881	  description Local Office Subnets
  2882	  network-object host 10.0.0.1
  2883	  network-object 192.168.12.0 255.255.255.0'
  2884	+ [[ true == true ]]
  2885	+ message 'Restored Configuration:\nobject-group network SOME-THING
  2886	  description Local Office Subnets
  2887	  network-object host 10.0.0.1
  2888	  network-object 192.168.12.0 255.255.255.0'
  2889	+ [[ -n Restored Configuration:\nobject-group network SOME-THING
  2890	  description Local Office Subnets
  2891	  network-object host 10.0.0.1
  2892	  network-object 192.168.12.0 255.255.255.0 ]]
  2893	+ local 'message=Restored Configuration:\nobject-group network SOME-THING
  2894	  description Local Office Subnets
  2895	  network-object host 10.0.0.1
  2896	  network-object 192.168.12.0 255.255.255.0'
  2897	+ print 'Restored Configuration:\nobject-group network SOME-THING
  2898	  description Local Office Subnets
  2899	  network-object host 10.0.0.1
  2900	  network-object 192.168.12.0 255.255.255.0'
  2901	+ [[ -n Restored Configuration:\nobject-group network SOME-THING
  2902	  description Local Office Subnets
  2903	  network-object host 10.0.0.1
  2904	  network-object 192.168.12.0 255.255.255.0 ]]
  2905	+ echo -en 'Restored Configuration:\nobject-group network SOME-THING
  2906	  description Local Office Subnets
  2907	  network-object host 10.0.0.1
  2908	  network-object 192.168.12.0 255.255.255.0'
  2909	Restored Configuration:
  2910	object-group network SOME-THING
  2911	  description Local Office Subnets
  2912	  network-object host 10.0.0.1
  2913	  network-object 192.168.12.0 255.255.255.0+ newline
  2914	+ local count=1
  2915	+ (( i = 0 ))
  2916	+ (( i < count ))
  2917	+ echo
  2918
  2919	+ (( i++ ))
  2920	+ (( i < count ))
  2921	+ process_configs 10.0.0.1 configs/misc/switch.conf 'object-group network SOME-THING
  2922	  description Local Office Subnets
  2923	  network-object host 10.0.0.1
  2924	  network-object 192.168.12.0 255.255.255.0'
  2925	+ local target_pattern=10.0.0.1
  2926	+ local config_path=configs/misc/switch.conf
  2927	+ local 'restored_block=object-group network SOME-THING
  2928	  description Local Office Subnets
  2929	  network-object host 10.0.0.1
  2930	  network-object 192.168.12.0 255.255.255.0'
  2931	+ local cleaned_block
  2932	++ sed '/^[[:space:]]*$/d'
  2933	+ cleaned_block='object-group network SOME-THING
  2934	  description Local Office Subnets
  2935	  network-object host 10.0.0.1
  2936	  network-object 192.168.12.0 255.255.255.0'
  2937	+ [[ -z object-group network SOME-THING
  2938	  description Local Office Subnets
  2939	  network-object host 10.0.0.1
  2940	  network-object 192.168.12.0 255.255.255.0 ]]
  2941	+ [[ true == true ]]
  2942	+ message '[process_configs] Raw Block:\nobject-group network SOME-THING
  2943	  description Local Office Subnets
  2944	  network-object host 10.0.0.1
  2945	  network-object 192.168.12.0 255.255.255.0'
  2946	+ [[ -n [process_configs] Raw Block:\nobject-group network SOME-THING
  2947	  description Local Office Subnets
  2948	  network-object host 10.0.0.1
  2949	  network-object 192.168.12.0 255.255.255.0 ]]
  2950	+ local 'message=[process_configs] Raw Block:\nobject-group network SOME-THING
  2951	  description Local Office Subnets
  2952	  network-object host 10.0.0.1
  2953	  network-object 192.168.12.0 255.255.255.0'
  2954	+ print '[process_configs] Raw Block:\nobject-group network SOME-THING
  2955	  description Local Office Subnets
  2956	  network-object host 10.0.0.1
  2957	  network-object 192.168.12.0 255.255.255.0'
  2958	+ [[ -n [process_configs] Raw Block:\nobject-group network SOME-THING
  2959	  description Local Office Subnets
  2960	  network-object host 10.0.0.1
  2961	  network-object 192.168.12.0 255.255.255.0 ]]
  2962	+ echo -en '[process_configs] Raw Block:\nobject-group network SOME-THING
  2963	  description Local Office Subnets
  2964	  network-object host 10.0.0.1
  2965	  network-object 192.168.12.0 255.255.255.0'
  2966	[process_configs] Raw Block:
  2967	object-group network SOME-THING
  2968	  description Local Office Subnets
  2969	  network-object host 10.0.0.1
  2970	  network-object 192.168.12.0 255.255.255.0+ newline
  2971	+ local count=1
  2972	+ (( i = 0 ))
  2973	+ (( i < count ))
  2974	+ echo
  2975
  2976	+ (( i++ ))
  2977	+ (( i < count ))
  2978	+ local object_line
  2979	++ head -n 1
  2980	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  2981	+ object_line='object-group network SOME-THING'
  2982	+ [[ -z object-group network SOME-THING ]]
  2983	+ local object_keyword type_value
  2984	++ awk '{print $1}'
  2985	+ object_keyword=object-group
  2986	++ awk '{$1=""; print substr($0,2)}'
  2987	+ type_value='network SOME-THING'
  2988	+ [[ true == true ]]
  2989	+ print '[process_configs] object   : object-group'
  2990	+ [[ -n [process_configs] object   : object-group ]]
  2991	+ echo -en '[process_configs] object   : object-group'
  2992	[process_configs] object   : object-group+ print '[process_configs] type     : network SOME-THING'
  2993	+ [[ -n [process_configs] type     : network SOME-THING ]]
  2994	+ echo -en '[process_configs] type     : network SOME-THING'
  2995	[process_configs] type     : network SOME-THING+ entries=()
  2996	+ local -a entries
  2997	+ IFS=
  2998	+ read -r line
  2999	+ local trimmed
  3000	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  3001	+ trimmed='object-group network SOME-THING'
  3002	+ [[ -z object-group network SOME-THING ]]
  3003	+ [[ object-group network some-thing =~ ^description[[:space:]] ]]
  3004	+ entries+=("${trimmed}")
  3005	+ IFS=
  3006	+ read -r line
  3007	+ local trimmed
  3008	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  3009	+ trimmed='description Local Office Subnets'
  3010	+ [[ -z description Local Office Subnets ]]
  3011	+ [[ description local office subnets =~ ^description[[:space:]] ]]
  3012	+ continue
  3013	+ IFS=
  3014	+ read -r line
  3015	+ local trimmed
  3016	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  3017	+ trimmed='network-object host 10.0.0.1'
  3018	+ [[ -z network-object host 10.0.0.1 ]]
  3019	+ [[ network-object host 10.0.0.1 =~ ^description[[:space:]] ]]
  3020	+ entries+=("${trimmed}")
  3021	+ IFS=
  3022	+ read -r line
  3023	+ local trimmed
  3024	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  3025	+ trimmed='network-object 192.168.12.0 255.255.255.0'
  3026	+ [[ -z network-object 192.168.12.0 255.255.255.0 ]]
  3027	+ [[ network-object 192.168.12.0 255.255.255.0 =~ ^description[[:space:]] ]]
  3028	+ entries+=("${trimmed}")
  3029	+ IFS=
  3030	+ read -r line
  3031	+ ((  3 > 1  ))
  3032	+ entries=("${entries[@]:1}")
  3033	+ [[ true == true ]]
  3034	+ message '[process_configs] Entries:'
  3035	+ [[ -n [process_configs] Entries: ]]
  3036	+ local 'message=[process_configs] Entries:'
  3037	+ print '[process_configs] Entries:'
  3038	+ [[ -n [process_configs] Entries: ]]
  3039	+ echo -en '[process_configs] Entries:'
  3040	[process_configs] Entries:+ newline
  3041	+ local count=1
  3042	+ (( i = 0 ))
  3043	+ (( i < count ))
  3044	+ echo
  3045
  3046	+ (( i++ ))
  3047	+ (( i < count ))
  3048	+ for e in "${entries[@]}"
  3049	+ print '  - network-object host 10.0.0.1'
  3050	+ [[ -n   - network-object host 10.0.0.1 ]]
  3051	+ echo -en '  - network-object host 10.0.0.1'
  3052	  - network-object host 10.0.0.1+ for e in "${entries[@]}"
  3053	+ print '  - network-object 192.168.12.0 255.255.255.0'
  3054	+ [[ -n   - network-object 192.168.12.0 255.255.255.0 ]]
  3055	+ echo -en '  - network-object 192.168.12.0 255.255.255.0'
  3056	  - network-object 192.168.12.0 255.255.255.0+ local matched_line
  3057	++ grep -E '(^|[^0-9.])10\.0\.0\.1([^0-9.]|$)'
  3058	++ head -n 1
  3059	++ sed -E 's/^[[:space:]]*//;s/[[:space:]]*$//'
  3060	+ matched_line='network-object host 10.0.0.1'
  3061	+ [[ -z network-object host 10.0.0.1 ]]
  3062	+ [[ true == true ]]
  3063	+ message '[process_configs] Matched: network-object host 10.0.0.1'
  3064	+ [[ -n [process_configs] Matched: network-object host 10.0.0.1 ]]
  3065	+ local 'message=[process_configs] Matched: network-object host 10.0.0.1'
  3066	+ print '[process_configs] Matched: network-object host 10.0.0.1'
  3067	+ [[ -n [process_configs] Matched: network-object host 10.0.0.1 ]]
  3068	+ echo -en '[process_configs] Matched: network-object host 10.0.0.1'
  3069	[process_configs] Matched: network-object host 10.0.0.1+ newline
  3070	+ local count=1
  3071	+ (( i = 0 ))
  3072	+ (( i < count ))
  3073	+ echo
  3074
  3075	+ (( i++ ))
  3076	+ (( i < count ))
  3077	+ local desc_val=false
  3078	+ [[ -z false ]]
  3079	+ [[ true == true ]]
  3080	+ message '[process_configs] Description: false'
  3081	+ [[ -n [process_configs] Description: false ]]
  3082	+ local 'message=[process_configs] Description: false'
  3083	+ print '[process_configs] Description: false'
  3084	+ [[ -n [process_configs] Description: false ]]
  3085	+ echo -en '[process_configs] Description: false'
  3086	[process_configs] Description: false+ newline
  3087	+ local count=1
  3088	+ (( i = 0 ))
  3089	+ (( i < count ))
  3090	+ echo
  3091
  3092	+ (( i++ ))
  3093	+ (( i < count ))
  3094	+ local group_val=Unclassified
  3095	+ [[ true == true ]]
  3096	+ local object_key
  3097	++ awk '{print $NF}'
  3098	++ sed -E 's/[[:punct:]]*$//'
  3099	+ object_key=SOME-THING
  3100	++ jq -r --arg key SOME-THING 'map(select(.match[]? | contains($key))) | .[0].group'
  3101	+ group_val='Identified Matching Entries'
  3102	+ [[ -z Identified Matching Entries ]]
  3103	+ [[ Identified Matching Entries == \n\u\l\l ]]
  3104	+ [[ -z Identified Matching Entries ]]
  3105	+ [[ Identified Matching Entries == \n\u\l\l ]]
  3106	+ [[ true == true ]]
  3107	+ message '[process_configs] Group: Identified Matching Entries'
  3108	+ [[ -n [process_configs] Group: Identified Matching Entries ]]
  3109	+ local 'message=[process_configs] Group: Identified Matching Entries'
  3110	+ print '[process_configs] Group: Identified Matching Entries'
  3111	+ [[ -n [process_configs] Group: Identified Matching Entries ]]
  3112	+ echo -en '[process_configs] Group: Identified Matching Entries'
  3113	[process_configs] Group: Identified Matching Entries+ newline
  3114	+ local count=1
  3115	+ (( i = 0 ))
  3116	+ (( i < count ))
  3117	+ echo
  3118
  3119	+ (( i++ ))
  3120	+ (( i < count ))
  3121	++ printf '%s\n' 'network-object host 10.0.0.1' 'network-object 192.168.12.0 255.255.255.0'
  3122	++ jq -R .
  3123	++ jq -s .
  3124	+ local 'entries_2json=[
  3125	  "network-object host 10.0.0.1",
  3126	  "network-object 192.168.12.0 255.255.255.0"
  3127	]'
  3128	+ [[ 2 -eq 1 ]]
  3129	++ jq -n --arg object object-group --arg type 'network SOME-THING' --arg description false --argjson entries '[
  3130	  "network-object host 10.0.0.1",
  3131	  "network-object 192.168.12.0 255.255.255.0"
  3132	]' --arg group 'Identified Matching Entries' '{
  3133	                  object: $object,
  3134	                  type: $type,
  3135	                  description: ($description | select(. != "" and . != "null") // false),
  3136	                  entries: $entries,
  3137	                  group: $group
  3138	                }'
  3139	+ target_object='{
  3140	  "object": "object-group",
  3141	  "type": "network SOME-THING",
  3142	  "description": "false",
  3143	  "entries": [
  3144	    "network-object host 10.0.0.1",
  3145	    "network-object 192.168.12.0 255.255.255.0"
  3146	  ],
  3147	  "group": "Identified Matching Entries"
  3148	}'
  3149	+ export target_object
  3150	+ [[ true == true ]]
  3151	+ message '[process_configs] JSON Object (output):'
  3152	+ [[ -n [process_configs] JSON Object (output): ]]
  3153	+ local 'message=[process_configs] JSON Object (output):'
  3154	+ print '[process_configs] JSON Object (output):'
  3155	+ [[ -n [process_configs] JSON Object (output): ]]
  3156	+ echo -en '[process_configs] JSON Object (output):'
  3157	[process_configs] JSON Object (output):+ newline
  3158	+ local count=1
  3159	+ (( i = 0 ))
  3160	+ (( i < count ))
  3161	+ echo
  3162
  3163	+ (( i++ ))
  3164	+ (( i < count ))
  3165	+ print '{
  3166	  "object": "object-group",
  3167	  "type": "network SOME-THING",
  3168	  "description": "false",
  3169	  "entries": [
  3170	    "network-object host 10.0.0.1",
  3171	    "network-object 192.168.12.0 255.255.255.0"
  3172	  ],
  3173	  "group": "Identified Matching Entries"
  3174	}'
  3175	+ jq .
  3176	+ [[ -n {
  3177	  "object": "object-group",
  3178	  "type": "network SOME-THING",
  3179	  "description": "false",
  3180	  "entries": [
  3181	    "network-object host 10.0.0.1",
  3182	    "network-object 192.168.12.0 255.255.255.0"
  3183	  ],
  3184	  "group": "Identified Matching Entries"
  3185	} ]]
  3186	+ echo -en '{
  3187	  "object": "object-group",
  3188	  "type": "network SOME-THING",
  3189	  "description": "false",
  3190	  "entries": [
  3191	    "network-object host 10.0.0.1",
  3192	    "network-object 192.168.12.0 255.255.255.0"
  3193	  ],
  3194	  "group": "Identified Matching Entries"
  3195	}'
  3196	{
  3197	  "object": "object-group",
  3198	  "type": "network SOME-THING",
  3199	  "description": "false",
  3200	  "entries": [
  3201	    "network-object host 10.0.0.1",
  3202	    "network-object 192.168.12.0 255.255.255.0"
  3203	  ],
  3204	  "group": "Identified Matching Entries"
  3205	}
  3206	+ newline
  3207	+ local count=1
  3208	+ (( i = 0 ))
  3209	+ (( i < count ))
  3210	+ echo
  3211
  3212	+ (( i++ ))
  3213	+ (( i < count ))
  3214	+ return 0
  3215	+ [[ -n {
  3216	  "object": "object-group",
  3217	  "type": "network SOME-THING",
  3218	  "description": "false",
  3219	  "entries": [
  3220	    "network-object host 10.0.0.1",
  3221	    "network-object 192.168.12.0 255.255.255.0"
  3222	  ],
  3223	  "group": "Identified Matching Entries"
  3224	} ]]
  3225	+ [[ true == true ]]
  3226	+ message '|-----> Target Objects: {
  3227	  "object": "object-group",
  3228	  "type": "network SOME-THING",
  3229	  "description": "false",
  3230	  "entries": [
  3231	    "network-object host 10.0.0.1",
  3232	    "network-object 192.168.12.0 255.255.255.0"
  3233	  ],
  3234	  "group": "Identified Matching Entries"
  3235	}'
  3236	+ [[ -n |-----> Target Objects: {
  3237	  "object": "object-group",
  3238	  "type": "network SOME-THING",
  3239	  "description": "false",
  3240	  "entries": [
  3241	    "network-object host 10.0.0.1",
  3242	    "network-object 192.168.12.0 255.255.255.0"
  3243	  ],
  3244	  "group": "Identified Matching Entries"
  3245	} ]]
  3246	+ local 'message=|-----> Target Objects: {
  3247	  "object": "object-group",
  3248	  "type": "network SOME-THING",
  3249	  "description": "false",
  3250	  "entries": [
  3251	    "network-object host 10.0.0.1",
  3252	    "network-object 192.168.12.0 255.255.255.0"
  3253	  ],
  3254	  "group": "Identified Matching Entries"
  3255	}'
  3256	+ print '|-----> Target Objects: {
  3257	  "object": "object-group",
  3258	  "type": "network SOME-THING",
  3259	  "description": "false",
  3260	  "entries": [
  3261	    "network-object host 10.0.0.1",
  3262	    "network-object 192.168.12.0 255.255.255.0"
  3263	  ],
  3264	  "group": "Identified Matching Entries"
  3265	}'
  3266	+ [[ -n |-----> Target Objects: {
  3267	  "object": "object-group",
  3268	  "type": "network SOME-THING",
  3269	  "description": "false",
  3270	  "entries": [
  3271	    "network-object host 10.0.0.1",
  3272	    "network-object 192.168.12.0 255.255.255.0"
  3273	  ],
  3274	  "group": "Identified Matching Entries"
  3275	} ]]
  3276	+ echo -en '|-----> Target Objects: {
  3277	  "object": "object-group",
  3278	  "type": "network SOME-THING",
  3279	  "description": "false",
  3280	  "entries": [
  3281	    "network-object host 10.0.0.1",
  3282	    "network-object 192.168.12.0 255.255.255.0"
  3283	  ],
  3284	  "group": "Identified Matching Entries"
  3285	}'
  3286	|-----> Target Objects: {
  3287	  "object": "object-group",
  3288	  "type": "network SOME-THING",
  3289	  "description": "false",
  3290	  "entries": [
  3291	    "network-object host 10.0.0.1",
  3292	    "network-object 192.168.12.0 255.255.255.0"
  3293	  ],
  3294	  "group": "Identified Matching Entries"
  3295	}+ newline
  3296	+ local count=1
  3297	+ (( i = 0 ))
  3298	+ (( i < count ))
  3299	+ echo
  3300
  3301	+ (( i++ ))
  3302	+ (( i < count ))
  3303	+ [[ -n {
  3304	  "object": "object-group",
  3305	  "type": "network SOME-THING",
  3306	  "description": "false",
  3307	  "entries": [
  3308	    "network-object host 10.0.0.1",
  3309	    "network-object 192.168.12.0 255.255.255.0"
  3310	  ],
  3311	  "group": "Identified Matching Entries"
  3312	} ]]
  3313	++ printf '%s\n' '{
  3314	  "object": "object-group",
  3315	  "type": "network SOME-THING",
  3316	  "description": "false",
  3317	  "entries": [
  3318	    "network-object host 10.0.0.1",
  3319	    "network-object 192.168.12.0 255.255.255.0"
  3320	  ],
  3321	  "group": "Identified Matching Entries"
  3322	}'
  3323	++ jq -s --arg site configs/misc --arg device switch.conf '{
  3324	              config: {
  3325	                site: ($site | gsub("^.*/"; "")),
  3326	                device: $device
  3327	              },
  3328	              objects: .
  3329	            }'
  3330	+ wrapped_block='{
  3331	  "config": {
  3332	    "site": "misc",
  3333	    "device": "switch.conf"
  3334	  },
  3335	  "objects": [
  3336	    {
  3337	      "object": "object-group",
  3338	      "type": "network SOME-THING",
  3339	      "description": "false",
  3340	      "entries": [
  3341	        "network-object host 10.0.0.1",
  3342	        "network-object 192.168.12.0 255.255.255.0"
  3343	      ],
  3344	      "group": "Identified Matching Entries"
  3345	    }
  3346	  ]
  3347	}'
  3348	+ [[ true == true ]]
  3349	+ message '|-----> Config Objects:\n{
  3350	  "config": {
  3351	    "site": "misc",
  3352	    "device": "switch.conf"
  3353	  },
  3354	  "objects": [
  3355	    {
  3356	      "object": "object-group",
  3357	      "type": "network SOME-THING",
  3358	      "description": "false",
  3359	      "entries": [
  3360	        "network-object host 10.0.0.1",
  3361	        "network-object 192.168.12.0 255.255.255.0"
  3362	      ],
  3363	      "group": "Identified Matching Entries"
  3364	    }
  3365	  ]
  3366	}'
  3367	+ [[ -n |-----> Config Objects:\n{
  3368	  "config": {
  3369	    "site": "misc",
  3370	    "device": "switch.conf"
  3371	  },
  3372	  "objects": [
  3373	    {
  3374	      "object": "object-group",
  3375	      "type": "network SOME-THING",
  3376	      "description": "false",
  3377	      "entries": [
  3378	        "network-object host 10.0.0.1",
  3379	        "network-object 192.168.12.0 255.255.255.0"
  3380	      ],
  3381	      "group": "Identified Matching Entries"
  3382	    }
  3383	  ]
  3384	} ]]
  3385	+ local 'message=|-----> Config Objects:\n{
  3386	  "config": {
  3387	    "site": "misc",
  3388	    "device": "switch.conf"
  3389	  },
  3390	  "objects": [
  3391	    {
  3392	      "object": "object-group",
  3393	      "type": "network SOME-THING",
  3394	      "description": "false",
  3395	      "entries": [
  3396	        "network-object host 10.0.0.1",
  3397	        "network-object 192.168.12.0 255.255.255.0"
  3398	      ],
  3399	      "group": "Identified Matching Entries"
  3400	    }
  3401	  ]
  3402	}'
  3403	+ print '|-----> Config Objects:\n{
  3404	  "config": {
  3405	    "site": "misc",
  3406	    "device": "switch.conf"
  3407	  },
  3408	  "objects": [
  3409	    {
  3410	      "object": "object-group",
  3411	      "type": "network SOME-THING",
  3412	      "description": "false",
  3413	      "entries": [
  3414	        "network-object host 10.0.0.1",
  3415	        "network-object 192.168.12.0 255.255.255.0"
  3416	      ],
  3417	      "group": "Identified Matching Entries"
  3418	    }
  3419	  ]
  3420	}'
  3421	+ [[ -n |-----> Config Objects:\n{
  3422	  "config": {
  3423	    "site": "misc",
  3424	    "device": "switch.conf"
  3425	  },
  3426	  "objects": [
  3427	    {
  3428	      "object": "object-group",
  3429	      "type": "network SOME-THING",
  3430	      "description": "false",
  3431	      "entries": [
  3432	        "network-object host 10.0.0.1",
  3433	        "network-object 192.168.12.0 255.255.255.0"
  3434	      ],
  3435	      "group": "Identified Matching Entries"
  3436	    }
  3437	  ]
  3438	} ]]
  3439	+ echo -en '|-----> Config Objects:\n{
  3440	  "config": {
  3441	    "site": "misc",
  3442	    "device": "switch.conf"
  3443	  },
  3444	  "objects": [
  3445	    {
  3446	      "object": "object-group",
  3447	      "type": "network SOME-THING",
  3448	      "description": "false",
  3449	      "entries": [
  3450	        "network-object host 10.0.0.1",
  3451	        "network-object 192.168.12.0 255.255.255.0"
  3452	      ],
  3453	      "group": "Identified Matching Entries"
  3454	    }
  3455	  ]
  3456	}'
  3457	|-----> Config Objects:
  3458	{
  3459	  "config": {
  3460	    "site": "misc",
  3461	    "device": "switch.conf"
  3462	  },
  3463	  "objects": [
  3464	    {
  3465	      "object": "object-group",
  3466	      "type": "network SOME-THING",
  3467	      "description": "false",
  3468	      "entries": [
  3469	        "network-object host 10.0.0.1",
  3470	        "network-object 192.168.12.0 255.255.255.0"
  3471	      ],
  3472	      "group": "Identified Matching Entries"
  3473	    }
  3474	  ]
  3475	}+ newline
  3476	+ local count=1
  3477	+ (( i = 0 ))
  3478	+ (( i < count ))
  3479	+ echo
  3480
  3481	+ (( i++ ))
  3482	+ (( i < count ))
  3483	+ print '{
  3484	  "config": {
  3485	    "site": "misc",
  3486	    "device": "switch.conf"
  3487	  },
  3488	  "objects": [
  3489	    {
  3490	      "object": "object-group",
  3491	      "type": "network SOME-THING",
  3492	      "description": "false",
  3493	      "entries": [
  3494	        "network-object host 10.0.0.1",
  3495	        "network-object 192.168.12.0 255.255.255.0"
  3496	      ],
  3497	      "group": "Identified Matching Entries"
  3498	    }
  3499	  ]
  3500	}'
  3501	+ [[ -n {
  3502	  "config": {
  3503	    "site": "misc",
  3504	    "device": "switch.conf"
  3505	  },
  3506	  "objects": [
  3507	    {
  3508	      "object": "object-group",
  3509	      "type": "network SOME-THING",
  3510	      "description": "false",
  3511	      "entries": [
  3512	        "network-object host 10.0.0.1",
  3513	        "network-object 192.168.12.0 255.255.255.0"
  3514	      ],
  3515	      "group": "Identified Matching Entries"
  3516	    }
  3517	  ]
  3518	} ]]
  3519	+ echo -en '{
  3520	  "config": {
  3521	    "site": "misc",
  3522	    "device": "switch.conf"
  3523	  },
  3524	  "objects": [
  3525	    {
  3526	      "object": "object-group",
  3527	      "type": "network SOME-THING",
  3528	      "description": "false",
  3529	      "entries": [
  3530	        "network-object host 10.0.0.1",
  3531	        "network-object 192.168.12.0 255.255.255.0"
  3532	      ],
  3533	      "group": "Identified Matching Entries"
  3534	    }
  3535	  ]
  3536	}'
  3537	+ [[ true == true ]]
  3538	+ print_file /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3539	+ [[ -n /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  3540	+ local target_file=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3541	+ [[ true == true ]]
  3542	+ [[ -f /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  3543	+ list_file /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3544	+ [[ -n /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  3545	+ local target_file=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3546	+ [[ true == true ]]
  3547	+ [[ -f /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  3548	++ basename /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3549	+ local base=fragments.json
  3550	++ dirname /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3551	+ local parent=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  3552	+ local 'format=File: fragments.json
  3553	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  3554	Size: %z bytes
  3555	Blocks/Inode: %b / %i
  3556	Mode: %Sp
  3557	UID/GID: %u / %g
  3558	Access: %Sa
  3559	Modify: %Sm
  3560	Change: %Sc
  3561	'
  3562	+ stat -f 'File: fragments.json
  3563	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  3564	Size: %z bytes
  3565	Blocks/Inode: %b / %i
  3566	Mode: %Sp
  3567	UID/GID: %u / %g
  3568	Access: %Sa
  3569	Modify: %Sm
  3570	Change: %Sc
  3571	' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3572	File: fragments.json
  3573	Parent: /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1
  3574	Size: 1070 bytes
  3575	Blocks/Inode: 8 / 236555235
  3576	Mode: -rw-r--r--
  3577	UID/GID: 501 / 20
  3578	Access: May 13 14:32:53 2025
  3579	Modify: May 13 14:32:53 2025
  3580	Change: May 13 14:32:53 2025
  3581	+ newline
  3582	+ local count=1
  3583	+ (( i = 0 ))
  3584	+ (( i < count ))
  3585	+ echo
  3586
  3587	+ (( i++ ))
  3588	+ (( i < count ))
  3589	+ return 0
  3590	+ case "${target_file}" in
  3591	+ jq . /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3592	{
  3593	  "config": {
  3594	    "site": "cisco",
  3595	    "device": "fw1.cfg"
  3596	  },
  3597	  "objects": [
  3598	    {
  3599	      "object": "object-group",
  3600	      "type": "network BU1-NETWORK",
  3601	      "description": "false",
  3602	      "entries": [
  3603	        "network-object host 10.0.0.1",
  3604	        "network-object host 10.0.1.2",
  3605	        "network-object 192.168.1.0 255.255.255.0"
  3606	      ],
  3607	      "group": "Identified Matching Entries"
  3608	    }
  3609	  ]
  3610	}
  3611	{
  3612	  "config": {
  3613	    "site": "cisco",
  3614	    "device": "fw1.cfg"
  3615	  },
  3616	  "objects": [
  3617	    {
  3618	      "object": "access-list",
  3619	      "type": false,
  3620	      "description": "false",
  3621	      "entries": [
  3622	        "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  3623	      ],
  3624	      "group": "Unclassified"
  3625	    }
  3626	  ]
  3627	}
  3628	{
  3629	  "config": {
  3630	    "site": "misc",
  3631	    "device": "switch.conf"
  3632	  },
  3633	  "objects": [
  3634	    {
  3635	      "object": "object-group",
  3636	      "type": "network SOME-THING",
  3637	      "description": "false",
  3638	      "entries": [
  3639	        "network-object host 10.0.0.1",
  3640	        "network-object 192.168.12.0 255.255.255.0"
  3641	      ],
  3642	      "group": "Identified Matching Entries"
  3643	    }
  3644	  ]
  3645	}
  3646	+ newline
  3647	+ local count=1
  3648	+ (( i = 0 ))
  3649	+ (( i < count ))
  3650	+ echo
  3651
  3652	+ (( i++ ))
  3653	+ (( i < count ))
  3654	+ return 0
  3655	+ return 0
  3656	+ export json_outfile=reports/json/10.0.0.1.json
  3657	+ json_outfile=reports/json/10.0.0.1.json
  3658	+ [[ -s /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json ]]
  3659	+ jq -s --arg target 10.0.0.1 '{ target: $target, configs: . }' /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1/fragments.json
  3660	+ print_file reports/json/10.0.0.1.json
  3661	+ [[ -n reports/json/10.0.0.1.json ]]
  3662	+ local target_file=reports/json/10.0.0.1.json
  3663	+ [[ true == true ]]
  3664	+ [[ -f reports/json/10.0.0.1.json ]]
  3665	+ list_file reports/json/10.0.0.1.json
  3666	+ [[ -n reports/json/10.0.0.1.json ]]
  3667	+ local target_file=reports/json/10.0.0.1.json
  3668	+ [[ true == true ]]
  3669	+ [[ -f reports/json/10.0.0.1.json ]]
  3670	++ basename reports/json/10.0.0.1.json
  3671	+ local base=10.0.0.1.json
  3672	++ dirname reports/json/10.0.0.1.json
  3673	+ local parent=reports/json
  3674	+ local 'format=File: 10.0.0.1.json
  3675	Parent: reports/json
  3676	Size: %z bytes
  3677	Blocks/Inode: %b / %i
  3678	Mode: %Sp
  3679	UID/GID: %u / %g
  3680	Access: %Sa
  3681	Modify: %Sm
  3682	Change: %Sc
  3683	'
  3684	+ stat -f 'File: 10.0.0.1.json
  3685	Parent: reports/json
  3686	Size: %z bytes
  3687	Blocks/Inode: %b / %i
  3688	Mode: %Sp
  3689	UID/GID: %u / %g
  3690	Access: %Sa
  3691	Modify: %Sm
  3692	Change: %Sc
  3693	' reports/json/10.0.0.1.json
  3694	File: 10.0.0.1.json
  3695	Parent: reports/json
  3696	Size: 1338 bytes
  3697	Blocks/Inode: 8 / 236555240
  3698	Mode: -rw-r--r--
  3699	UID/GID: 501 / 20
  3700	Access: May 13 14:32:53 2025
  3701	Modify: May 13 14:32:53 2025
  3702	Change: May 13 14:32:53 2025
  3703	+ newline
  3704	+ local count=1
  3705	+ (( i = 0 ))
  3706	+ (( i < count ))
  3707	+ echo
  3708
  3709	+ (( i++ ))
  3710	+ (( i < count ))
  3711	+ return 0
  3712	+ case "${target_file}" in
  3713	+ jq . reports/json/10.0.0.1.json
  3714	{
  3715	  "target": "10.0.0.1",
  3716	  "configs": [
  3717	    {
  3718	      "config": {
  3719	        "site": "cisco",
  3720	        "device": "fw1.cfg"
  3721	      },
  3722	      "objects": [
  3723	        {
  3724	          "object": "object-group",
  3725	          "type": "network BU1-NETWORK",
  3726	          "description": "false",
  3727	          "entries": [
  3728	            "network-object host 10.0.0.1",
  3729	            "network-object host 10.0.1.2",
  3730	            "network-object 192.168.1.0 255.255.255.0"
  3731	          ],
  3732	          "group": "Identified Matching Entries"
  3733	        }
  3734	      ]
  3735	    },
  3736	    {
  3737	      "config": {
  3738	        "site": "cisco",
  3739	        "device": "fw1.cfg"
  3740	      },
  3741	      "objects": [
  3742	        {
  3743	          "object": "access-list",
  3744	          "type": false,
  3745	          "description": "false",
  3746	          "entries": [
  3747	            "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
  3748	          ],
  3749	          "group": "Unclassified"
  3750	        }
  3751	      ]
  3752	    },
  3753	    {
  3754	      "config": {
  3755	        "site": "misc",
  3756	        "device": "switch.conf"
  3757	      },
  3758	      "objects": [
  3759	        {
  3760	          "object": "object-group",
  3761	          "type": "network SOME-THING",
  3762	          "description": "false",
  3763	          "entries": [
  3764	            "network-object host 10.0.0.1",
  3765	            "network-object 192.168.12.0 255.255.255.0"
  3766	          ],
  3767	          "group": "Identified Matching Entries"
  3768	        }
  3769	      ]
  3770	    }
  3771	  ]
  3772	}
  3773	+ newline
  3774	+ local count=1
  3775	+ (( i = 0 ))
  3776	+ (( i < count ))
  3777	+ echo
  3778
  3779	+ (( i++ ))
  3780	+ (( i < count ))
  3781	+ return 0
  3782	+ return 0
  3783	+ unset verbose debug
  3784	+ [[ -d /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1 ]]
  3785	+ rm -rf /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.OudgWiWIY1

{
  "target": "10.0.0.1",
  "configs": [
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "objects": [
        {
          "object": "object-group",
          "type": "network BU1-NETWORK",
          "description": "false",
          "entries": [
            "network-object host 10.0.0.1",
            "network-object host 10.0.1.2",
            "network-object 192.168.1.0 255.255.255.0"
          ],
          "group": "Identified Matching Entries"
        }
      ]
    },
    {
      "config": {
        "site": "cisco",
        "device": "fw1.cfg"
      },
      "objects": [
        {
          "object": "access-list",
          "type": false,
          "description": "false",
          "entries": [
            "access-list OUTSIDE extended permit ip host 10.0.0.1 any"
          ],
          "group": "Unclassified"
        }
      ]
    },
    {
      "config": {
        "site": "misc",
        "device": "switch.conf"
      },
      "objects": [
        {
          "object": "object-group",
          "type": "network SOME-THING",
          "description": "false",
          "entries": [
            "network-object host 10.0.0.1",
            "network-object 192.168.12.0 255.255.255.0"
          ],
          "group": "Identified Matching Entries"
        }
      ]
    }
  ]
}
