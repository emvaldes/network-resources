$ bash -x ./scripts/network-configs.shell \
          --ips-list=ips.list \
          --search="branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg" \
          --location=./configs \
          --verbose;

          devops: network-resources (master *$%=) $ bash -x ./scripts/network-configs.shell \
          --ips-list=ips.list \
          --search="branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg" \
          --location=./configs \
          --verbose;
+ set -euo pipefail
+ export LC_ALL=C
+ LC_ALL=C
++ mktemp -d
+ export TMP_DIR=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.gB4EApNpOS
+ TMP_DIR=/var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.gB4EApNpOS
+ trap '[[ -d "${TMP_DIR}" ]] && rm -rf "${TMP_DIR}"' EXIT
+ export 'nl=\n'
+ nl='\n'
+ alias display-help=display_help
+ alias new-line=newline
+ alias print-message=message
+ alias error-message=error_message
+ alias detect-vendor=detect_vendor
+ alias parse-cisco=main
+ [[ -z '' ]]
+ export script_name=./scripts/network-configs.shell
+ script_name=./scripts/network-configs.shell
+ [[ 4 -ge 1 ]]
+ [[ --ips-list=ips.list =~ ^-*(h|help)$ ]]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ main --ips-list=ips.list --search=branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg --location=./configs --verbose
+ oIFS=' 	
'
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --ips-list=ips.list
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ ips-list =~ ^(ips-list|i)$ ]]
+ local target_addresses=ips.list
+ [[ ips-list =~ ^(config|c)$ ]]
+ [[ ips-list =~ ^(search|s)$ ]]
+ [[ ips-list =~ ^(location|l)$ ]]
+ [[ ips-list =~ ^(output|o)$ ]]
+ [[ ips-list == \h\e\l\p ]]
+ [[ ips-list == \d\e\b\u\g ]]
+ [[ ips-list == \d\r\y\-\r\u\n ]]
+ [[ ips-list == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --search=branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ search =~ ^(ips-list|i)$ ]]
+ [[ search =~ ^(config|c)$ ]]
+ [[ search =~ ^(search|s)$ ]]
+ local search_configs=branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg
+ [[ search =~ ^(location|l)$ ]]
+ [[ search =~ ^(output|o)$ ]]
+ [[ search == \h\e\l\p ]]
+ [[ search == \d\e\b\u\g ]]
+ [[ search == \d\r\y\-\r\u\n ]]
+ [[ search == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --location=./configs
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ location =~ ^(ips-list|i)$ ]]
+ [[ location =~ ^(config|c)$ ]]
+ [[ location =~ ^(search|s)$ ]]
+ [[ location =~ ^(location|l)$ ]]
+ local search_location=./configs
+ [[ location =~ ^(output|o)$ ]]
+ [[ location == \h\e\l\p ]]
+ [[ location == \d\e\b\u\g ]]
+ [[ location == \d\r\y\-\r\u\n ]]
+ [[ location == \v\e\r\b\o\s\e ]]
+ for xitem in "${@}"
+ IFS==
+ read -r key value
++ echo -e --verbose
++ sed -e '1s|^\(-\)\{1,\}||'
+ [[ verbose =~ ^(ips-list|i)$ ]]
+ [[ verbose =~ ^(config|c)$ ]]
+ [[ verbose =~ ^(search|s)$ ]]
+ [[ verbose =~ ^(location|l)$ ]]
+ [[ verbose =~ ^(output|o)$ ]]
+ [[ verbose == \h\e\l\p ]]
+ [[ verbose == \d\e\b\u\g ]]
+ [[ verbose == \d\r\y\-\r\u\n ]]
+ [[ verbose == \v\e\r\b\o\s\e ]]
+ local verbose=true
+ IFS=' 	
'
+ [[ -z '' ]]
+ local script_helper=false
+ [[ -z '' ]]
+ export output_config=./resources
+ output_config=./resources
+ [[ ./resources =~ ^(/|\./?$|)$ ]]
+ [[ ! -d ./resources ]]
+ rm -rf ./resources/configs
+ [[ -z '' ]]
+ debug=false
+ [[ -z '' ]]
+ dry_run=false
+ [[ -z true ]]
+ [[ false == true ]]
+ configs_listing=()
+ declare -a configs_listing
+ local action_class=unknown
+ [[ -n '' ]]
+ [[ -z ./configs ]]
+ [[ -z ips.list ]]
+ target_addresses_source=()
+ declare -a target_addresses_source
+ [[ -f ips.list ]]
+ mapfile -t target_addresses_source
++ tr -d '\r'
++ tr ' \t,;:|' '\n'
++ grep -v '^\s*$'
++ sort -t . -k1,1n -k2,2n -k3,3n -k4,4n -u
+ [[ true == true ]]
+ message 'Loaded (default) IPs addresses (count): 17'
+ [[ -n Loaded (default) IPs addresses (count): 17 ]]
+ local 'message=Loaded (default) IPs addresses (count): 17'
+ echo -e 'Loaded (default) IPs addresses (count): 17'
Loaded (default) IPs addresses (count): 17
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for ip in "${target_addresses_source[@]}"
+ message '  - 10.0.0.1'
+ [[ -n   - 10.0.0.1 ]]
+ local 'message=  - 10.0.0.1'
+ echo -e '  - 10.0.0.1'
  - 10.0.0.1
+ for ip in "${target_addresses_source[@]}"
+ message '  - 10.0.1.2'
+ [[ -n   - 10.0.1.2 ]]
+ local 'message=  - 10.0.1.2'
+ echo -e '  - 10.0.1.2'
  - 10.0.1.2
+ for ip in "${target_addresses_source[@]}"
+ message '  - 10.0.2.3'
+ [[ -n   - 10.0.2.3 ]]
+ local 'message=  - 10.0.2.3'
+ echo -e '  - 10.0.2.3'
  - 10.0.2.3
+ for ip in "${target_addresses_source[@]}"
+ message '  - 10.10.10.10'
+ [[ -n   - 10.10.10.10 ]]
+ local 'message=  - 10.10.10.10'
+ echo -e '  - 10.10.10.10'
  - 10.10.10.10
+ for ip in "${target_addresses_source[@]}"
+ message '  - 172.16.0.5'
+ [[ -n   - 172.16.0.5 ]]
+ local 'message=  - 172.16.0.5'
+ echo -e '  - 172.16.0.5'
  - 172.16.0.5
+ for ip in "${target_addresses_source[@]}"
+ message '  - 172.16.1.6'
+ [[ -n   - 172.16.1.6 ]]
+ local 'message=  - 172.16.1.6'
+ echo -e '  - 172.16.1.6'
  - 172.16.1.6
+ for ip in "${target_addresses_source[@]}"
+ message '  - 172.18.1.20'
+ [[ -n   - 172.18.1.20 ]]
+ local 'message=  - 172.18.1.20'
+ echo -e '  - 172.18.1.20'
  - 172.18.1.20
+ for ip in "${target_addresses_source[@]}"
+ message '  - 172.31.255.254'
+ [[ -n   - 172.31.255.254 ]]
+ local 'message=  - 172.31.255.254'
+ echo -e '  - 172.31.255.254'
  - 172.31.255.254
+ for ip in "${target_addresses_source[@]}"
+ message '  - 192.0.2.50'
+ [[ -n   - 192.0.2.50 ]]
+ local 'message=  - 192.0.2.50'
+ echo -e '  - 192.0.2.50'
  - 192.0.2.50
+ for ip in "${target_addresses_source[@]}"
+ message '  - 192.168.0.1'
+ [[ -n   - 192.168.0.1 ]]
+ local 'message=  - 192.168.0.1'
+ echo -e '  - 192.168.0.1'
  - 192.168.0.1
+ for ip in "${target_addresses_source[@]}"
+ message '  - 192.168.0.100'
+ [[ -n   - 192.168.0.100 ]]
+ local 'message=  - 192.168.0.100'
+ echo -e '  - 192.168.0.100'
  - 192.168.0.100
+ for ip in "${target_addresses_source[@]}"
+ message '  - 192.168.1.10'
+ [[ -n   - 192.168.1.10 ]]
+ local 'message=  - 192.168.1.10'
+ echo -e '  - 192.168.1.10'
  - 192.168.1.10
+ for ip in "${target_addresses_source[@]}"
+ message '  - 192.168.1.11'
+ [[ -n   - 192.168.1.11 ]]
+ local 'message=  - 192.168.1.11'
+ echo -e '  - 192.168.1.11'
  - 192.168.1.11
+ for ip in "${target_addresses_source[@]}"
+ message '  - 192.168.2.12'
+ [[ -n   - 192.168.2.12 ]]
+ local 'message=  - 192.168.2.12'
+ echo -e '  - 192.168.2.12'
  - 192.168.2.12
+ for ip in "${target_addresses_source[@]}"
+ message '  - 192.168.100.100'
+ [[ -n   - 192.168.100.100 ]]
+ local 'message=  - 192.168.100.100'
+ echo -e '  - 192.168.100.100'
  - 192.168.100.100
+ for ip in "${target_addresses_source[@]}"
+ message '  - 198.51.100.75'
+ [[ -n   - 198.51.100.75 ]]
+ local 'message=  - 198.51.100.75'
+ echo -e '  - 198.51.100.75'
  - 198.51.100.75
+ for ip in "${target_addresses_source[@]}"
+ message '  - 203.0.113.25'
+ [[ -n   - 203.0.113.25 ]]
+ local 'message=  - 203.0.113.25'
+ echo -e '  - 203.0.113.25'
  - 203.0.113.25
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
++ IFS=,
++ echo -e 10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25
+ target_addresses=10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25
+ [[ true == true ]]
+ message 'Search Pattern: [ 10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 ]'
+ [[ -n Search Pattern: [ 10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 ] ]]
+ local 'message=Search Pattern: [ 10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 ]'
+ echo -e 'Search Pattern: [ 10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 ]'
Search Pattern: [ 10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 ]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ [[ -n branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg ]]
+ IFS=,
+ read -r -a search_items
+ found_configs=()
+ declare -a found_configs
+ for item in "${search_items[@]}"
++ find ./configs -type f -name branch-isr-02.cfg
+ result=./configs/cisco/branch-isr-02.cfg
+ [[ -n ./configs/cisco/branch-isr-02.cfg ]]
+ found_configs+=("${result}")
+ for item in "${search_items[@]}"
++ find ./configs -type f -name fg-lab-test-fw.cfg
+ result=./configs/fortinet/fg-lab-test-fw.cfg
+ [[ -n ./configs/fortinet/fg-lab-test-fw.cfg ]]
+ found_configs+=("${result}")
+ for item in "${search_items[@]}"
++ find ./configs -type f -name edge-router-01.cfg
+ result=
+ [[ -n '' ]]
+ [[ 2 -gt 0 ]]
+ configs_listing=("${found_configs[@]}")
+ action_class=search
+ [[ 2 -eq 0 ]]
+ [[ -n branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg ]]
+ IFS=,
+ read -r -a search_patterns
+ matched_configs=()
+ declare -a matched_configs
+ for config in "${configs_listing[@]}"
+ for pattern in "${search_patterns[@]}"
+ grep -qF 10.0.0.1 ./configs/cisco/branch-isr-02.cfg
+ for pattern in "${search_patterns[@]}"
+ grep -qF 10.0.1.2 ./configs/cisco/branch-isr-02.cfg
+ for pattern in "${search_patterns[@]}"
+ grep -qF 10.0.2.3 ./configs/cisco/branch-isr-02.cfg
+ matched_configs+=("${config}")
+ break
+ for config in "${configs_listing[@]}"
+ for pattern in "${search_patterns[@]}"
+ grep -qF 10.0.0.1 ./configs/fortinet/fg-lab-test-fw.cfg
+ matched_configs+=("${config}")
+ break
+ [[ 2 -gt 0 ]]
+ configs_listing=("${matched_configs[@]}")
+ [[ true == true ]]
+ message 'Matching IPs found in 2 files:'
+ [[ -n Matching IPs found in 2 files: ]]
+ local 'message=Matching IPs found in 2 files:'
+ echo -e 'Matching IPs found in 2 files:'
Matching IPs found in 2 files:
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for item in "${matched_configs[@]}"
+ message '  - ./configs/cisco/branch-isr-02.cfg'
+ [[ -n   - ./configs/cisco/branch-isr-02.cfg ]]
+ local 'message=  - ./configs/cisco/branch-isr-02.cfg'
+ echo -e '  - ./configs/cisco/branch-isr-02.cfg'
  - ./configs/cisco/branch-isr-02.cfg
+ for item in "${matched_configs[@]}"
+ message '  - ./configs/fortinet/fg-lab-test-fw.cfg'
+ [[ -n   - ./configs/fortinet/fg-lab-test-fw.cfg ]]
+ local 'message=  - ./configs/fortinet/fg-lab-test-fw.cfg'
+ echo -e '  - ./configs/fortinet/fg-lab-test-fw.cfg'
  - ./configs/fortinet/fg-lab-test-fw.cfg
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ [[ 2 -eq 0 ]]
+ for target_config in "${configs_listing[@]}"
+ [[ ! -f ./configs/cisco/branch-isr-02.cfg ]]
+ set +e
+ detect_vendor ./configs/cisco/branch-isr-02.cfg
+ local config_file=./configs/cisco/branch-isr-02.cfg
+ local 'fortinet_pattern=fortinet|fortigate'
+ local 'cisco_pattern=\basa\b|cisco ios|cisco adaptive|^interface\b|^object\b'
+ grep -qiE 'fortinet|fortigate' ./configs/cisco/branch-isr-02.cfg
+ grep -qiE '\basa\b|cisco ios|cisco adaptive|^interface\b|^object\b' ./configs/cisco/branch-isr-02.cfg
+ return 2
+ local vendor_code=2
+ set -e
+ case "${vendor_code}" in
+ target_platform=cisco
+ [[ true == true ]]
+ message 'Parsing [ cisco ] configs (by: search): '
+ [[ -n Parsing [ cisco ] configs (by: search):  ]]
+ local 'message=Parsing [ cisco ] configs (by: search): '
+ echo -e 'Parsing [ cisco ] configs (by: search): '
Parsing [ cisco ] configs (by: search): 
+ [[ -n ./resources ]]
+ base_output=./resources
++ echo -e ./configs/cisco/branch-isr-02.cfg
++ sed 's|^\./||'
+ rel_path=configs/cisco/branch-isr-02.cfg
+ target_output=./resources/configs/cisco/branch-isr-02.cfg
+ execute=('./scripts/extract-configs.shell' '--ips-list=10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25' '--config=./configs/cisco/branch-isr-02.cfg' '--output=./resources/configs/cisco/branch-isr-02.cfg')
+ declare -a execute
+ [[ true == true ]]
+ execute+=(--verbose)
++ which bash
+ /usr/local/bin/bash ./scripts/extract-configs.shell --ips-list=10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 --config=./configs/cisco/branch-isr-02.cfg --output=./resources/configs/cisco/branch-isr-02.cfg --verbose
+ [[ true == true ]]
+ message 'Configuration File [ ./resources/configs/cisco/branch-isr-02.cfg ]'
+ [[ -n Configuration File [ ./resources/configs/cisco/branch-isr-02.cfg ] ]]
+ local 'message=Configuration File [ ./resources/configs/cisco/branch-isr-02.cfg ]'
+ echo -e 'Configuration File [ ./resources/configs/cisco/branch-isr-02.cfg ]'
Configuration File [ ./resources/configs/cisco/branch-isr-02.cfg ]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ cat -n ./resources/configs/cisco/branch-isr-02.cfg
     1	hostname branch-isr-02
     2	
     3	interface GigabitEthernet0/0/0
     4	 ip address 172.16.1.6 255.255.255.0
     5	 description ISP uplink
     6	
     7	interface GigabitEthernet0/0/1
     8	 ip address 192.168.2.12 255.255.255.0
     9	 description Workstation LAN
    10	
    11	interface GigabitEthernet0/0/2
    12	 ip address 10.0.2.3 255.255.255.0
    13	 description Dev VLAN
    14	
    15	object network BlackWidow-Core
    16	 host 172.16.1.6
    17	 description Branch router uplink NAT
    18	
    19	object network Hydra-Link
    20	 host 198.51.100.75
    21	 description Branch NAT egress
    22	
    23	object-group network Hydra-Edge
    24	 description Remote site uplink
    25	 network-object host 192.168.2.12
    26	 network-object host 198.51.100.75
    27	
    28	object network Panther-Gateway
    29	 host 10.0.2.3
    30	 description Secure outbound concentrator
    31	
    32	object-group network Lantern-DMZ
    33	 description Protected but public-facing zone
    34	 network-object host 172.18.1.20
    35	 network-object host 192.168.1.11
    36	
    37	access-list OUTSIDE extended permit ip host 10.0.2.3 any
    38	
    39	access-list OUTSIDE extended permit ip any host 172.16.1.6
    40	
    41	access-list OUTSIDE extended permit ip any host 198.51.100.75
    42	
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ for target_config in "${configs_listing[@]}"
+ [[ ! -f ./configs/fortinet/fg-lab-test-fw.cfg ]]
+ set +e
+ detect_vendor ./configs/fortinet/fg-lab-test-fw.cfg
+ local config_file=./configs/fortinet/fg-lab-test-fw.cfg
+ local 'fortinet_pattern=fortinet|fortigate'
+ local 'cisco_pattern=\basa\b|cisco ios|cisco adaptive|^interface\b|^object\b'
+ grep -qiE 'fortinet|fortigate' ./configs/fortinet/fg-lab-test-fw.cfg
+ return 1
+ local vendor_code=1
+ set -e
+ case "${vendor_code}" in
+ target_platform=fortinet
+ [[ true == true ]]
+ message 'Parsing [ fortinet ] configs (by: search): '
+ [[ -n Parsing [ fortinet ] configs (by: search):  ]]
+ local 'message=Parsing [ fortinet ] configs (by: search): '
+ echo -e 'Parsing [ fortinet ] configs (by: search): '
Parsing [ fortinet ] configs (by: search): 
+ [[ -n ./resources ]]
+ base_output=./resources
++ echo -e ./configs/fortinet/fg-lab-test-fw.cfg
++ sed 's|^\./||'
+ rel_path=configs/fortinet/fg-lab-test-fw.cfg
+ target_output=./resources/configs/fortinet/fg-lab-test-fw.cfg
+ execute=('./scripts/extract-configs.shell' '--ips-list=10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25' '--config=./configs/fortinet/fg-lab-test-fw.cfg' '--output=./resources/configs/fortinet/fg-lab-test-fw.cfg')
+ declare -a execute
+ [[ true == true ]]
+ execute+=(--verbose)
++ which bash
+ /usr/local/bin/bash ./scripts/extract-configs.shell --ips-list=10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 --config=./configs/fortinet/fg-lab-test-fw.cfg --output=./resources/configs/fortinet/fg-lab-test-fw.cfg --verbose
+ [[ true == true ]]
+ message 'Configuration File [ ./resources/configs/fortinet/fg-lab-test-fw.cfg ]'
+ [[ -n Configuration File [ ./resources/configs/fortinet/fg-lab-test-fw.cfg ] ]]
+ local 'message=Configuration File [ ./resources/configs/fortinet/fg-lab-test-fw.cfg ]'
+ echo -e 'Configuration File [ ./resources/configs/fortinet/fg-lab-test-fw.cfg ]'
Configuration File [ ./resources/configs/fortinet/fg-lab-test-fw.cfg ]
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ cat -n ./resources/configs/fortinet/fg-lab-test-fw.cfg
     1	#hostname="fg-lab-test-fw"
     2	#model="FortiGate-40F"
     3	
     4	config system interface
     5	 edit "lab"
     6	  set ip 10.0.2.3 255.255.255.0
     7	 next
     8	end
     9	
    10	config firewall address
    11	 edit "Phantom-Node"
    12	  set subnet 10.0.2.3 255.255.255.255
    13	  set comment "Lab test VM"
    14	 next
    15	end
    16	
    17	config system interface
    18	 edit "wan1"
    19	  set ip 198.51.100.75 255.255.255.0
    20	  set alias "Branch ISP"
    21	 next
    22	 edit "internal"
    23	  set ip 192.168.2.12 255.255.255.0
    24	  set alias "User LAN"
    25	 next
    26	end
    27	
    28	config firewall address
    29	 edit "Branch-Gateway"
    30	  set subnet 192.168.2.12 255.255.255.255
    31	  set comment "Primary LAN gateway"
    32	 next
    33	 edit "Branch-Public"
    34	  set subnet 198.51.100.75 255.255.255.255
    35	  set comment "Branch NAT"
    36	 next
    37	end
    38	
    39	config firewall address
    40	 edit "IronMan-HQ"
    41	  set subnet 10.0.0.1 255.255.255.255
    42	  set comment "Main node at Stark Tower"
    43	 next
    44	 edit "Spidey-Sandbox"
    45	  set subnet 10.0.1.2 255.255.255.255
    46	  set comment "QA node in Peter's Lab"
    47	 next
    48	 edit "Panther-Vault"
    49	  set subnet 192.168.1.10 255.255.255.255
    50	  set comment "Wakandan data store"
    51	 next
    52	 edit "Public-Test"
    53	  set subnet 203.0.113.25 255.255.255.255
    54	  set comment "Public NAT exposure for Red Skull trap"
    55	 next
    56	 edit "Guardians-Relay"
    57	  set subnet 192.168.0.1 255.255.255.255
    58	  set comment "Backup uplink for Milano crew"
    59	 next
    60	end
    61	
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ tree ./resources
./resources
`-- configs
    |-- cisco
    |   `-- branch-isr-02.cfg
    `-- fortinet
        `-- fg-lab-test-fw.cfg

4 directories, 2 files
+ newline
+ local count=1
+ (( i = 0 ))
+ (( i < count ))
+ echo

+ (( i++ ))
+ (( i < count ))
+ return 0
+ result=0
+ exit 0
+ [[ -d /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.gB4EApNpOS ]]
+ rm -rf /var/folders/vp/4k9xy96d7zx8lhmgrr4khsj80000gn/T/tmp.gB4EApNpOS

$ bash ./scripts/network-configs.shell \
       --ips-list=ips.list \
       --search="branch-isr-02.cfg,fg-lab-test-fw.cfg,edge-router-01.cfg" \
       --location=./configs \
       --verbose;

Loaded (default) IPs addresses (count): 17

  - 10.0.0.1
  - 10.0.1.2
  - 10.0.2.3
  - 10.10.10.10
  - 172.16.0.5
  - 172.16.1.6
  - 172.18.1.20
  - 172.31.255.254
  - 192.0.2.50
  - 192.168.0.1
  - 192.168.0.100
  - 192.168.1.10
  - 192.168.1.11
  - 192.168.2.12
  - 192.168.100.100
  - 198.51.100.75
  - 203.0.113.25

Search Pattern: [ 10.0.0.1,10.0.1.2,10.0.2.3,10.10.10.10,172.16.0.5,172.16.1.6,172.18.1.20,172.31.255.254,192.0.2.50,192.168.0.1,192.168.0.100,192.168.1.10,192.168.1.11,192.168.2.12,192.168.100.100,198.51.100.75,203.0.113.25 ]

Matching IPs found in 2 files:

  - ./configs/cisco/branch-isr-02.cfg
  - ./configs/fortinet/fg-lab-test-fw.cfg

Parsing [ cisco ] configs (by: search): 
Configuration File [ ./resources/configs/cisco/branch-isr-02.cfg ]

     1	hostname branch-isr-02
     2	
     3	interface GigabitEthernet0/0/0
     4	 ip address 172.16.1.6 255.255.255.0
     5	 description ISP uplink
     6	
     7	interface GigabitEthernet0/0/1
     8	 ip address 192.168.2.12 255.255.255.0
     9	 description Workstation LAN
    10	
    11	interface GigabitEthernet0/0/2
    12	 ip address 10.0.2.3 255.255.255.0
    13	 description Dev VLAN
    14	
    15	object network BlackWidow-Core
    16	 host 172.16.1.6
    17	 description Branch router uplink NAT
    18	
    19	object network Hydra-Link
    20	 host 198.51.100.75
    21	 description Branch NAT egress
    22	
    23	object-group network Hydra-Edge
    24	 description Remote site uplink
    25	 network-object host 192.168.2.12
    26	 network-object host 198.51.100.75
    27	
    28	object network Panther-Gateway
    29	 host 10.0.2.3
    30	 description Secure outbound concentrator
    31	
    32	object-group network Lantern-DMZ
    33	 description Protected but public-facing zone
    34	 network-object host 172.18.1.20
    35	 network-object host 192.168.1.11
    36	
    37	access-list OUTSIDE extended permit ip host 10.0.2.3 any
    38	
    39	access-list OUTSIDE extended permit ip any host 172.16.1.6
    40	
    41	access-list OUTSIDE extended permit ip any host 198.51.100.75
    42	

Parsing [ fortinet ] configs (by: search): 
Configuration File [ ./resources/configs/fortinet/fg-lab-test-fw.cfg ]

     1	#hostname="fg-lab-test-fw"
     2	#model="FortiGate-40F"
     3	
     4	config system interface
     5	 edit "lab"
     6	  set ip 10.0.2.3 255.255.255.0
     7	 next
     8	end
     9	
    10	config firewall address
    11	 edit "Phantom-Node"
    12	  set subnet 10.0.2.3 255.255.255.255
    13	  set comment "Lab test VM"
    14	 next
    15	end
    16	
    17	config system interface
    18	 edit "wan1"
    19	  set ip 198.51.100.75 255.255.255.0
    20	  set alias "Branch ISP"
    21	 next
    22	 edit "internal"
    23	  set ip 192.168.2.12 255.255.255.0
    24	  set alias "User LAN"
    25	 next
    26	end
    27	
    28	config firewall address
    29	 edit "Branch-Gateway"
    30	  set subnet 192.168.2.12 255.255.255.255
    31	  set comment "Primary LAN gateway"
    32	 next
    33	 edit "Branch-Public"
    34	  set subnet 198.51.100.75 255.255.255.255
    35	  set comment "Branch NAT"
    36	 next
    37	end
    38	
    39	config firewall address
    40	 edit "IronMan-HQ"
    41	  set subnet 10.0.0.1 255.255.255.255
    42	  set comment "Main node at Stark Tower"
    43	 next
    44	 edit "Spidey-Sandbox"
    45	  set subnet 10.0.1.2 255.255.255.255
    46	  set comment "QA node in Peter's Lab"
    47	 next
    48	 edit "Panther-Vault"
    49	  set subnet 192.168.1.10 255.255.255.255
    50	  set comment "Wakandan data store"
    51	 next
    52	 edit "Public-Test"
    53	  set subnet 203.0.113.25 255.255.255.255
    54	  set comment "Public NAT exposure for Red Skull trap"
    55	 next
    56	 edit "Guardians-Relay"
    57	  set subnet 192.168.0.1 255.255.255.255
    58	  set comment "Backup uplink for Milano crew"
    59	 next
    60	end
    61	

./resources
`-- configs
    |-- cisco
    |   `-- branch-isr-02.cfg
    `-- fortinet
        `-- fg-lab-test-fw.cfg

4 directories, 2 files
